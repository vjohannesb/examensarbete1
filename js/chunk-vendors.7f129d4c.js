(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00b4":function(t,e,n){"use strict";n("ac1f");var s=n("23e7"),i=n("da84"),r=n("c65b"),o=n("e330"),a=n("1626"),c=n("861d"),u=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),l=i.Error,h=o(/./.test);s({target:"RegExp",proto:!0,forced:!u},{test:function(t){var e=this.exec;if(!a(e))return h(this,t);var n=r(e,this,t);if(null!==n&&!c(n))throw new l("RegExp exec method returned something other than an Object or null");return!!n}})},"00ee":function(t,e,n){var s=n("b622"),i=s("toStringTag"),r={};r[i]="z",t.exports="[object z]"===String(r)},"01b4":function(t,e){var n=function(){this.head=null,this.tail=null};n.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=n},"0366":function(t,e,n){var s=n("e330"),i=n("59ed"),r=n("40d5"),o=s(s.bind);t.exports=function(t,e){return i(t),void 0===e?t:r?o(t,e):function(){return t.apply(e,arguments)}}},"04d1":function(t,e,n){(function(t,s){s(e,n("278c"),n("970b"),n("5bc3"))})(0,(function(t,e,n,s){"use strict";function i(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var r=i(e),o=i(n),a=i(s),c=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},u=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},l=function(t,e){return{startTime:e,type:"setValue",value:t}},h=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},p=function(t,e,n){var s=n.startTime,i=n.target,r=n.timeConstant;return i+(e-i)*Math.exp((s-t)/r)},d=function(t){return"exponentialRampToValue"===t.type},f=function(t){return"linearRampToValue"===t.type},m=function(t){return d(t)||f(t)},_=function(t){return"setValue"===t.type},g=function(t){return"setValueCurve"===t.type},v=function t(e,n,s,i){var r=e[n];return void 0===r?i:m(r)||_(r)?r.value:g(r)?r.values[r.values.length-1]:p(s,t(e,n-1,r.startTime,i),r)},y=function(t,e,n,s,i){return void 0===n?[s.insertTime,i]:m(n)?[n.endTime,n.value]:_(n)?[n.startTime,n.value]:g(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,v(t,e-1,n.startTime,i)]},b=function(t){return"cancelAndHold"===t.type},x=function(t){return"cancelScheduledValues"===t.type},w=function(t){return b(t)||x(t)?t.cancelTime:d(t)||f(t)?t.endTime:t.startTime},T=function(t,e,n,s){var i=s.endTime,r=s.value;return n===r?r:0<n&&0<r||n<0&&r<0?n*Math.pow(r/n,(t-e)/(i-e)):0},S=function(t,e,n,s){var i=s.endTime,r=s.value;return n+(t-e)/(i-e)*(r-n)},O=function(t,e){var n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]},k=function(t,e){var n=e.duration,s=e.startTime,i=e.values,r=(t-s)/n*(i.length-1);return O(i,r)},C=function(t){return"setTarget"===t.type},A=function(t){function e(t){o["default"](this,e),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}return a["default"](e,[{key:t,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=w(t);if(b(t)||x(t)){var n=this._automationEvents.findIndex((function(n){return x(t)&&g(n)?n.startTime+n.duration>=e:w(n)>=e})),s=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),b(t)){var i=this._automationEvents[this._automationEvents.length-1];if(void 0!==s&&m(s)){if(C(i))throw new Error("The internal list is malformed.");var r=g(i)?i.startTime+i.duration:w(i),o=g(i)?i.values[i.values.length-1]:i.value,a=d(s)?T(e,r,o,s):S(e,r,o,s),p=d(s)?c(a,e,this._currenTime):u(a,e,this._currenTime);this._automationEvents.push(p)}void 0!==i&&C(i)&&this._automationEvents.push(l(this.getValue(e),e)),void 0!==i&&g(i)&&i.startTime+i.duration>e&&(this._automationEvents[this._automationEvents.length-1]=h(new Float32Array([6,7]),i.startTime,e-i.startTime))}}else{var _=this._automationEvents.findIndex((function(t){return w(t)>e})),v=-1===_?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[_-1];if(void 0!==v&&g(v)&&w(v)+v.duration>e)return!1;var y=d(t)?c(t.value,t.endTime,this._currenTime):f(t)?u(t.value,e,this._currenTime):t;if(-1===_)this._automationEvents.push(y);else{if(g(t)&&e+t.duration>w(this._automationEvents[_]))return!1;this._automationEvents.splice(_,0,y)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return w(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),s=n[0];C(s)&&n.unshift(l(v(this._automationEvents,e-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var e=this._automationEvents.findIndex((function(e){return w(e)>t})),n=this._automationEvents[e],s=(-1===e?this._automationEvents.length:e)-1,i=this._automationEvents[s];if(void 0!==i&&C(i)&&(void 0===n||!m(n)||n.insertTime>t))return p(t,v(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(void 0!==i&&_(i)&&(void 0===n||!m(n)))return i.value;if(void 0!==i&&g(i)&&(void 0===n||!m(n)||i.startTime+i.duration>t))return t<i.startTime+i.duration?k(t,i):i.values[i.values.length-1];if(void 0!==i&&m(i)&&(void 0===n||!m(n)))return i.value;if(void 0!==n&&d(n)){var o=y(this._automationEvents,s,i,n,this._defaultValue),a=r["default"](o,2),c=a[0],u=a[1];return T(t,c,u,n)}if(void 0!==n&&f(n)){var l=y(this._automationEvents,s,i,n,this._defaultValue),h=r["default"](l,2),b=h[0],x=h[1];return S(t,b,x,n)}return this._defaultValue}}]),e}(Symbol.iterator),D=function(t){return{cancelTime:t,type:"cancelAndHold"}},E=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},M=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},j=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},R=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}};t.AutomationEventList=A,t.createCancelAndHoldAutomationEvent=D,t.createCancelScheduledValuesAutomationEvent=E,t.createExponentialRampToValueAutomationEvent=M,t.createLinearRampToValueAutomationEvent=j,t.createSetTargetAutomationEvent=R,t.createSetValueAutomationEvent=l,t.createSetValueCurveAutomationEvent=h,Object.defineProperty(t,"__esModule",{value:!0})}))},"057f":function(t,e,n){var s=n("c6b6"),i=n("fc6a"),r=n("241c").f,o=n("4dae"),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return r(t)}catch(e){return o(a)}};t.exports.f=function(t){return a&&"Window"==s(t)?c(t):r(i(t))}},"06cf":function(t,e,n){var s=n("83ab"),i=n("c65b"),r=n("d1e7"),o=n("5c6c"),a=n("fc6a"),c=n("a04b"),u=n("1a2d"),l=n("0cfb"),h=Object.getOwnPropertyDescriptor;e.f=s?h:function(t,e){if(t=a(t),e=c(e),l)try{return h(t,e)}catch(n){}if(u(t,e))return o(!i(r.f,t,e),t[e])}},"07fa":function(t,e,n){var s=n("50c4");t.exports=function(t){return s(t.length)}},"0b42":function(t,e,n){var s=n("da84"),i=n("e8b5"),r=n("68ee"),o=n("861d"),a=n("b622"),c=a("species"),u=s.Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,r(e)&&(e===u||i(e.prototype))?e=void 0:o(e)&&(e=e[c],null===e&&(e=void 0))),void 0===e?u:e}},"0cfb":function(t,e,n){var s=n("83ab"),i=n("d039"),r=n("cc12");t.exports=!s&&!i((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},"0d51":function(t,e,n){var s=n("da84"),i=s.String;t.exports=function(t){try{return i(t)}catch(e){return"Object"}}},"107c":function(t,e,n){var s=n("d039"),i=n("da84"),r=i.RegExp;t.exports=s((function(){var t=r("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},1148:function(t,e,n){"use strict";var s=n("da84"),i=n("5926"),r=n("577e"),o=n("1d80"),a=s.RangeError;t.exports=function(t){var e=r(o(this)),n="",s=i(t);if(s<0||s==1/0)throw a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(n+=e);return n}},1626:function(t,e){t.exports=function(t){return"function"==typeof t}},"19aa":function(t,e,n){var s=n("da84"),i=n("3a9b"),r=s.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw r("Incorrect invocation")}},"1a2d":function(t,e,n){var s=n("e330"),i=n("7b0b"),r=s({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return r(i(t),e)}},"1be4":function(t,e,n){var s=n("d066");t.exports=s("document","documentElement")},"1c7e":function(t,e,n){var s=n("b622"),i=s("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var s={};s[i]=function(){return{next:function(){return{done:n=!0}}}},t(s)}catch(c){}return n}},"1cdc":function(t,e,n){var s=n("342f");t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},"1d80":function(t,e,n){var s=n("da84"),i=s.TypeError;t.exports=function(t){if(void 0==t)throw i("Can't call method on "+t);return t}},"1da1":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("d3b7");function s(t,e,n,s,i,r,o){try{var a=t[r](o),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(s,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){s(o,i,r,a,c,"next",t)}function c(t){s(o,i,r,a,c,"throw",t)}a(void 0)}))}}},"1dde":function(t,e,n){var s=n("d039"),i=n("b622"),r=n("2d00"),o=i("species");t.exports=function(t){return r>=51||!s((function(){var e=[],n=e.constructor={};return n[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2266:function(t,e,n){var s=n("da84"),i=n("0366"),r=n("c65b"),o=n("825a"),a=n("0d51"),c=n("e95a"),u=n("07fa"),l=n("3a9b"),h=n("9a1f"),p=n("35a1"),d=n("2a62"),f=s.TypeError,m=function(t,e){this.stopped=t,this.result=e},_=m.prototype;t.exports=function(t,e,n){var s,g,v,y,b,x,w,T=n&&n.that,S=!(!n||!n.AS_ENTRIES),O=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),C=i(e,T),A=function(t){return s&&d(s,"normal",t),new m(!0,t)},D=function(t){return S?(o(t),k?C(t[0],t[1],A):C(t[0],t[1])):k?C(t,A):C(t)};if(O)s=t;else{if(g=p(t),!g)throw f(a(t)+" is not iterable");if(c(g)){for(v=0,y=u(t);y>v;v++)if(b=D(t[v]),b&&l(_,b))return b;return new m(!1)}s=h(t,g)}x=s.next;while(!(w=r(x,s)).done){try{b=D(w.value)}catch(E){d(s,"throw",E)}if("object"==typeof b&&b&&l(_,b))return b}return new m(!1)}},"23cb":function(t,e,n){var s=n("5926"),i=Math.max,r=Math.min;t.exports=function(t,e){var n=s(t);return n<0?i(n+e,0):r(n,e)}},"23e7":function(t,e,n){var s=n("da84"),i=n("06cf").f,r=n("9112"),o=n("6eeb"),a=n("ce4e"),c=n("e893"),u=n("94ca");t.exports=function(t,e){var n,l,h,p,d,f,m=t.target,_=t.global,g=t.stat;if(l=_?s:g?s[m]||a(m,{}):(s[m]||{}).prototype,l)for(h in e){if(d=e[h],t.noTargetGet?(f=i(l,h),p=f&&f.value):p=l[h],n=u(_?h:m+(g?".":"#")+h,t.forced),!n&&void 0!==p){if(typeof d==typeof p)continue;c(d,p)}(t.sham||p&&p.sham)&&r(d,"sham",!0),o(l,h,d,t)}}},"241c":function(t,e,n){var s=n("ca84"),i=n("7839"),r=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return s(t,r)}},2532:function(t,e,n){"use strict";var s=n("23e7"),i=n("e330"),r=n("5a34"),o=n("1d80"),a=n("577e"),c=n("ab13"),u=i("".indexOf);s({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~u(a(o(this)),a(r(t)),arguments.length>1?arguments[1]:void 0)}})},2626:function(t,e,n){"use strict";var s=n("d066"),i=n("9bf2"),r=n("b622"),o=n("83ab"),a=r("species");t.exports=function(t){var e=s(t),n=i.f;o&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},"278c":function(t,e,n){var s=n("c135"),i=n("9b42"),r=n("6613"),o=n("c240");function a(t,e){return s(t)||i(t,e)||r(t,e)||o()}t.exports=a,t.exports.__esModule=!0,t.exports["default"]=t.exports},"2a62":function(t,e,n){var s=n("c65b"),i=n("825a"),r=n("dc4a");t.exports=function(t,e,n){var o,a;i(t);try{if(o=r(t,"return"),!o){if("throw"===e)throw n;return n}o=s(o,t)}catch(c){a=!0,o=c}if("throw"===e)throw n;if(a)throw o;return i(o),n}},"2ba4":function(t,e,n){var s=n("40d5"),i=Function.prototype,r=i.apply,o=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(s?o.bind(r):function(){return o.apply(r,arguments)})},"2cf4":function(t,e,n){var s,i,r,o,a=n("da84"),c=n("2ba4"),u=n("0366"),l=n("1626"),h=n("1a2d"),p=n("d039"),d=n("1be4"),f=n("f36a"),m=n("cc12"),_=n("1cdc"),g=n("605d"),v=a.setImmediate,y=a.clearImmediate,b=a.process,x=a.Dispatch,w=a.Function,T=a.MessageChannel,S=a.String,O=0,k={},C="onreadystatechange";try{s=a.location}catch(j){}var A=function(t){if(h(k,t)){var e=k[t];delete k[t],e()}},D=function(t){return function(){A(t)}},E=function(t){A(t.data)},M=function(t){a.postMessage(S(t),s.protocol+"//"+s.host)};v&&y||(v=function(t){var e=f(arguments,1);return k[++O]=function(){c(l(t)?t:w(t),void 0,e)},i(O),O},y=function(t){delete k[t]},g?i=function(t){b.nextTick(D(t))}:x&&x.now?i=function(t){x.now(D(t))}:T&&!_?(r=new T,o=r.port2,r.port1.onmessage=E,i=u(o.postMessage,o)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&s&&"file:"!==s.protocol&&!p(M)?(i=M,a.addEventListener("message",E,!1)):i=C in m("script")?function(t){d.appendChild(m("script"))[C]=function(){d.removeChild(this),A(t)}}:function(t){setTimeout(D(t),0)}),t.exports={set:v,clear:y}},"2d00":function(t,e,n){var s,i,r=n("da84"),o=n("342f"),a=r.process,c=r.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(s=l.split("."),i=s[0]>0&&s[0]<4?1:+(s[0]+s[1])),!i&&o&&(s=o.match(/Edge\/(\d+)/),(!s||s[1]>=74)&&(s=o.match(/Chrome\/(\d+)/),s&&(i=+s[1]))),t.exports=i},"342f":function(t,e,n){var s=n("d066");t.exports=s("navigator","userAgent")||""},"35a1":function(t,e,n){var s=n("f5df"),i=n("dc4a"),r=n("3f8c"),o=n("b622"),a=o("iterator");t.exports=function(t){if(void 0!=t)return i(t,a)||i(t,"@@iterator")||r[s(t)]}},"37e8":function(t,e,n){var s=n("83ab"),i=n("aed9"),r=n("9bf2"),o=n("825a"),a=n("fc6a"),c=n("df75");e.f=s&&!i?Object.defineProperties:function(t,e){o(t);var n,s=a(e),i=c(e),u=i.length,l=0;while(u>l)r.f(t,n=i[l++],s[n]);return t}},3835:function(t,e,n){"use strict";function s(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return c}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function i(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s,i,r=[],o=!0,a=!1;try{for(n=n.call(t);!(o=(s=n.next()).done);o=!0)if(r.push(s.value),e&&r.length===e)break}catch(c){a=!0,i=c}finally{try{o||null==n["return"]||n["return"]()}finally{if(a)throw i}}return r}}n("fb6a"),n("b0c0"),n("a630"),n("ac1f"),n("00b4");function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function o(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}n("d9e2");function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){return s(t)||i(t,e)||o(t,e)||a()}},"3a9b":function(t,e,n){var s=n("e330");t.exports=s({}.isPrototypeOf)},"3bbe":function(t,e,n){var s=n("da84"),i=n("1626"),r=s.String,o=s.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw o("Can't set "+r(t)+" as a prototype")}},"3ca3":function(t,e,n){"use strict";var s=n("6547").charAt,i=n("577e"),r=n("69f3"),o=n("7dd0"),a="String Iterator",c=r.set,u=r.getterFor(a);o(String,"String",(function(t){c(this,{type:a,string:i(t),index:0})}),(function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=s(n,i),e.index+=t.length,{value:t,done:!1})}))},"3f8c":function(t,e){t.exports={}},"408a":function(t,e,n){var s=n("e330");t.exports=s(1..valueOf)},"40d5":function(t,e,n){var s=n("d039");t.exports=!s((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},"428f":function(t,e,n){var s=n("da84");t.exports=s},"44ad":function(t,e,n){var s=n("da84"),i=n("e330"),r=n("d039"),o=n("c6b6"),a=s.Object,c=i("".split);t.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?c(t,""):a(t)}:a},"44d2":function(t,e,n){var s=n("b622"),i=n("7c73"),r=n("9bf2"),o=s("unscopables"),a=Array.prototype;void 0==a[o]&&r.f(a,o,{configurable:!0,value:i(null)}),t.exports=function(t){a[o][t]=!0}},"44de":function(t,e,n){var s=n("da84");t.exports=function(t,e){var n=s.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},"44e7":function(t,e,n){var s=n("861d"),i=n("c6b6"),r=n("b622"),o=r("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},4840:function(t,e,n){var s=n("825a"),i=n("5087"),r=n("b622"),o=r("species");t.exports=function(t,e){var n,r=s(t).constructor;return void 0===r||void 0==(n=s(r)[o])?e:i(n)}},"485a":function(t,e,n){var s=n("da84"),i=n("c65b"),r=n("1626"),o=n("861d"),a=s.TypeError;t.exports=function(t,e){var n,s;if("string"===e&&r(n=t.toString)&&!o(s=i(n,t)))return s;if(r(n=t.valueOf)&&!o(s=i(n,t)))return s;if("string"!==e&&r(n=t.toString)&&!o(s=i(n,t)))return s;throw a("Can't convert object to primitive value")}},4930:function(t,e,n){var s=n("2d00"),i=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&s&&s<41}))},"4d64":function(t,e,n){var s=n("fc6a"),i=n("23cb"),r=n("07fa"),o=function(t){return function(e,n,o){var a,c=s(e),u=r(c),l=i(o,u);if(t&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},"4dae":function(t,e,n){var s=n("da84"),i=n("23cb"),r=n("07fa"),o=n("8418"),a=s.Array,c=Math.max;t.exports=function(t,e,n){for(var s=r(t),u=i(e,s),l=i(void 0===n?s:n,s),h=a(c(l-u,0)),p=0;u<l;u++,p++)o(h,p,t[u]);return h.length=p,h}},"4df4":function(t,e,n){"use strict";var s=n("da84"),i=n("0366"),r=n("c65b"),o=n("7b0b"),a=n("9bdd"),c=n("e95a"),u=n("68ee"),l=n("07fa"),h=n("8418"),p=n("9a1f"),d=n("35a1"),f=s.Array;t.exports=function(t){var e=o(t),n=u(this),s=arguments.length,m=s>1?arguments[1]:void 0,_=void 0!==m;_&&(m=i(m,s>2?arguments[2]:void 0));var g,v,y,b,x,w,T=d(e),S=0;if(!T||this==f&&c(T))for(g=l(e),v=n?new this(g):f(g);g>S;S++)w=_?m(e[S],S):e[S],h(v,S,w);else for(b=p(e,T),x=b.next,v=n?new this:[];!(y=r(x,b)).done;S++)w=_?a(b,m,[y.value,S],!0):y.value,h(v,S,w);return v.length=S,v}},5087:function(t,e,n){var s=n("da84"),i=n("68ee"),r=n("0d51"),o=s.TypeError;t.exports=function(t){if(i(t))return t;throw o(r(t)+" is not a constructor")}},"50c4":function(t,e,n){var s=n("5926"),i=Math.min;t.exports=function(t){return t>0?i(s(t),9007199254740991):0}},5502:function(t,e,n){"use strict";n.d(e,"a",(function(){return K}));var s=n("7a23"),i=n("abc5");const r="devtools-plugin:setup",o="plugin:settings:set";class a{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const n={};if(t.settings)for(const o in t.settings){const e=t.settings[o];n[o]=e.defaultValue}const s="__vue-devtools-plugin-settings__"+t.id;let i=Object.assign({},n);try{const t=localStorage.getItem(s),e=JSON.parse(t);Object.assign(i,e)}catch(r){}this.fallbacks={getSettings(){return i},setSettings(t){try{localStorage.setItem(s,JSON.stringify(t))}catch(r){}i=t}},e&&e.on(o,(t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)}),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise(n=>{this.targetQueue.push({method:e,args:t,resolve:n})})})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function c(t,e){const n=Object(i["b"])(),s=Object(i["a"])(),o=i["c"]&&t.enableEarlyProxy;if(!s||!n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&o){const i=o?new a(t,s):null,r=n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[];r.push({pluginDescriptor:t,setupFn:e,proxy:i}),i&&e(i.proxiedTarget)}else s.emit(r,t,e)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var u="store";function l(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function h(t){return null!==t&&"object"===typeof t}function p(t){return t&&"function"===typeof t.then}function d(t,e){if(!t)throw new Error("[vuex] "+e)}function f(t,e){return function(){return t(e)}}function m(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function _(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;v(t,n,[],t._modules.root,!0),g(t,n,e)}function g(t,e,n){var i=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var r=t._wrappedGetters,o={};l(r,(function(e,n){o[n]=f(e,t),Object.defineProperty(t.getters,n,{get:function(){return o[n]()},enumerable:!0})})),t._state=Object(s["m"])({data:e}),t.strict&&S(t),i&&n&&t._withCommit((function(){i.data=null}))}function v(t,e,n,s,i){var r=!n.length,o=t._modules.getNamespace(n);if(s.namespaced&&(t._modulesNamespaceMap[o]&&console.error("[vuex] duplicate namespace "+o+" for the namespaced module "+n.join("/")),t._modulesNamespaceMap[o]=s),!r&&!i){var a=O(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit((function(){c in a&&console.warn('[vuex] state field "'+c+'" was overridden by a module with the same name at "'+n.join(".")+'"'),a[c]=s.state}))}var u=s.context=y(t,o,n);s.forEachMutation((function(e,n){var s=o+n;x(t,s,e,u)})),s.forEachAction((function(e,n){var s=e.root?n:o+n,i=e.handler||e;w(t,s,i,u)})),s.forEachGetter((function(e,n){var s=o+n;T(t,s,e,u)})),s.forEachChild((function(s,r){v(t,e,n.concat(r),s,i)}))}function y(t,e,n){var s=""===e,i={dispatch:s?t.dispatch:function(n,s,i){var r=k(n,s,i),o=r.payload,a=r.options,c=r.type;if(a&&a.root||(c=e+c,t._actions[c]))return t.dispatch(c,o);console.error("[vuex] unknown local action type: "+r.type+", global type: "+c)},commit:s?t.commit:function(n,s,i){var r=k(n,s,i),o=r.payload,a=r.options,c=r.type;a&&a.root||(c=e+c,t._mutations[c])?t.commit(c,o,a):console.error("[vuex] unknown local mutation type: "+r.type+", global type: "+c)}};return Object.defineProperties(i,{getters:{get:s?function(){return t.getters}:function(){return b(t,e)}},state:{get:function(){return O(t.state,n)}}}),i}function b(t,e){if(!t._makeLocalGettersCache[e]){var n={},s=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,s)===e){var r=i.slice(s);Object.defineProperty(n,r,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function x(t,e,n,s){var i=t._mutations[e]||(t._mutations[e]=[]);i.push((function(e){n.call(t,s.state,e)}))}function w(t,e,n,s){var i=t._actions[e]||(t._actions[e]=[]);i.push((function(e){var i=n.call(t,{dispatch:s.dispatch,commit:s.commit,getters:s.getters,state:s.state,rootGetters:t.getters,rootState:t.state},e);return p(i)||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}function T(t,e,n,s){t._wrappedGetters[e]?console.error("[vuex] duplicate getter key: "+e):t._wrappedGetters[e]=function(t){return n(s.state,s.getters,t.state,t.getters)}}function S(t){Object(s["r"])((function(){return t._state.data}),(function(){d(t._committing,"do not mutate vuex store state outside mutation handlers.")}),{deep:!0,flush:"sync"})}function O(t,e){return e.reduce((function(t,e){return t[e]}),t)}function k(t,e,n){return h(t)&&t.type&&(n=e,e=t,t=t.type),d("string"===typeof t,"expects string as the type, but found "+typeof t+"."),{type:t,payload:e,options:n}}var C="vuex bindings",A="vuex:mutations",D="vuex:actions",E="vuex",M=0;function j(t,e){c({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[C]},(function(n){n.addTimelineLayer({id:A,label:"Vuex Mutations",color:R}),n.addTimelineLayer({id:D,label:"Vuex Actions",color:R}),n.addInspector({id:E,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===t&&n.inspectorId===E)if(n.filter){var s=[];N(s,e._modules.root,n.filter,""),n.rootNodes=s}else n.rootNodes=[V(e._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===t&&n.inspectorId===E){var s=n.nodeId;b(e,s),n.state=L(B(e._modules,s),"root"===s?e.getters:e._makeLocalGettersCache,s)}})),n.on.editInspectorState((function(n){if(n.app===t&&n.inspectorId===E){var s=n.nodeId,i=n.path;"root"!==s&&(i=s.split("/").filter(Boolean).concat(i)),e._withCommit((function(){n.set(e._state.data,i,n.state.value)}))}})),e.subscribe((function(t,e){var s={};t.payload&&(s.payload=t.payload),s.state=e,n.notifyComponentUpdate(),n.sendInspectorTree(E),n.sendInspectorState(E),n.addTimelineEvent({layerId:A,event:{time:Date.now(),title:t.type,data:s}})})),e.subscribeAction({before:function(t,e){var s={};t.payload&&(s.payload=t.payload),t._id=M++,t._time=Date.now(),s.state=e,n.addTimelineEvent({layerId:D,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:s}})},after:function(t,e){var s={},i=Date.now()-t._time;s.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},t.payload&&(s.payload=t.payload),s.state=e,n.addTimelineEvent({layerId:D,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:s}})}})}))}var R=8702998,I=6710886,q=16777215,F={label:"namespaced",textColor:q,backgroundColor:I};function P(t){return t&&"root"!==t?t.split("/").slice(-2,-1)[0]:"Root"}function V(t,e){return{id:e||"root",label:P(e),tags:t.namespaced?[F]:[],children:Object.keys(t._children).map((function(n){return V(t._children[n],e+n+"/")}))}}function N(t,e,n,s){s.includes(n)&&t.push({id:s||"root",label:s.endsWith("/")?s.slice(0,s.length-1):s||"Root",tags:e.namespaced?[F]:[]}),Object.keys(e._children).forEach((function(i){N(t,e._children[i],n,s+i+"/")}))}function L(t,e,n){e="root"===n?e:e[n];var s=Object.keys(e),i={state:Object.keys(t.state).map((function(e){return{key:e,editable:!0,value:t.state[e]}}))};if(s.length){var r=z(e);i.getters=Object.keys(r).map((function(t){return{key:t.endsWith("/")?P(t):t,editable:!1,value:W((function(){return r[t]}))}}))}return i}function z(t){var e={};return Object.keys(t).forEach((function(n){var s=n.split("/");if(s.length>1){var i=e,r=s.pop();s.forEach((function(t){i[t]||(i[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:!0}}),i=i[t]._custom.value})),i[r]=W((function(){return t[n]}))}else e[n]=W((function(){return t[n]}))})),e}function B(t,e){var n=e.split("/").filter((function(t){return t}));return n.reduce((function(t,s,i){var r=t[s];if(!r)throw new Error('Missing module "'+s+'" for path "'+e+'".');return i===n.length-1?r:r._children}),"root"===e?t:t.root._children)}function W(t){try{return t()}catch(e){return e}}var G=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},U={namespaced:{configurable:!0}};U.namespaced.get=function(){return!!this._rawModule.namespaced},G.prototype.addChild=function(t,e){this._children[t]=e},G.prototype.removeChild=function(t){delete this._children[t]},G.prototype.getChild=function(t){return this._children[t]},G.prototype.hasChild=function(t){return t in this._children},G.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},G.prototype.forEachChild=function(t){l(this._children,t)},G.prototype.forEachGetter=function(t){this._rawModule.getters&&l(this._rawModule.getters,t)},G.prototype.forEachAction=function(t){this._rawModule.actions&&l(this._rawModule.actions,t)},G.prototype.forEachMutation=function(t){this._rawModule.mutations&&l(this._rawModule.mutations,t)},Object.defineProperties(G.prototype,U);var $=function(t){this.register([],t,!1)};function Q(t,e,n){if(Z(t,n),e.update(n),n.modules)for(var s in n.modules){if(!e.getChild(s))return void console.warn("[vuex] trying to add a new module '"+s+"' on hot reloading, manual reload is needed");Q(t.concat(s),e.getChild(s),n.modules[s])}}$.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},$.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},$.prototype.update=function(t){Q([],this.root,t)},$.prototype.register=function(t,e,n){var s=this;void 0===n&&(n=!0),Z(t,e);var i=new G(e,n);if(0===t.length)this.root=i;else{var r=this.get(t.slice(0,-1));r.addChild(t[t.length-1],i)}e.modules&&l(e.modules,(function(e,i){s.register(t.concat(i),e,n)}))},$.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],s=e.getChild(n);s?s.runtime&&e.removeChild(n):console.warn("[vuex] trying to unregister module '"+n+"', which is not registered")},$.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var Y={assert:function(t){return"function"===typeof t},expected:"function"},X={assert:function(t){return"function"===typeof t||"object"===typeof t&&"function"===typeof t.handler},expected:'function or object with "handler" function'},H={getters:Y,mutations:Y,actions:X};function Z(t,e){Object.keys(H).forEach((function(n){if(e[n]){var s=H[n];l(e[n],(function(e,i){d(s.assert(e),J(t,n,i,e,s.expected))}))}}))}function J(t,e,n,s,i){var r=e+" should be "+i+' but "'+e+"."+n+'"';return t.length>0&&(r+=' in module "'+t.join(".")+'"'),r+=" is "+JSON.stringify(s)+".",r}function K(t){return new tt(t)}var tt=function t(e){var n=this;void 0===e&&(e={}),d("undefined"!==typeof Promise,"vuex requires a Promise polyfill in this browser."),d(this instanceof t,"store must be called with the new operator.");var s=e.plugins;void 0===s&&(s=[]);var i=e.strict;void 0===i&&(i=!1);var r=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new $(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=r;var o=this,a=this,c=a.dispatch,u=a.commit;this.dispatch=function(t,e){return c.call(o,t,e)},this.commit=function(t,e,n){return u.call(o,t,e,n)},this.strict=i;var l=this._modules.root.state;v(this,l,[],this._modules.root),g(this,l),s.forEach((function(t){return t(n)}))},et={state:{configurable:!0}};tt.prototype.install=function(t,e){t.provide(e||u,this),t.config.globalProperties.$store=this;var n=void 0===this._devtools||this._devtools;n&&j(t,this)},et.state.get=function(){return this._state.data},et.state.set=function(t){d(!1,"use store.replaceState() to explicit replace store state.")},tt.prototype.commit=function(t,e,n){var s=this,i=k(t,e,n),r=i.type,o=i.payload,a=i.options,c={type:r,payload:o},u=this._mutations[r];u?(this._withCommit((function(){u.forEach((function(t){t(o)}))})),this._subscribers.slice().forEach((function(t){return t(c,s.state)})),a&&a.silent&&console.warn("[vuex] mutation type: "+r+". Silent option has been removed. Use the filter functionality in the vue-devtools")):console.error("[vuex] unknown mutation type: "+r)},tt.prototype.dispatch=function(t,e){var n=this,s=k(t,e),i=s.type,r=s.payload,o={type:i,payload:r},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(o,n.state)}))}catch(u){console.warn("[vuex] error in before action subscribers: "),console.error(u)}var c=a.length>1?Promise.all(a.map((function(t){return t(r)}))):a[0](r);return new Promise((function(t,e){c.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(o,n.state)}))}catch(u){console.warn("[vuex] error in after action subscribers: "),console.error(u)}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(o,n.state,t)}))}catch(u){console.warn("[vuex] error in error action subscribers: "),console.error(u)}e(t)}))}))}console.error("[vuex] unknown action type: "+i)},tt.prototype.subscribe=function(t,e){return m(t,this._subscribers,e)},tt.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return m(n,this._actionSubscribers,e)},tt.prototype.watch=function(t,e,n){var i=this;return d("function"===typeof t,"store.watch only accepts a function."),Object(s["r"])((function(){return t(i.state,i.getters)}),e,Object.assign({},n))},tt.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},tt.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),d(Array.isArray(t),"module path must be a string or an Array."),d(t.length>0,"cannot register the root module by using registerModule."),this._modules.register(t,e),v(this,this.state,t,this._modules.get(t),n.preserveState),g(this,this.state)},tt.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),d(Array.isArray(t),"module path must be a string or an Array."),this._modules.unregister(t),this._withCommit((function(){var n=O(e.state,t.slice(0,-1));delete n[t[t.length-1]]})),_(this)},tt.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),d(Array.isArray(t),"module path must be a string or an Array."),this._modules.isRegistered(t)},tt.prototype.hotUpdate=function(t){this._modules.update(t),_(this,!0)},tt.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(tt.prototype,et);it((function(t,e){var n={};return st(e)||console.error("[vuex] mapState: mapper parameter must be either an Array or an Object"),nt(e).forEach((function(e){var s=e.key,i=e.val;n[s]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var s=rt(this.$store,"mapState",t);if(!s)return;e=s.context.state,n=s.context.getters}return"function"===typeof i?i.call(this,e,n):e[i]},n[s].vuex=!0})),n})),it((function(t,e){var n={};return st(e)||console.error("[vuex] mapMutations: mapper parameter must be either an Array or an Object"),nt(e).forEach((function(e){var s=e.key,i=e.val;n[s]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var s=this.$store.commit;if(t){var r=rt(this.$store,"mapMutations",t);if(!r)return;s=r.context.commit}return"function"===typeof i?i.apply(this,[s].concat(e)):s.apply(this.$store,[i].concat(e))}})),n})),it((function(t,e){var n={};return st(e)||console.error("[vuex] mapGetters: mapper parameter must be either an Array or an Object"),nt(e).forEach((function(e){var s=e.key,i=e.val;i=t+i,n[s]=function(){if(!t||rt(this.$store,"mapGetters",t)){if(i in this.$store.getters)return this.$store.getters[i];console.error("[vuex] unknown getter: "+i)}},n[s].vuex=!0})),n})),it((function(t,e){var n={};return st(e)||console.error("[vuex] mapActions: mapper parameter must be either an Array or an Object"),nt(e).forEach((function(e){var s=e.key,i=e.val;n[s]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var s=this.$store.dispatch;if(t){var r=rt(this.$store,"mapActions",t);if(!r)return;s=r.context.dispatch}return"function"===typeof i?i.apply(this,[s].concat(e)):s.apply(this.$store,[i].concat(e))}})),n}));function nt(t){return st(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function st(t){return Array.isArray(t)||h(t)}function it(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function rt(t,e,n){var s=t._modulesNamespaceMap[n];return s||console.error("[vuex] module namespace not found in "+e+"(): "+n),s}},5692:function(t,e,n){var s=n("c430"),i=n("c6cd");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.20.3",mode:s?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(t,e,n){var s=n("d066"),i=n("e330"),r=n("241c"),o=n("7418"),a=n("825a"),c=i([].concat);t.exports=s("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?c(e,n(t)):e}},"577e":function(t,e,n){var s=n("da84"),i=n("f5df"),r=s.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return r(t)}},5926:function(t,e){var n=Math.ceil,s=Math.floor;t.exports=function(t){var e=+t;return e!==e||0===e?0:(e>0?s:n)(e)}},"59ed":function(t,e,n){var s=n("da84"),i=n("1626"),r=n("0d51"),o=s.TypeError;t.exports=function(t){if(i(t))return t;throw o(r(t)+" is not a function")}},"5a34":function(t,e,n){var s=n("da84"),i=n("44e7"),r=s.TypeError;t.exports=function(t){if(i(t))throw r("The method doesn't accept regular expressions");return t}},"5a43":function(t,e){function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},"5bc3":function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function s(t,e,s){return e&&n(t.prototype,e),s&&n(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}t.exports=s,t.exports.__esModule=!0,t.exports["default"]=t.exports},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5db7":function(t,e,n){"use strict";var s=n("23e7"),i=n("a2bf"),r=n("59ed"),o=n("7b0b"),a=n("07fa"),c=n("65f0");s({target:"Array",proto:!0},{flatMap:function(t){var e,n=o(this),s=a(n);return r(t),e=c(n,0),e.length=i(e,n,n,s,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},"5e54":function(t,e,n){"use strict";n.r(e),n.d(e,"getContext",(function(){return hc})),n.d(e,"setContext",(function(){return pc})),n.d(e,"Clock",(function(){return Qc})),n.d(e,"Context",(function(){return nc})),n.d(e,"BaseContext",(function(){return ec})),n.d(e,"Delay",(function(){return Yc})),n.d(e,"Gain",(function(){return Nc})),n.d(e,"Offline",(function(){return Xc})),n.d(e,"OfflineContext",(function(){return cc})),n.d(e,"Param",(function(){return Ic})),n.d(e,"ToneAudioBuffer",(function(){return ac})),n.d(e,"ToneAudioBuffers",(function(){return Hc})),n.d(e,"ToneAudioNode",(function(){return qc})),n.d(e,"connectSeries",(function(){return Fc})),n.d(e,"connect",(function(){return Pc})),n.d(e,"disconnect",(function(){return Vc})),n.d(e,"FrequencyClass",(function(){return kc})),n.d(e,"Frequency",(function(){return Dc})),n.d(e,"MidiClass",(function(){return Zc})),n.d(e,"Midi",(function(){return Jc})),n.d(e,"TimeClass",(function(){return Sc})),n.d(e,"Time",(function(){return Oc})),n.d(e,"TicksClass",(function(){return Kc})),n.d(e,"Ticks",(function(){return tu})),n.d(e,"TransportTimeClass",(function(){return Ec})),n.d(e,"TransportTime",(function(){return Mc})),n.d(e,"Emitter",(function(){return tc})),n.d(e,"IntervalTimeline",(function(){return nu})),n.d(e,"StateTimeline",(function(){return Rc})),n.d(e,"Timeline",(function(){return Qa})),n.d(e,"isUndef",(function(){return ha})),n.d(e,"isDefined",(function(){return pa})),n.d(e,"isFunction",(function(){return da})),n.d(e,"isNumber",(function(){return fa})),n.d(e,"isObject",(function(){return ma})),n.d(e,"isBoolean",(function(){return _a})),n.d(e,"isArray",(function(){return ga})),n.d(e,"isString",(function(){return va})),n.d(e,"isNote",(function(){return ya})),n.d(e,"dbToGain",(function(){return fc})),n.d(e,"gainToDb",(function(){return mc})),n.d(e,"intervalToFrequencyRatio",(function(){return _c})),n.d(e,"ftom",(function(){return bc})),n.d(e,"mtof",(function(){return wc})),n.d(e,"optionsFromArguments",(function(){return Fa})),n.d(e,"defaultArg",(function(){return Va})),n.d(e,"Unit",(function(){return i})),n.d(e,"debug",(function(){return s})),n.d(e,"Noise",(function(){return pu})),n.d(e,"UserMedia",(function(){return gu})),n.d(e,"Oscillator",(function(){return bu})),n.d(e,"AMOscillator",(function(){return Ou})),n.d(e,"FMOscillator",(function(){return ku})),n.d(e,"PulseOscillator",(function(){return Cu})),n.d(e,"FatOscillator",(function(){return Au})),n.d(e,"PWMOscillator",(function(){return Du})),n.d(e,"OmniOscillator",(function(){return Mu})),n.d(e,"ToneOscillatorNode",(function(){return yu})),n.d(e,"LFO",(function(){return qu})),n.d(e,"ToneBufferSource",(function(){return hu})),n.d(e,"Player",(function(){return Vu})),n.d(e,"Players",(function(){return Nu})),n.d(e,"GrainPlayer",(function(){return Lu})),n.d(e,"Add",(function(){return ju})),n.d(e,"Abs",(function(){return zu})),n.d(e,"AudioToGain",(function(){return Tu})),n.d(e,"GainToAudio",(function(){return Bu})),n.d(e,"GreaterThan",(function(){return $u})),n.d(e,"GreaterThanZero",(function(){return Uu})),n.d(e,"Multiply",(function(){return Su})),n.d(e,"Negate",(function(){return Wu})),n.d(e,"Pow",(function(){return Qu})),n.d(e,"Signal",(function(){return Bc})),n.d(e,"connectSignal",(function(){return Wc})),n.d(e,"Scale",(function(){return Ru})),n.d(e,"ScaleExp",(function(){return Yu})),n.d(e,"Subtract",(function(){return Gu})),n.d(e,"SyncedSignal",(function(){return Xu})),n.d(e,"WaveShaper",(function(){return wu})),n.d(e,"Zero",(function(){return Iu})),n.d(e,"AMSynth",(function(){return sl})),n.d(e,"DuoSynth",(function(){return cl})),n.d(e,"FMSynth",(function(){return ul})),n.d(e,"MetalSynth",(function(){return hl})),n.d(e,"MembraneSynth",(function(){return pl})),n.d(e,"MonoSynth",(function(){return al})),n.d(e,"NoiseSynth",(function(){return dl})),n.d(e,"PluckSynth",(function(){return Cl})),n.d(e,"PolySynth",(function(){return Al})),n.d(e,"Sampler",(function(){return Dl})),n.d(e,"Synth",(function(){return el})),n.d(e,"Loop",(function(){return Ml})),n.d(e,"Part",(function(){return jl})),n.d(e,"Pattern",(function(){return Gl})),n.d(e,"Sequence",(function(){return Ul})),n.d(e,"ToneEvent",(function(){return El})),n.d(e,"AutoFilter",(function(){return Xl})),n.d(e,"AutoPanner",(function(){return Zl})),n.d(e,"AutoWah",(function(){return Kl})),n.d(e,"BitCrusher",(function(){return nh})),n.d(e,"Chebyshev",(function(){return ih})),n.d(e,"Chorus",(function(){return uh})),n.d(e,"Distortion",(function(){return lh})),n.d(e,"FeedbackDelay",(function(){return ph})),n.d(e,"FrequencyShifter",(function(){return fh})),n.d(e,"Freeverb",(function(){return gh})),n.d(e,"JCReverb",(function(){return xh})),n.d(e,"PingPongDelay",(function(){return Th})),n.d(e,"PitchShift",(function(){return Sh})),n.d(e,"Phaser",(function(){return Oh})),n.d(e,"Reverb",(function(){return kh})),n.d(e,"StereoWidener",(function(){return Eh})),n.d(e,"Tremolo",(function(){return Mh})),n.d(e,"Vibrato",(function(){return jh})),n.d(e,"Analyser",(function(){return Rh})),n.d(e,"Meter",(function(){return qh})),n.d(e,"FFT",(function(){return Fh})),n.d(e,"DCMeter",(function(){return Ph})),n.d(e,"Waveform",(function(){return Vh})),n.d(e,"Follower",(function(){return Jl})),n.d(e,"Channel",(function(){return zh})),n.d(e,"CrossFade",(function(){return $l})),n.d(e,"Merge",(function(){return oh})),n.d(e,"MidSideMerge",(function(){return Ah})),n.d(e,"MidSideSplit",(function(){return Ch})),n.d(e,"Mono",(function(){return Bh})),n.d(e,"MultibandSplit",(function(){return Wh})),n.d(e,"Panner",(function(){return Hl})),n.d(e,"Panner3D",(function(){return Uh})),n.d(e,"PanVol",(function(){return Lh})),n.d(e,"Recorder",(function(){return $h})),n.d(e,"Solo",(function(){return Nh})),n.d(e,"Split",(function(){return rh})),n.d(e,"Volume",(function(){return iu})),n.d(e,"Compressor",(function(){return Qh})),n.d(e,"Gate",(function(){return Yh})),n.d(e,"Limiter",(function(){return Xh})),n.d(e,"MidSideCompressor",(function(){return Hh})),n.d(e,"MultibandCompressor",(function(){return Zh})),n.d(e,"AmplitudeEnvelope",(function(){return tl})),n.d(e,"Envelope",(function(){return Hu})),n.d(e,"FrequencyEnvelope",(function(){return ol})),n.d(e,"EQ3",(function(){return Jh})),n.d(e,"Filter",(function(){return rl})),n.d(e,"OnePoleFilter",(function(){return Ol})),n.d(e,"FeedbackCombFilter",(function(){return Sl})),n.d(e,"LowpassCombFilter",(function(){return kl})),n.d(e,"Convolver",(function(){return Kh})),n.d(e,"BiquadFilter",(function(){return il})),n.d(e,"version",(function(){return r})),n.d(e,"start",(function(){return dc})),n.d(e,"supported",(function(){return sa})),n.d(e,"now",(function(){return tp})),n.d(e,"immediate",(function(){return ep})),n.d(e,"Transport",(function(){return np})),n.d(e,"getTransport",(function(){return sp})),n.d(e,"Destination",(function(){return ip})),n.d(e,"Master",(function(){return rp})),n.d(e,"getDestination",(function(){return op})),n.d(e,"Listener",(function(){return ap})),n.d(e,"getListener",(function(){return cp})),n.d(e,"Draw",(function(){return up})),n.d(e,"getDraw",(function(){return lp})),n.d(e,"context",(function(){return hp})),n.d(e,"loaded",(function(){return pp})),n.d(e,"Buffer",(function(){return dp})),n.d(e,"Buffers",(function(){return fp})),n.d(e,"BufferSource",(function(){return mp}));var s={};n.r(s),n.d(s,"assert",(function(){return ia})),n.d(s,"assertRange",(function(){return ra})),n.d(s,"assertContextRunning",(function(){return oa})),n.d(s,"setLogger",(function(){return ca})),n.d(s,"log",(function(){return ua})),n.d(s,"warn",(function(){return la}));var i={};n.r(i);const r="14.7.77";var o=n("04d1");const a=()=>new DOMException("","AbortError"),c=t=>(e,n,[s,i,r],o)=>{t(e[i],[n,s,r],t=>t[0]===n&&t[1]===s,o)},u=t=>(e,n,s)=>{const i=[];for(let t=0;t<s.numberOfInputs;t+=1)i.push(new Set);t.set(e,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},l=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},h=new WeakSet,p=new WeakMap,d=new WeakMap,f=new WeakMap,m=new WeakMap,_=new WeakMap,g=new WeakMap,v=new WeakMap,y=new WeakMap,b=new WeakMap,x={construct(){return x}},w=t=>{try{const e=new Proxy(t,x);new e}catch{return!1}return!0},T=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,S=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),i=s.match(T);while(null!==i){const t=i[1].slice(1,-1),r=i[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(r),s=s.slice(i[0].length).replace(/^[\s]+/,""),i=s.match(T)}return[n.join(";"),s]},O=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},k=t=>{if(!w(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!==typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},C=(t,e,n,s,i,r,o,a,c,u,l,h,p)=>{let d=0;return(f,m,_={credentials:"omit"})=>{const g=l.get(f);if(void 0!==g&&g.has(m))return Promise.resolve();const v=u.get(f);if(void 0!==v){const t=v.get(m);if(void 0!==t)return t}const b=r(f),x=void 0===b.audioWorklet?i(m).then(([t,e])=>{const[s,i]=S(t,e),r=`${s};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${i}\n})})(window,'_AWGS')`;return n(r)}).then(()=>{const t=p._AWGS.pop();if(void 0===t)throw new SyntaxError;s(b.currentTime,b.sampleRate,()=>t(class{},void 0,(t,n)=>{if(""===t.trim())throw e();const s=y.get(b);if(void 0!==s){if(s.has(t))throw e();k(n),O(n.parameterDescriptors),s.set(t,n)}else k(n),O(n.parameterDescriptors),y.set(b,new Map([[t,n]]))},b.sampleRate,void 0,void 0))}):Promise.all([i(m),Promise.resolve(t(h,h))]).then(([[t,e],n])=>{const s=d+1;d=s;const[i,r]=S(t,e),u=n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}",l=n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));",h=n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));",p=`${i};((AudioWorkletProcessor,registerProcessor)=>{${r}\n})(${u},(n,p)=>registerProcessor(n,class extends p{${l}process(i,o,p){${h}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${s}',class extends AudioWorkletProcessor{process(){return !1}})`,f=new Blob([p],{type:"application/javascript; charset=utf-8"}),m=URL.createObjectURL(f);return b.audioWorklet.addModule(m,_).then(()=>{if(a(b))return b;const t=o(b);return t.audioWorklet.addModule(m,_).then(()=>t)}).then(t=>{if(null===c)throw new SyntaxError;try{new c(t,"__sac"+s)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(m))});return void 0===v?u.set(f,new Map([[m,x]])):v.set(m,x),x.then(()=>{const t=l.get(f);void 0===t?l.set(f,new Set([m])):t.add(m)}).finally(()=>{const t=u.get(f);void 0!==t&&t.delete(m)}),x}},A=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},D=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[s]=n;return t.delete(s),s},E=(t,e,n,s)=>{const i=A(t,e),r=D(i,t=>t[0]===n&&t[1]===s);return 0===i.size&&t.delete(e),r},M=t=>A(g,t),j=t=>{if(h.has(t))throw new Error("The AudioNode is already stored.");h.add(t),M(t).forEach(t=>t(!0))},R=t=>"port"in t,I=t=>{if(!h.has(t))throw new Error("The AudioNode is not stored.");h.delete(t),M(t).forEach(t=>t(!1))},q=(t,e)=>{!R(t)&&e.every(t=>0===t.size)&&I(t)},F=(t,e,n,s,i,r,o,a,c,u,l,h,p)=>{const d=new WeakMap;return(f,m,_,g,v)=>{const{activeInputs:y,passiveInputs:b}=r(m),{outputs:x}=r(f),w=a(f),T=r=>{const a=c(m),u=c(f);if(r){const e=E(b,f,_,g);t(y,f,e,!1),v||h(f)||n(u,a,_,g),p(m)&&j(m)}else{const t=s(y,f,_,g);e(b,g,t,!1),v||h(f)||i(u,a,_,g);const n=o(m);if(0===n)l(m)&&q(m,y);else{const t=d.get(m);void 0!==t&&clearTimeout(t),d.set(m,setTimeout(()=>{l(m)&&q(m,y)},1e3*n))}}};return!!u(x,[m,_,g],t=>t[0]===m&&t[1]===_&&t[2]===g,!0)&&(w.add(T),l(f)?t(y,f,[_,g,T],!0):e(b,g,[f,_,T],!0),!0)}},P=t=>(e,n,[s,i,r],o)=>{const a=e.get(s);void 0===a?e.set(s,new Set([[i,n,r]])):t(a,[i,n,r],t=>t[0]===i&&t[1]===n,o)},V=t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(s),s.disconnect()};n.addEventListener("ended",i)},N=t=>(e,n)=>{t(e).add(n)},L={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},z=(t,e,n,s,i,r)=>class extends t{constructor(t,n){const o=i(t),a={...L,...n},c=s(o,a),u=r(o)?e():null;super(t,!1,c,u),this._nativeAnalyserNode=c}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}},B=(t,e)=>t.context===e,W=(t,e,n)=>()=>{const s=new WeakMap,i=async(i,r)=>{let o=e(i);const a=B(o,r);if(!a){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,fftSize:o.fftSize,maxDecibels:o.maxDecibels,minDecibels:o.minDecibels,smoothingTimeConstant:o.smoothingTimeConstant};o=t(r,e)}return s.set(r,o),await n(i,r,o),o};return{render(t,e){const n=s.get(e);return void 0!==n?Promise.resolve(n):i(t,e)}}},G=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},U=()=>new DOMException("","IndexSizeError"),$=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(s){if(12===s.code)throw U();throw s}})(t.getChannelData)},Q={numberOfChannels:1},Y=(t,e,n,s,i,r,o,a)=>{let c=null;return class u{constructor(u){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:l,numberOfChannels:h,sampleRate:p}={...Q,...u};null===c&&(c=new i(1,1,44100));const d=null!==s&&e(r,r)?new s({length:l,numberOfChannels:h,sampleRate:p}):c.createBuffer(h,l,p);if(0===d.numberOfChannels)throw n();return"function"!==typeof d.copyFromChannel?(o(d),$(d)):e(G,()=>G(d))||a(d),t.add(d),d}static[Symbol.hasInstance](e){return null!==e&&"object"===typeof e&&Object.getPrototypeOf(e)===u.prototype||t.has(e)}}},X=-34028234663852886e22,H=-X,Z=t=>h.has(t),J={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},K=(t,e,n,s,i,r,o,a)=>class extends t{constructor(t,s){const a=r(t),c={...J,...s},u=i(a,c),l=o(a),h=l?e():null;super(t,!1,u,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==c.buffer,this._nativeAudioBufferSourceNode=u,this._onended=null,this._playbackRate=n(this,l,u.playbackRate,H,X)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"===typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){j(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),Z(this)&&I(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}},tt=(t,e,n,s,i)=>()=>{const r=new WeakMap;let o=null,a=null;const c=async(c,u)=>{let l=n(c);const h=B(l,u);if(!h){const t={buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,loop:l.loop,loopEnd:l.loopEnd,loopStart:l.loopStart,playbackRate:l.playbackRate.value};l=e(u,t),null!==o&&l.start(...o),null!==a&&l.stop(a)}return r.set(u,l),h?await t(u,c.playbackRate,l.playbackRate):await s(u,c.playbackRate,l.playbackRate),await i(c,u,l),l};return{set start(t){o=t},set stop(t){a=t},render(t,e){const n=r.get(e);return void 0!==n?Promise.resolve(n):c(t,e)}}},et=t=>"playbackRate"in t,nt=t=>"frequency"in t&&"gain"in t,st=t=>"offset"in t,it=t=>!("frequency"in t)&&"gain"in t,rt=t=>"detune"in t&&"frequency"in t,ot=t=>"pan"in t,at=t=>A(p,t),ct=t=>A(f,t),ut=(t,e)=>{const{activeInputs:n}=at(t);n.forEach(n=>n.forEach(([n])=>{e.includes(t)||ut(n,[...e,t])}));const s=et(t)?[t.playbackRate]:R(t)?Array.from(t.parameters.values()):nt(t)?[t.Q,t.detune,t.frequency,t.gain]:st(t)?[t.offset]:it(t)?[t.gain]:rt(t)?[t.detune,t.frequency]:ot(t)?[t.pan]:[];for(const i of s){const t=ct(i);void 0!==t&&t.activeInputs.forEach(([t])=>ut(t,e))}Z(t)&&I(t)},lt=t=>{ut(t.destination,[])},ht=t=>void 0===t||"number"===typeof t||"string"===typeof t&&("balanced"===t||"interactive"===t||"playback"===t),pt=(t,e,n,s,i,r,o,a,c)=>class extends t{constructor(t={}){if(null===c)throw new Error("Missing the native AudioContext constructor.");let e;try{e=new c(t)}catch(o){if(12===o.code&&"sampleRate is not in range"===o.message)throw n();throw o}if(null===e)throw s();if(!ht(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:i}=t,{sampleRate:r}=e;if(this._baseLatency="number"===typeof e.baseLatency?e.baseLatency:"balanced"===i?512/r:"interactive"===i||void 0===i?256/r:"playback"===i?1024/r:128*Math.max(2,Math.min(128,Math.round(i*r/128)))/r,this._nativeAudioContext=e,"webkitAudioContext"===c.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw e()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),lt(this)}))}createMediaElementSource(t){return new i(this,{mediaElement:t})}createMediaStreamDestination(){return new r(this)}createMediaStreamSource(t){return new o(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)}):this._nativeAudioContext.resume().catch(t=>{if(void 0===t||15===t.code)throw e();throw t})}suspend(){return this._nativeAudioContext.suspend().catch(t=>{if(void 0===t)throw e();throw t})}},dt=(t,e,n,s,i,r,o,a)=>class extends t{constructor(t,n){const s=r(t),c=o(s),u=i(s,n,c),l=c?e(a):null;super(t,!1,u,l),this._isNodeOfNativeOfflineAudioContext=c,this._nativeAudioDestinationNode=u}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},ft=t=>{const e=new WeakMap,n=async(n,s)=>{const i=s.destination;return e.set(s,i),await t(n,s,i),i};return{render(t,s){const i=e.get(s);return void 0!==i?Promise.resolve(i):n(t,s)}}},mt=(t,e,n,s,i,r,o,a)=>(c,u)=>{const l=u.listener,h=()=>{const h=new Float32Array(1),p=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),d=o(u);let f=!1,m=[0,0,-1,0,1,0],_=[0,0,0];const g=()=>{if(f)return;f=!0;const t=s(u,256,9,0);t.onaudioprocess=({inputBuffer:t})=>{const e=[r(t,h,0),r(t,h,1),r(t,h,2),r(t,h,3),r(t,h,4),r(t,h,5)];e.some((t,e)=>t!==m[e])&&(l.setOrientation(...e),m=e);const n=[r(t,h,6),r(t,h,7),r(t,h,8)];n.some((t,e)=>t!==_[e])&&(l.setPosition(...n),_=n)},p.connect(t)},v=t=>e=>{e!==m[t]&&(m[t]=e,l.setOrientation(...m))},y=t=>e=>{e!==_[t]&&(_[t]=e,l.setPosition(..._))},b=(e,s,r)=>{const o=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:s});o.connect(p,0,e),o.start(),Object.defineProperty(o.offset,"defaultValue",{get(){return s}});const l=t({context:c},d,o.offset,H,X);return a(l,"value",t=>()=>t.call(l),t=>e=>{try{t.call(l,e)}catch(n){if(9!==n.code)throw n}g(),d&&r(e)}),l.cancelAndHoldAtTime=(t=>d?()=>{throw i()}:(...e)=>{const n=t.apply(l,e);return g(),n})(l.cancelAndHoldAtTime),l.cancelScheduledValues=(t=>d?()=>{throw i()}:(...e)=>{const n=t.apply(l,e);return g(),n})(l.cancelScheduledValues),l.exponentialRampToValueAtTime=(t=>d?()=>{throw i()}:(...e)=>{const n=t.apply(l,e);return g(),n})(l.exponentialRampToValueAtTime),l.linearRampToValueAtTime=(t=>d?()=>{throw i()}:(...e)=>{const n=t.apply(l,e);return g(),n})(l.linearRampToValueAtTime),l.setTargetAtTime=(t=>d?()=>{throw i()}:(...e)=>{const n=t.apply(l,e);return g(),n})(l.setTargetAtTime),l.setValueAtTime=(t=>d?()=>{throw i()}:(...e)=>{const n=t.apply(l,e);return g(),n})(l.setValueAtTime),l.setValueCurveAtTime=(t=>d?()=>{throw i()}:(...e)=>{const n=t.apply(l,e);return g(),n})(l.setValueCurveAtTime),l};return{forwardX:b(0,0,v(0)),forwardY:b(1,0,v(1)),forwardZ:b(2,-1,v(2)),positionX:b(6,0,y(0)),positionY:b(7,0,y(1)),positionZ:b(8,0,y(2)),upX:b(3,0,v(3)),upY:b(4,1,v(4)),upZ:b(5,0,v(5))}},{forwardX:p,forwardY:d,forwardZ:f,positionX:m,positionY:_,positionZ:g,upX:v,upY:y,upZ:b}=void 0===l.forwardX?h():l;return{get forwardX(){return p},get forwardY(){return d},get forwardZ(){return f},get positionX(){return m},get positionY(){return _},get positionZ(){return g},get upX(){return v},get upY(){return y},get upZ(){return b}}},_t=t=>"context"in t,gt=t=>_t(t[0]),vt=(t,e,n,s)=>{for(const i of t)if(n(i)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},yt=(t,e,[n,s],i)=>{vt(t,[e,n,s],t=>t[0]===e&&t[1]===n,i)},bt=(t,[e,n,s],i)=>{const r=t.get(e);void 0===r?t.set(e,new Set([[n,s]])):vt(r,[n,s],t=>t[0]===n,i)},xt=t=>"inputs"in t,wt=(t,e,n,s)=>{if(xt(e)){const i=e.inputs[s];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,s),[e,n,s]},Tt=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},St=(t,e,n)=>D(t,t=>t[0]===e&&t[1]===n),Ot=(t,e)=>{const n=M(t);if(!n.delete(e))throw new Error("Missing the expected event listener.")},kt=(t,e,n)=>{const s=A(t,e),i=D(s,t=>t[0]===n);return 0===s.size&&t.delete(e),i},Ct=(t,e,n,s)=>{xt(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},At=t=>A(d,t),Dt=t=>A(m,t),Et=t=>v.has(t),Mt=t=>!h.has(t),jt=(t,e)=>new Promise(n=>{if(null!==e)n(!0);else{const e=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),r=i.getChannelData(0);r[0]=1,r[1]=1;const o=t.createBufferSource();o.buffer=i,o.loop=!0,o.connect(e).connect(t.destination),o.connect(s),o.disconnect(s),e.onaudioprocess=s=>{const i=s.inputBuffer.getChannelData(0);Array.prototype.some.call(i,t=>1===t)?n(!0):n(!1),o.stop(),e.onaudioprocess=null,o.disconnect(e),e.disconnect(t.destination)},o.start()}}),Rt=(t,e)=>{const n=new Map;for(const s of t)for(const t of s){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach((t,n)=>e(n,t))},It=t=>"context"in t,qt=t=>{const e=new Map;t.connect=(t=>(n,s=0,i=0)=>{const r=It(n)?t(n,s,i):t(n,s),o=e.get(n);return void 0===o?e.set(n,[{input:i,output:s}]):o.every(t=>t.input!==i||t.output!==s)&&o.push({input:i,output:s}),r})(t.connect.bind(t)),t.disconnect=(n=>(s,i,r)=>{if(n.apply(t),void 0===s)e.clear();else if("number"===typeof s)for(const[t,n]of e){const i=n.filter(t=>t.output!==s);0===i.length?e.delete(t):e.set(t,i)}else if(e.has(s))if(void 0===i)e.delete(s);else{const t=e.get(s);if(void 0!==t){const n=t.filter(t=>t.output!==i&&(t.input!==r||void 0===r));0===n.length?e.delete(s):e.set(s,n)}}for(const[n,o]of e)o.forEach(e=>{It(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)})})(t.disconnect)},Ft=(t,e,n,s)=>{const{activeInputs:i,passiveInputs:r}=ct(e),{outputs:o}=at(t),a=M(t),c=o=>{const a=At(t),c=Dt(e);if(o){const e=kt(r,t,n);yt(i,t,e,!1),s||Et(t)||a.connect(c,n)}else{const e=St(i,t,n);bt(r,e,!1),s||Et(t)||a.disconnect(c,n)}};return!!vt(o,[e,n],t=>t[0]===e&&t[1]===n,!0)&&(a.add(c),Z(t)?yt(i,t,[n,c],!0):bt(r,[t,n,c],!0),!0)},Pt=(t,e,n,s)=>{const{activeInputs:i,passiveInputs:r}=at(e),o=Tt(i[s],t,n);if(null===o){const e=E(r,t,n,s);return[e[2],!1]}return[o[2],!0]},Vt=(t,e,n)=>{const{activeInputs:s,passiveInputs:i}=ct(e),r=Tt(s,t,n);if(null===r){const e=kt(i,t,n);return[e[1],!1]}return[r[2],!0]},Nt=(t,e,n,s,i)=>{const[r,o]=Pt(t,n,s,i);if(null!==r&&(Ot(t,r),!o||e||Et(t)||Ct(At(t),At(n),s,i)),Z(n)){const{activeInputs:t}=at(n);q(n,t)}},Lt=(t,e,n,s)=>{const[i,r]=Vt(t,n,s);null!==i&&(Ot(t,i),!r||e||Et(t)||At(t).disconnect(Dt(n),s))},zt=(t,e)=>{const n=at(t),s=[];for(const i of n.outputs)gt(i)?Nt(t,e,...i):Lt(t,e,...i),s.push(i[0]);return n.outputs.clear(),s},Bt=(t,e,n)=>{const s=at(t),i=[];for(const r of s.outputs)r[1]===n&&(gt(r)?Nt(t,e,...r):Lt(t,e,...r),i.push(r[0]),s.outputs.delete(r));return i},Wt=(t,e,n,s,i)=>{const r=at(t);return Array.from(r.outputs).filter(t=>t[0]===n&&(void 0===s||t[1]===s)&&(void 0===i||t[2]===i)).map(n=>(gt(n)?Nt(t,e,...n):Lt(t,e,...n),r.outputs.delete(n),n[0]))},Gt=(t,e,n,s,i,r,o,a,c,u,l,h,p,f,m,_)=>class extends u{constructor(e,s,i,r){super(i),this._context=e,this._nativeAudioNode=i;const o=l(e);h(o)&&!0!==n(jt,()=>jt(o,_))&&qt(i),d.set(this,i),g.set(this,new Set),"closed"!==e.state&&s&&j(this),t(this,r,i)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw i();const u=l(this._context),h=m(u);if(p(t)||f(t))throw r();if(_t(t)){const i=At(t);try{const e=wt(this._nativeAudioNode,i,n,a),s=Mt(this);(h||s)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!s&&Mt(t)&&j(t)}catch(g){if(12===g.code)throw r();throw g}const o=e(this,t,n,a,h);if(o){const e=c([this],t);Rt(e,s(h))}return t}const d=Dt(t);if("playbackRate"===d.name&&1024===d.maxValue)throw o();try{this._nativeAudioNode.connect(d,n),(h||Mt(this))&&this._nativeAudioNode.disconnect(d,n)}catch(g){if(12===g.code)throw r();throw g}const _=Ft(this,t,n,h);if(_){const e=c([this],t);Rt(e,s(h))}}disconnect(t,e,n){let s;const o=l(this._context),u=m(o);if(void 0===t)s=zt(this,u);else if("number"===typeof t){if(t<0||t>=this.numberOfOutputs)throw i();s=Bt(this,u,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw i();if(_t(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw i();if(s=Wt(this,u,t,e,n),0===s.length)throw r()}for(const i of s){const t=c([this],i);Rt(t,a)}}},Ut=(t,e,n,s,i,r,a,c,u,l,h,p,d)=>(f,m,_,g=null,v=null)=>{const y=new o["AutomationEventList"](_.defaultValue),b=m?s(y):null,x={get defaultValue(){return _.defaultValue},get maxValue(){return null===g?_.maxValue:g},get minValue(){return null===v?_.minValue:v},get value(){return _.value},set value(t){_.value=t,x.setValueAtTime(t,f.context.currentTime)},cancelAndHoldAtTime(t){if("function"===typeof _.cancelAndHoldAtTime)null===b&&y.flush(f.context.currentTime),y.add(i(t)),_.cancelAndHoldAtTime(t);else{const e=Array.from(y).pop();null===b&&y.flush(f.context.currentTime),y.add(i(t));const n=Array.from(y).pop();_.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?_.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?_.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?_.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&_.setValueCurveAtTime(n.values,n.startTime,n.duration))}return x},cancelScheduledValues(t){return null===b&&y.flush(f.context.currentTime),y.add(r(t)),_.cancelScheduledValues(t),x},exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;return null===b&&y.flush(f.context.currentTime),y.add(a(t,e)),_.exponentialRampToValueAtTime(t,e),x},linearRampToValueAtTime(t,e){return null===b&&y.flush(f.context.currentTime),y.add(c(t,e)),_.linearRampToValueAtTime(t,e),x},setTargetAtTime(t,e,n){return null===b&&y.flush(f.context.currentTime),y.add(u(t,e,n)),_.setTargetAtTime(t,e,n),x},setValueAtTime(t,e){return null===b&&y.flush(f.context.currentTime),y.add(l(t,e)),_.setValueAtTime(t,e),x},setValueCurveAtTime(t,e,n){const s=t instanceof Float32Array?t:new Float32Array(t);if(null!==p&&"webkitAudioContext"===p.name){const t=e+n,i=f.context.sampleRate,r=Math.ceil(e*i),o=Math.floor(t*i),a=o-r,c=new Float32Array(a);for(let l=0;l<a;l+=1){const t=(s.length-1)/n*((r+l)/i-e),o=Math.floor(t),a=Math.ceil(t);c[l]=o===a?s[o]:(1-(t-o))*s[o]+(1-(a-t))*s[a]}null===b&&y.flush(f.context.currentTime),y.add(h(c,e,n)),_.setValueCurveAtTime(c,e,n);const u=o/i;u<t&&d(x,c[c.length-1],u),d(x,s[s.length-1],t)}else null===b&&y.flush(f.context.currentTime),y.add(h(s,e,n)),_.setValueCurveAtTime(s,e,n);return x}};return n.set(x,_),e.set(x,f),t(x,b),x},$t=t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:s}=n;e.exponentialRampToValueAtTime(s,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:s}=n;e.linearRampToValueAtTime(s,t)}else if("setTarget"===n.type){const{startTime:t,target:s,timeConstant:i}=n;e.setTargetAtTime(s,t,i)}else if("setValue"===n.type){const{startTime:t,value:s}=n;e.setValueAtTime(s,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,t)}}}});class Qt{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach((n,s)=>t.call(e,n,s,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const Yt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Xt=(t,e,n,s,i,r,o,a,c,u,l,h,p,d)=>class extends e{constructor(e,d,f){var m;const _=a(e),g=c(_),v=l({...Yt,...f});p(v);const b=y.get(_),x=null===b||void 0===b?void 0:b.get(d),w=g||"closed"!==_.state?_:null!==(m=o(_))&&void 0!==m?m:_,T=i(w,g?null:e.baseLatency,u,d,x,v),S=g?s(d,v,x):null;super(e,!0,T,S);const O=[];T.parameters.forEach((t,e)=>{const s=n(this,g,t);O.push([e,s])}),this._nativeAudioWorkletNode=T,this._onprocessorerror=null,this._parameters=new Qt(O),g&&t(_,this);const{activeInputs:k}=r(this);h(T,k)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"===typeof t?d(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Ht(t,e,n,s,i){if("function"===typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,i);else{const r=t.getChannelData(s);if(0===e[n].byteLength)e[n]=r.slice(i,i+128);else{const t=new Float32Array(r.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const Zt=(t,e,n,s,i)=>{"function"===typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],s,i):0!==e[n].byteLength&&t.getChannelData(s).set(e[n],i)},Jt=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const t=[],i="number"===typeof e?e:e[s];for(let e=0;e<i;e+=1)t.push(new Float32Array(128));n.push(t)}return n},Kt=(t,e)=>{const n=A(b,t),s=At(e);return A(n,s)},te=async(t,e,n,s,i,r,o)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,c=s.channelCount*s.numberOfInputs,u=i.reduce((t,e)=>t+e,0),l=0===u?null:n.createBuffer(u,a,n.sampleRate);if(void 0===r)throw new Error("Missing the processor constructor.");const h=at(t),p=await Kt(n,t),d=Jt(s.numberOfInputs,s.channelCount),f=Jt(s.numberOfOutputs,i),m=Array.from(t.parameters.keys()).reduce((t,e)=>({...t,[e]:new Float32Array(128)}),{});for(let g=0;g<a;g+=128){if(s.numberOfInputs>0&&null!==e)for(let t=0;t<s.numberOfInputs;t+=1)for(let n=0;n<s.channelCount;n+=1)Ht(e,d[t],n,n,g);void 0!==r.parameterDescriptors&&null!==e&&r.parameterDescriptors.forEach(({name:t},n)=>{Ht(e,m,t,c+n,g)});for(let t=0;t<s.numberOfInputs;t+=1)for(let e=0;e<i[t];e+=1)0===f[t][e].byteLength&&(f[t][e]=new Float32Array(128));try{const t=d.map((t,e)=>0===h.activeInputs[e].size?[]:t),e=o(g/n.sampleRate,n.sampleRate,()=>p.process(t,f,m));if(null!==l)for(let n=0,r=0;n<s.numberOfOutputs;n+=1){for(let t=0;t<i[n];t+=1)Zt(l,f[n],t,r+t,g);r+=i[n]}if(!e)break}catch(_){t.dispatchEvent(new ErrorEvent("processorerror",{colno:_.colno,filename:_.filename,lineno:_.lineno,message:_.message}));break}}return l},ee=(t,e,n,s,i,r,o,a,c,u,l,h,p,d,f,m)=>(_,g,v)=>{const y=new WeakMap;let b=null;const x=async(a,x)=>{let w=l(a),T=null;const S=B(w,x),O=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(null===h){const t=O.reduce((t,e)=>t+e,0),n=i(x,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),r=[];for(let e=0;e<a.numberOfOutputs;e+=1)r.push(s(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:O[e]}));const u=o(x,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1});u.connect=e.bind(null,r),u.disconnect=c.bind(null,r),T=[n,r,u]}else S||(w=new h(x,_));if(y.set(x,null===T?w:T[2]),null!==T){if(null===b){if(void 0===v)throw new Error("Missing the processor constructor.");if(null===p)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===v.parameterDescriptors?0:v.parameterDescriptors.length,n=t+e,c=async()=>{const c=new p(n,128*Math.ceil(a.context.length/128),x.sampleRate),u=[],l=[];for(let t=0;t<g.numberOfInputs;t+=1)u.push(o(c,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),l.push(i(c,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map(async t=>{const e=r(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await d(c,t,e.offset),e})),_=s(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<g.numberOfInputs;t+=1){u[t].connect(l[t]);for(let e=0;e<g.channelCount;e+=1)l[t].connect(_,e,t*g.channelCount+e)}for(const[e,n]of h.entries())n.connect(_,0,t+e),n.start(0);return _.connect(c.destination),await Promise.all(u.map(t=>f(a,c,t))),m(c)};b=te(a,0===n?null:await c(),x,g,O,v,u)}const t=await b,e=n(x,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[c,l,h]=T;null!==t&&(e.buffer=t,e.start(0)),e.connect(c);for(let n=0,s=0;n<a.numberOfOutputs;n+=1){const t=l[n];for(let e=0;e<O[n];e+=1)c.connect(t,s+e,e);s+=O[n]}return h}if(S)for(const[e,n]of a.parameters.entries())await t(x,n,w.parameters.get(e));else for(const[t,e]of a.parameters.entries())await d(x,e,w.parameters.get(t));return await f(a,x,w),w};return{render(t,e){a(e,t);const n=y.get(e);return void 0!==n?Promise.resolve(n):x(t,e)}}},ne=(t,e,n,s,i,r,o,a,c,u,l,h,p,d,f,m,_,g,v,y)=>class extends f{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(t,e,s){return new n({length:e,numberOfChannels:t,sampleRate:s})}createBufferSource(){return new s(this)}createChannelMerger(t=6){return new r(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new o(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(t=1){return new l(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new p(this)}createIIRFilter(t,e){return new d(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new _(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new g(this,{...n,imag:e,real:t})}createStereoPanner(){return new v(this)}createWaveShaper(){return new y(this)}decodeAudioData(t,e,n){return u(this._nativeContext,t).then(t=>("function"===typeof e&&e(t),t),t=>{throw"function"===typeof n&&n(t),t})}},se={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},ie=(t,e,n,s,i,r,o,a)=>class extends t{constructor(t,s){const c=r(t),u={...se,...s},l=i(c,u),h=o(c),p=h?n():null;super(t,!1,l,p),this._Q=e(this,h,l.Q,H,X),this._detune=e(this,h,l.detune,1200*Math.log2(H),-1200*Math.log2(H)),this._frequency=e(this,h,l.frequency,t.sampleRate/2,0),this._gain=e(this,h,l.gain,40*Math.log10(H),X),this._nativeBiquadFilterNode=l,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(i){if(11===i.code)throw s();throw i}if(t.length!==e.length||e.length!==n.length)throw s()}},re=(t,e,n,s,i)=>()=>{const r=new WeakMap,o=async(o,a)=>{let c=n(o);const u=B(c,a);if(!u){const t={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=e(a,t)}return r.set(a,c),u?(await t(a,o.Q,c.Q),await t(a,o.detune,c.detune),await t(a,o.frequency,c.frequency),await t(a,o.gain,c.gain)):(await s(a,o.Q,c.Q),await s(a,o.detune,c.detune),await s(a,o.frequency,c.frequency),await s(a,o.gain,c.gain)),await i(o,a,c),c};return{render(t,e){const n=r.get(e);return void 0!==n?Promise.resolve(n):o(t,e)}}},oe=(t,e)=>(n,s)=>{const i=e.get(n);if(void 0!==i)return i;const r=t.get(n);if(void 0!==r)return r;try{const i=s();return i instanceof Promise?(t.set(n,i),i.catch(()=>!1).then(s=>(t.delete(n),e.set(n,s),s))):(e.set(n,i),i)}catch{return e.set(n,!1),!1}},ae={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},ce=(t,e,n,s,i)=>class extends t{constructor(t,r){const o=s(t),a={...ae,...r},c=n(o,a),u=i(o)?e():null;super(t,!1,c,u)}},ue=(t,e,n)=>()=>{const s=new WeakMap,i=async(i,r)=>{let o=e(i);const a=B(o,r);if(!a){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfInputs:o.numberOfInputs};o=t(r,e)}return s.set(r,o),await n(i,r,o),o};return{render(t,e){const n=s.get(e);return void 0!==n?Promise.resolve(n):i(t,e)}}},le={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},he=(t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=s(t),c=r({...le,...o}),u=n(a,c),l=i(a)?e():null;super(t,!1,u,l)}},pe=(t,e,n)=>()=>{const s=new WeakMap,i=async(i,r)=>{let o=e(i);const a=B(o,r);if(!a){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfOutputs:o.numberOfOutputs};o=t(r,e)}return s.set(r,o),await n(i,r,o),o};return{render(t,e){const n=s.get(e);return void 0!==n?Promise.resolve(n):i(t,e)}}},de=t=>(e,n,s)=>t(n,e,s),fe=t=>(e,n,s=0,i=0)=>{const r=e[s];if(void 0===r)throw t();return It(n)?r.connect(n,0,i):r.connect(n,0)},me=t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return s.buffer=i,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}},_e={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},ge=(t,e,n,s,i,r,o)=>class extends t{constructor(t,o){const a=i(t),c={..._e,...o},u=s(a,c),l=r(a),h=l?n():null;super(t,!1,u,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=u,this._offset=e(this,l,u.offset,H,X),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"===typeof t?o(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){j(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),Z(this)&&I(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}},ve=(t,e,n,s,i)=>()=>{const r=new WeakMap;let o=null,a=null;const c=async(c,u)=>{let l=n(c);const h=B(l,u);if(!h){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,offset:l.offset.value};l=e(u,t),null!==o&&l.start(o),null!==a&&l.stop(a)}return r.set(u,l),h?await t(u,c.offset,l.offset):await s(u,c.offset,l.offset),await i(c,u,l),l};return{set start(t){o=t},set stop(t){a=t},render(t,e){const n=r.get(e);return void 0!==n?Promise.resolve(n):c(t,e)}}},ye=t=>e=>(t[0]=e,t[0]),be={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},xe=(t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=s(t),c={...be,...o},u=n(a,c),l=i(a),h=l?e():null;super(t,!1,u,h),this._isBufferNullified=!1,this._nativeConvolverNode=u,null!==c.buffer&&r(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,44100),this._isBufferNullified=!0,r(this,0)}else this._isBufferNullified=!1,r(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}},we=(t,e,n)=>()=>{const s=new WeakMap,i=async(i,r)=>{let o=e(i);const a=B(o,r);if(!a){const e={buffer:o.buffer,channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,disableNormalization:!o.normalize};o=t(r,e)}return s.set(r,o),xt(o)?await n(i,r,o.inputs[0]):await n(i,r,o),o};return{render(t,e){const n=s.get(e);return void 0!==n?Promise.resolve(n):i(t,e)}}},Te=(t,e)=>(n,s,i)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,i)}catch(r){if("SyntaxError"===r.name)throw t();throw r}},Se=()=>new DOMException("","DataCloneError"),Oe=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(s=>{const i=()=>{n.onmessage=null,e.close(),n.close(),s()};n.onmessage=()=>i();try{e.postMessage(t,[t])}finally{i()}})},ke=(t,e,n,s,i,r,o,a,c,u,l)=>(h,p)=>{const d=o(h)?h:r(h);if(i.has(p)){const t=n();return Promise.reject(t)}try{i.add(p)}catch{}return e(c,()=>c(d))?d.decodeAudioData(p).then(n=>(Oe(p).catch(()=>{}),e(a,()=>a(n))||l(n),t.add(n),n)):new Promise((e,n)=>{const i=async()=>{try{await Oe(p)}catch{}},r=t=>{n(t),i()};try{d.decodeAudioData(p,n=>{"function"!==typeof n.copyFromChannel&&(u(n),$(n)),t.add(n),i().then(()=>e(n))},t=>{r(null===t?s():t)})}catch(o){r(o)}})},Ce=(t,e,n,s,i,r,o,a)=>(c,u)=>{const l=e.get(c);if(void 0===l)throw new Error("Missing the expected cycle count.");const h=r(c.context),p=a(h);if(l===u){if(e.delete(c),!p&&o(c)){const e=s(c),{outputs:r}=n(c);for(const n of r)if(gt(n)){const i=s(n[0]);t(e,i,n[1],n[2])}else{const t=i(n[0]);e.connect(t,n[1])}}}else e.set(c,l-u)},Ae={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},De=(t,e,n,s,i,r,o)=>class extends t{constructor(t,a){const c=i(t),u={...Ae,...a},l=s(c,u),h=r(c),p=h?n(u.maxDelayTime):null;super(t,!1,l,p),this._delayTime=e(this,h,l.delayTime),o(this,u.maxDelayTime)}get delayTime(){return this._delayTime}},Ee=(t,e,n,s,i)=>r=>{const o=new WeakMap,a=async(a,c)=>{let u=n(a);const l=B(u,c);if(!l){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:r};u=e(c,t)}return o.set(c,u),l?await t(c,a.delayTime,u.delayTime):await s(c,a.delayTime,u.delayTime),await i(a,c,u),u};return{render(t,e){const n=o.get(e);return void 0!==n?Promise.resolve(n):a(t,e)}}},Me=t=>(e,n,s,i)=>t(e[i],t=>t[0]===n&&t[1]===s),je=t=>(e,n)=>{t(e).delete(n)},Re=t=>"delayTime"in t,Ie=(t,e,n)=>function s(i,r){const o=_t(r)?r:n(t,r);if(Re(o))return[];if(i[0]===o)return[i];if(i.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(t=>s([...i,o],t[0])).reduce((t,e)=>t.concat(e),[])},qe=(t,e,n)=>{const s=e[n];if(void 0===s)throw t();return s},Fe=t=>(e,n,s,i=0)=>void 0===n?e.forEach(t=>t.disconnect()):"number"===typeof n?qe(t,e,n).disconnect():It(n)?void 0===s?e.forEach(t=>t.disconnect(n)):void 0===i?qe(t,e,s).disconnect(n,0):qe(t,e,s).disconnect(n,0,i):void 0===s?e.forEach(t=>t.disconnect(n)):qe(t,e,s).disconnect(n,0),Pe={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Ve=(t,e,n,s,i,r,o,a)=>class extends t{constructor(t,i){const c=r(t),u={...Pe,...i},l=s(c,u),h=o(c),p=h?n():null;super(t,!1,l,p),this._attack=e(this,h,l.attack),this._knee=e(this,h,l.knee),this._nativeDynamicsCompressorNode=l,this._ratio=e(this,h,l.ratio),this._release=e(this,h,l.release),this._threshold=e(this,h,l.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"===typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Ne=(t,e,n,s,i)=>()=>{const r=new WeakMap,o=async(o,a)=>{let c=n(o);const u=B(c,a);if(!u){const t={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=e(a,t)}return r.set(a,c),u?(await t(a,o.attack,c.attack),await t(a,o.knee,c.knee),await t(a,o.ratio,c.ratio),await t(a,o.release,c.release),await t(a,o.threshold,c.threshold)):(await s(a,o.attack,c.attack),await s(a,o.knee,c.knee),await s(a,o.ratio,c.ratio),await s(a,o.release,c.release),await s(a,o.threshold,c.threshold)),await i(o,a,c),c};return{render(t,e){const n=r.get(e);return void 0!==n?Promise.resolve(n):o(t,e)}}},Le=()=>new DOMException("","EncodingError"),ze=t=>e=>new Promise((n,s)=>{if(null===t)return void s(new SyntaxError);const i=t.document.head;if(null===i)s(new SyntaxError);else{const r=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),c=t.onerror,u=()=>{t.onerror=c,URL.revokeObjectURL(a)};t.onerror=(e,n,i,r,o)=>n===a||n===t.location.href&&1===i&&1===r?(u(),s(o),!1):null!==c?c(e,n,i,r,o):void 0,r.onerror=()=>{u(),s(new SyntaxError)},r.onload=()=>{u(),n()},r.src=a,r.type="module",i.appendChild(r)}}),Be=t=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,n,s){if(null!==n){let i=this._listeners.get(n);void 0===i&&(i=t(this,n),"function"===typeof n&&this._listeners.set(n,i)),this._nativeEventTarget.addEventListener(e,i,s)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const s=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===s?null:s,n)}},We=t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}},Ge=t=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw t()},Ue={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},$e=(t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=i(t),c={...Ue,...o},u=s(a,c),l=r(a),h=l?n():null;super(t,!1,u,h),this._gain=e(this,l,u.gain,H,X)}get gain(){return this._gain}},Qe=(t,e,n,s,i)=>()=>{const r=new WeakMap,o=async(o,a)=>{let c=n(o);const u=B(c,a);if(!u){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=e(a,t)}return r.set(a,c),u?await t(a,o.gain,c.gain):await s(a,o.gain,c.gain),await i(o,a,c),c};return{render(t,e){const n=r.get(e);return void 0!==n?Promise.resolve(n):o(t,e)}}},Ye=(t,e)=>n=>e(t,n),Xe=t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},He=t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0},Ze=t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},Je=t=>e=>t.get(e),Ke=()=>new DOMException("","InvalidStateError"),tn=t=>e=>{const n=t.get(e);if(void 0===n)throw Ke();return n},en=(t,e)=>n=>{let s=t.get(n);if(void 0!==s)return s;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s},nn=t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n},sn=()=>new DOMException("","InvalidAccessError"),rn=t=>{t.getFrequencyResponse=(e=>(n,s,i)=>{if(n.length!==s.length||s.length!==i.length)throw sn();return e.call(t,n,s,i)})(t.getFrequencyResponse)},on={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},an=(t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=s(t),c=i(a),u={...on,...o},l=e(a,c?null:t.baseLatency,u),h=c?n(u.feedback,u.feedforward):null;super(t,!1,l,h),rn(l),this._nativeIIRFilterNode=l,r(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}},cn=(t,e,n,s,i,r,o,a,c,u,l)=>{const h=u.length;let p=a;for(let d=0;d<h;d+=1){let a=n[0]*u[d];for(let e=1;e<i;e+=1){const s=p-e&c-1;a+=n[e]*r[s],a-=t[e]*o[s]}for(let t=i;t<s;t+=1)a+=n[t]*r[p-t&c-1];for(let n=i;n<e;n+=1)a-=t[n]*o[p-n&c-1];r[p]=u[d],o[p]=a,p=p+1&c-1,l[d]=a}return p},un=(t,e,n,s)=>{const i=n instanceof Float64Array?n:new Float64Array(n),r=s instanceof Float64Array?s:new Float64Array(s),o=i.length,a=r.length,c=Math.min(o,a);if(1!==i[0]){for(let t=0;t<o;t+=1)r[t]/=i[0];for(let t=1;t<a;t+=1)i[t]/=i[0]}const u=32,l=new Float32Array(u),h=new Float32Array(u),p=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),d=t.numberOfChannels;for(let f=0;f<d;f+=1){const e=t.getChannelData(f),n=p.getChannelData(f);l.fill(0),h.fill(0),cn(i,o,r,a,c,l,h,0,u,e,n)}return p},ln=(t,e,n,s,i)=>(r,o)=>{const a=new WeakMap;let c=null;const u=async(u,l)=>{let h=null,p=e(u);const d=B(p,l);if(void 0===l.createIIRFilter?h=t(l,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):d||(p=l.createIIRFilter(o,r)),a.set(l,null===h?p:h),null!==h){if(null===c){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(u.context.destination.channelCount,u.context.length,l.sampleRate);c=(async()=>{await s(u,t,t.destination);const e=await i(t);return un(e,l,r,o)})()}const t=await c;return h.buffer=t,h.start(0),h}return await s(u,l,p),p};return{render(t,e){const n=a.get(e);return void 0!==n?Promise.resolve(n):u(t,e)}}},hn=(t,e,n,s,i,r)=>o=>(a,c)=>{const u=t.get(a);if(void 0===u){if(!o&&r(a)){const t=s(a),{outputs:r}=n(a);for(const n of r)if(gt(n)){const i=s(n[0]);e(t,i,n[1],n[2])}else{const e=i(n[0]);t.disconnect(e,n[1])}}t.set(a,c)}else t.set(a,u+c)},pn=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},dn=(t,e)=>n=>t.has(n)||e(n),fn=(t,e)=>n=>t.has(n)||e(n),mn=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},_n=t=>e=>null!==t&&e instanceof t,gn=t=>e=>null!==t&&"function"===typeof t.AudioNode&&e instanceof t.AudioNode,vn=t=>e=>null!==t&&"function"===typeof t.AudioParam&&e instanceof t.AudioParam,yn=(t,e)=>n=>t(n)||e(n),bn=t=>e=>null!==t&&e instanceof t,xn=t=>null!==t&&t.isSecureContext,wn=async(t,e,n,s,i,r,o,a,c,u,l,h,p,d,f,m)=>{if(t(e,e)&&t(n,n)&&t(i,i)&&t(r,r)&&t(a,a)&&t(c,c)&&t(u,u)&&t(l,l)&&t(h,h)&&t(p,p)&&t(d,d)){const e=await Promise.all([t(s,s),t(o,o),t(f,f),t(m,m)]);return e.every(t=>t)}return!1},Tn=(t,e,n,s)=>class extends t{constructor(t,i){const r=n(t),o=e(r,i);if(s(r))throw TypeError();super(t,!0,o,null),this._nativeMediaElementAudioSourceNode=o}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},Sn={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},On=(t,e,n,s)=>class extends t{constructor(t,i){const r=n(t);if(s(r))throw new TypeError;const o={...Sn,...i},a=e(r,o);super(t,!1,a,null),this._nativeMediaStreamAudioDestinationNode=a}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},kn=(t,e,n,s)=>class extends t{constructor(t,i){const r=n(t),o=e(r,i);if(s(r))throw new TypeError;super(t,!0,o,null),this._nativeMediaStreamAudioSourceNode=o}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},Cn=(t,e,n)=>class extends t{constructor(t,s){const i=n(t),r=e(i,s);super(t,!0,r,null)}},An=(t,e,n,s,i)=>class extends s{constructor(t={}){if(null===i)throw new Error("Missing the native AudioContext constructor.");let s;try{s=new i(t)}catch(a){if(12===a.code&&"sampleRate is not in range"===a.message)throw e();throw a}if(null===s)throw n();if(!ht(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&s.sampleRate!==t.sampleRate)throw e();super(s,2);const{latencyHint:r}=t,{sampleRate:o}=s;if(this._baseLatency="number"===typeof s.baseLatency?s.baseLatency:"balanced"===r?512/o:"interactive"===r||void 0===r?256/o:"playback"===r?1024/o:128*Math.max(2,Math.min(128,Math.round(r*o/128)))/o,this._nativeAudioContext=s,"webkitAudioContext"===i.name?(this._nativeGainNode=s.createGain(),this._nativeOscillatorNode=s.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(s.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===s.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),s.removeEventListener("statechange",t)};s.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw t()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),lt(this)}))}resume(){return"suspended"===this._state?new Promise((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)}):this._nativeAudioContext.resume().catch(e=>{if(void 0===e||15===e.code)throw t();throw e})}suspend(){return this._nativeAudioContext.suspend().catch(e=>{if(void 0===e)throw t();throw e})}},Dn=(t,e,n,s,i,r)=>class extends n{constructor(n,r){super(n),this._nativeContext=n,_.set(this,n),s(n)&&i.set(n,new Set),this._destination=new t(this,r),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"===typeof t?r(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},En=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return void 0!==n&&(n.catch(()=>{}),!0)}catch{}return!1},Mn={numberOfChannels:1},jn=(t,e,n,s,i)=>class extends s{constructor(e){const{length:s,numberOfChannels:i,sampleRate:r}={...Mn,...e},o=n(i,s,r);t(En,()=>En(o))||o.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(o.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(o,i),this._length=s,this._nativeOfflineAudioContext=o,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(e()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,lt(this)}))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout(()=>this._waitForThePromiseToSettle(t))}},Rn=(t,e)=>(n,s,i)=>{const r=new Set;return n.connect=(i=>(o,a=0,c=0)=>{const u=0===r.size;if(e(o))return i.call(n,o,a,c),t(r,[o,a,c],t=>t[0]===o&&t[1]===a&&t[2]===c,!0),u&&s(),o;i.call(n,o,a),t(r,[o,a],t=>t[0]===o&&t[1]===a,!0),u&&s()})(n.connect),n.disconnect=(t=>(s,o,a)=>{const c=r.size>0;if(void 0===s)t.apply(n),r.clear();else if("number"===typeof s){t.call(n,s);for(const t of r)t[1]===s&&r.delete(t)}else{e(s)?t.call(n,s,o,a):t.call(n,s,o);for(const t of r)t[0]!==s||void 0!==o&&t[1]!==o||void 0!==a&&t[2]!==a||r.delete(t)}const u=0===r.size;c&&u&&i()})(n.disconnect),n},In=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n]&&(t[n]=s)},qn=(t,e)=>{In(t,e,"channelCount"),In(t,e,"channelCountMode"),In(t,e,"channelInterpretation")},Fn=t=>"function"===typeof t.getFloatTimeDomainData,Pn=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let t=0;t<s;t+=1)e[t]=.0078125*(n[t]-128);return e}},Vn=(t,e)=>(n,s)=>{const i=n.createAnalyser();if(qn(i,s),!(s.maxDecibels>s.minDecibels))throw e();return In(i,s,"fftSize"),In(i,s,"maxDecibels"),In(i,s,"minDecibels"),In(i,s,"smoothingTimeConstant"),t(Fn,()=>Fn(i))||Pn(i),i},Nn=t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Ln=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n].value&&(t[n].value=s)},zn=t=>{t.start=(e=>{let n=!1;return(s=0,i=0,r)=>{if(n)throw Ke();e.call(t,s,i,r),n=!0}})(t.start)},Bn=t=>{t.start=(e=>(n=0,s=0,i)=>{if("number"===typeof i&&i<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,i)})(t.start)},Wn=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},Gn=(t,e,n,s,i,r,o,a,c,u,l)=>(h,p)=>{const d=h.createBufferSource();return qn(d,p),Ln(d,p,"playbackRate"),In(d,p,"buffer"),In(d,p,"loop"),In(d,p,"loopEnd"),In(d,p,"loopStart"),e(n,()=>n(h))||zn(d),e(s,()=>s(h))||c(d),e(i,()=>i(h))||u(d,h),e(r,()=>r(h))||Bn(d),e(o,()=>o(h))||l(d,h),e(a,()=>a(h))||Wn(d),t(h,d),d},Un=t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,$n=(t,e)=>(n,s,i)=>{const r=n.destination;if(r.channelCount!==s)try{r.channelCount=s}catch{}i&&"explicit"!==r.channelCountMode&&(r.channelCountMode="explicit"),0===r.maxChannelCount&&Object.defineProperty(r,"maxChannelCount",{value:s});const o=t(n,{channelCount:s,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,gain:1});return e(o,"channelCount",t=>()=>t.call(o),t=>e=>{t.call(o,e);try{r.channelCount=e}catch(n){if(e>r.maxChannelCount)throw n}}),e(o,"channelCountMode",t=>()=>t.call(o),t=>e=>{t.call(o,e),r.channelCountMode=e}),e(o,"channelInterpretation",t=>()=>t.call(o),t=>e=>{t.call(o,e),r.channelInterpretation=e}),Object.defineProperty(o,"maxChannelCount",{get:()=>r.maxChannelCount}),o.connect(r),o},Qn=t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,Yn=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},Xn=(t,e,n,s,i)=>(r,o,a,c,u,l)=>{if(null!==a)try{const e=new a(r,c,l),s=new Map;let o=null;if(Object.defineProperties(e,{channelCount:{get:()=>l.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>o,set:t=>{"function"===typeof o&&e.removeEventListener("processorerror",o),o="function"===typeof t?t:null,"function"===typeof o&&e.addEventListener("processorerror",o)}}}),e.addEventListener=(t=>(...n)=>{if("processorerror"===n[0]){const t="function"===typeof n[1]?n[1]:"object"===typeof n[1]&&null!==n[1]&&"function"===typeof n[1].handleEvent?n[1].handleEvent:null;if(null!==t){const e=s.get(n[1]);void 0!==e?n[1]=e:(n[1]=e=>{"error"===e.type?(Object.defineProperties(e,{type:{value:"processorerror"}}),t(e)):t(new ErrorEvent(n[0],{...e}))},s.set(t,n[1]))}}return t.call(e,"error",n[1],n[2]),t.call(e,...n)})(e.addEventListener),e.removeEventListener=(t=>(...n)=>{if("processorerror"===n[0]){const t=s.get(n[1]);void 0!==t&&(s.delete(n[1]),n[1]=t)}return t.call(e,"error",n[1],n[2]),t.call(e,n[0],n[1],n[2])})(e.removeEventListener),0!==l.numberOfOutputs){const t=n(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(t).connect(r.destination);const s=()=>t.disconnect(),o=()=>t.connect(r.destination);return i(e,s,o)}return e}catch(h){if(11===h.code)throw s();throw h}if(void 0===u)throw s();return Yn(l),e(r,o,u,l)},Hn=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),Zn=t=>new Promise((e,n)=>{const{port1:s,port2:i}=new MessageChannel;s.onmessage=({data:t})=>{s.close(),i.close(),e(t)},s.onmessageerror=({data:t})=>{s.close(),i.close(),n(t)},i.postMessage(t)}),Jn=async(t,e)=>{const n=await Zn(e);return new t(n)},Kn=(t,e,n,s)=>{let i=b.get(t);void 0===i&&(i=new WeakMap,b.set(t,i));const r=Jn(n,s);return i.set(e,r),r},ts=(t,e,n,s,i,r,o,a,c,u,l,h,p)=>(d,f,m,_)=>{if(0===_.numberOfInputs&&0===_.numberOfOutputs)throw c();const g=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(g.some(t=>t<1))throw c();if(g.length!==_.numberOfOutputs)throw e();if("explicit"!==_.channelCountMode)throw c();const v=_.channelCount*_.numberOfInputs,y=g.reduce((t,e)=>t+e,0),b=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(v+b>6||y>6)throw c();const x=new MessageChannel,w=[],T=[];for(let t=0;t<_.numberOfInputs;t+=1)w.push(o(d,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),T.push(i(d,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const S=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:s}of m.parameterDescriptors){const i=r(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==_.parameterData[s]?_.parameterData[s]:void 0===t?0:t});Object.defineProperties(i.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?H:e},minValue:{get:()=>void 0===n?X:n}}),S.push(i)}const O=s(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+b)}),k=Hn(f,d.sampleRate),C=a(d,k,v+b,Math.max(1,y)),A=i(d,{channelCount:Math.max(1,y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,y)}),D=[];for(let t=0;t<_.numberOfOutputs;t+=1)D.push(s(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:g[t]}));for(let t=0;t<_.numberOfInputs;t+=1){w[t].connect(T[t]);for(let e=0;e<_.channelCount;e+=1)T[t].connect(O,e,t*_.channelCount+e)}const E=new Qt(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map(({name:t},e)=>{const n=S[e];return n.connect(O,0,v+e),n.start(0),[t,n.offset]}));O.connect(C);let M=_.channelInterpretation,j=null;const R=0===_.numberOfOutputs?[C]:D,I={get bufferSize(){return k},get channelCount(){return _.channelCount},set channelCount(t){throw n()},get channelCountMode(){return _.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return M},set channelInterpretation(t){for(const e of w)e.channelInterpretation=t;M=t},get context(){return C.context},get inputs(){return w},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get onprocessorerror(){return j},set onprocessorerror(t){"function"===typeof j&&I.removeEventListener("processorerror",j),j="function"===typeof t?t:null,"function"===typeof j&&I.addEventListener("processorerror",j)},get parameters(){return E},get port(){return x.port2},addEventListener(...t){return C.addEventListener(t[0],t[1],t[2])},connect:t.bind(null,R),disconnect:u.bind(null,R),dispatchEvent(...t){return C.dispatchEvent(t[0])},removeEventListener(...t){return C.removeEventListener(t[0],t[1],t[2])}},q=new Map;x.port1.addEventListener=(t=>(...e)=>{if("message"===e[0]){const t="function"===typeof e[1]?e[1]:"object"===typeof e[1]&&null!==e[1]&&"function"===typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=q.get(e[1]);void 0!==n?e[1]=n:(e[1]=e=>{l(d.currentTime,d.sampleRate,()=>t(e))},q.set(t,e[1]))}}return t.call(x.port1,e[0],e[1],e[2])})(x.port1.addEventListener),x.port1.removeEventListener=(t=>(...e)=>{if("message"===e[0]){const t=q.get(e[1]);void 0!==t&&(q.delete(e[1]),e[1]=t)}return t.call(x.port1,e[0],e[1],e[2])})(x.port1.removeEventListener);let F=null;Object.defineProperty(x.port1,"onmessage",{get:()=>F,set:t=>{"function"===typeof F&&x.port1.removeEventListener("message",F),F="function"===typeof t?t:null,"function"===typeof F&&(x.port1.addEventListener("message",F),x.port1.start())}}),m.prototype.port=x.port1;let P=null;const V=Kn(d,I,m,_);V.then(t=>P=t);const N=Jt(_.numberOfInputs,_.channelCount),L=Jt(_.numberOfOutputs,g),z=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce((t,{name:e})=>({...t,[e]:new Float32Array(128)}),{});let B=!0;const W=()=>{_.numberOfOutputs>0&&C.disconnect(A);for(let t=0,e=0;t<_.numberOfOutputs;t+=1){const n=D[t];for(let s=0;s<g[t];s+=1)A.disconnect(n,e+s,s);e+=g[t]}},G=new Map;C.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==P){const s=h(I);for(let i=0;i<k;i+=128){for(let e=0;e<_.numberOfInputs;e+=1)for(let n=0;n<_.channelCount;n+=1)Ht(t,N[e],n,n,i);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach(({name:e},n)=>{Ht(t,z,e,v+n,i)});for(let t=0;t<_.numberOfInputs;t+=1)for(let e=0;e<g[t];e+=1)0===L[t][e].byteLength&&(L[t][e]=new Float32Array(128));try{const t=N.map((t,e)=>{const n=s[e];if(n.size>0)return G.set(e,k/128),t;const i=G.get(e);return void 0===i?[]:(t.every(t=>t.every(t=>0===t))&&(1===i?G.delete(e):G.set(e,i-1)),t)}),n=l(d.currentTime+i/d.sampleRate,d.sampleRate,()=>P.process(t,L,z));B=n;for(let s=0,r=0;s<_.numberOfOutputs;s+=1){for(let t=0;t<g[s];t+=1)Zt(e,L[s],t,r+t,i);r+=g[s]}}catch(n){B=!1,I.dispatchEvent(new ErrorEvent("processorerror",{colno:n.colno,filename:n.filename,lineno:n.lineno,message:n.message}))}if(!B){for(let t=0;t<_.numberOfInputs;t+=1){w[t].disconnect(T[t]);for(let e=0;e<_.channelCount;e+=1)T[i].disconnect(O,e,t*_.channelCount+e)}if(void 0!==m.parameterDescriptors){const t=m.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=S[e];t.disconnect(O,0,v+e),t.stop()}}O.disconnect(C),C.onaudioprocess=null,U?W():Y();break}}}};let U=!1;const $=o(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Q=()=>C.connect($).connect(d.destination),Y=()=>{C.disconnect($),$.disconnect()},Z=()=>{if(B){Y(),_.numberOfOutputs>0&&C.connect(A);for(let t=0,e=0;t<_.numberOfOutputs;t+=1){const n=D[t];for(let s=0;s<g[t];s+=1)A.connect(n,e+s,s);e+=g[t]}}U=!0},J=()=>{B&&(Q(),W()),U=!1};return Q(),p(I,Z,J)},es=(t,e)=>{const n=t.createBiquadFilter();return qn(n,e),Ln(n,e,"Q"),Ln(n,e,"detune"),Ln(n,e,"frequency"),Ln(n,e,"gain"),In(n,e,"type"),n},ns=(t,e)=>(n,s)=>{const i=n.createChannelMerger(s.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,i),qn(i,s),i},ss=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Ke()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Ke()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Ke()}})},is=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return qn(n,e),ss(n),n},rs=(t,e,n,s,i)=>(r,o)=>{if(void 0===r.createConstantSource)return n(r,o);const a=r.createConstantSource();return qn(a,o),Ln(a,o,"offset"),e(s,()=>s(r))||Bn(a),e(i,()=>i(r))||Wn(a),t(r,a),a},os=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),as=(t,e,n,s)=>(i,{offset:r,...o})=>{const a=i.createBuffer(1,2,44100),c=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(i,{...o,gain:r}),l=a.getChannelData(0);l[0]=1,l[1]=1,c.buffer=a,c.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(t){u.channelCount=t},get channelCountMode(){return u.channelCountMode},set channelCountMode(t){u.channelCountMode=t},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(t){u.channelInterpretation=t},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return c.onended},set onended(t){c.onended=t},addEventListener(...t){return c.addEventListener(t[0],t[1],t[2])},dispatchEvent(...t){return c.dispatchEvent(t[0])},removeEventListener(...t){return c.removeEventListener(t[0],t[1],t[2])},start(t=0){c.start.call(c,t)},stop(t=0){c.stop.call(c,t)}},p=()=>c.connect(u),d=()=>c.disconnect(u);return t(i,c),s(os(h,u),p,d)},cs=(t,e)=>(n,s)=>{const i=n.createConvolver();if(qn(i,s),s.disableNormalization===i.normalize&&(i.normalize=!s.disableNormalization),In(i,s,"buffer"),s.channelCount>2)throw t();if(e(i,"channelCount",t=>()=>t.call(i),e=>n=>{if(n>2)throw t();return e.call(i,n)}),"max"===s.channelCountMode)throw t();return e(i,"channelCountMode",t=>()=>t.call(i),e=>n=>{if("max"===n)throw t();return e.call(i,n)}),i},us=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return qn(n,e),Ln(n,e,"delayTime"),n},ls=t=>(e,n)=>{const s=e.createDynamicsCompressor();if(qn(s,n),n.channelCount>2)throw t();if("max"===n.channelCountMode)throw t();return Ln(s,n,"attack"),Ln(s,n,"knee"),Ln(s,n,"ratio"),Ln(s,n,"release"),Ln(s,n,"threshold"),s},hs=(t,e)=>{const n=t.createGain();return qn(n,e),Ln(n,e,"gain"),n},ps=t=>(e,n,s)=>{if(void 0===e.createIIRFilter)return t(e,n,s);const i=e.createIIRFilter(s.feedforward,s.feedback);return qn(i,s),i};function ds(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function fs(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function ms(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)n=fs(n,e),n[0]+=t[s];return n}const _s=(t,e,n,s)=>(i,r,{channelCount:o,channelCountMode:a,channelInterpretation:c,feedback:u,feedforward:l})=>{const h=Hn(r,i.sampleRate),p=u instanceof Float64Array?u:new Float64Array(u),d=l instanceof Float64Array?l:new Float64Array(l),f=p.length,m=d.length,_=Math.min(f,m);if(0===f||f>20)throw s();if(0===p[0])throw e();if(0===m||m>20)throw s();if(0===d[0])throw e();if(1!==p[0]){for(let t=0;t<m;t+=1)d[t]/=p[0];for(let t=1;t<f;t+=1)p[t]/=p[0]}const g=n(i,h,o,o);g.channelCount=o,g.channelCountMode=a,g.channelInterpretation=c;const v=32,y=[],b=[],x=[];for(let t=0;t<o;t+=1){y.push(0);const t=new Float32Array(v),e=new Float32Array(v);t.fill(0),e.fill(0),b.push(t),x.push(e)}g.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,s=e.numberOfChannels;for(let i=0;i<s;i+=1){const t=e.getChannelData(i),s=n.getChannelData(i);y[i]=cn(p,f,d,m,_,b[i],x[i],y[i],v,t,s)}};const w=i.sampleRate/2,T={get bufferSize(){return h},get channelCount(){return g.channelCount},set channelCount(t){g.channelCount=t},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){g.channelCountMode=t},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(t){g.channelInterpretation=t},get context(){return g.context},get inputs(){return[g]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},addEventListener(...t){return g.addEventListener(t[0],t[1],t[2])},dispatchEvent(...t){return g.dispatchEvent(t[0])},getFrequencyResponse(e,n,s){if(e.length!==n.length||n.length!==s.length)throw t();const i=e.length;for(let t=0;t<i;t+=1){const i=-Math.PI*(e[t]/w),r=[Math.cos(i),Math.sin(i)],o=ms(d,r),a=ms(p,r),c=ds(o,a);n[t]=Math.sqrt(c[0]*c[0]+c[1]*c[1]),s[t]=Math.atan2(c[1],c[0])}},removeEventListener(...t){return g.removeEventListener(t[0],t[1],t[2])}};return os(T,g)},gs=(t,e)=>t.createMediaElementSource(e.mediaElement),vs=(t,e)=>{const n=t.createMediaStreamDestination();return qn(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},ys=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((t,e)=>t.id<e.id?-1:t.id>e.id?1:0);const s=n.slice(0,1),i=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(i,"mediaStream",{value:e}),i},bs=(t,e)=>(n,{mediaStreamTrack:s})=>{if("function"===typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(s);const i=new MediaStream([s]),r=n.createMediaStreamSource(i);if("audio"!==s.kind)throw t();if(e(n))throw new TypeError;return r},xs=t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,ws=(t,e,n,s,i,r)=>(o,a)=>{const c=o.createOscillator();return qn(c,a),Ln(c,a,"detune"),Ln(c,a,"frequency"),void 0!==a.periodicWave?c.setPeriodicWave(a.periodicWave):In(c,a,"type"),e(n,()=>n(o))||Bn(c),e(s,()=>s(o))||r(c,o),e(i,()=>i(o))||Wn(c),t(o,c),c},Ts=t=>(e,n)=>{const s=e.createPanner();return void 0===s.orientationX?t(e,n):(qn(s,n),Ln(s,n,"orientationX"),Ln(s,n,"orientationY"),Ln(s,n,"orientationZ"),Ln(s,n,"positionX"),Ln(s,n,"positionY"),Ln(s,n,"positionZ"),In(s,n,"coneInnerAngle"),In(s,n,"coneOuterAngle"),In(s,n,"coneOuterGain"),In(s,n,"distanceModel"),In(s,n,"maxDistance"),In(s,n,"panningModel"),In(s,n,"refDistance"),In(s,n,"rolloffFactor"),s)},Ss=(t,e,n,s,i,r,o,a,c,u)=>(l,{coneInnerAngle:h,coneOuterAngle:p,coneOuterGain:d,distanceModel:f,maxDistance:m,orientationX:_,orientationY:g,orientationZ:v,panningModel:y,positionX:b,positionY:x,positionZ:w,refDistance:T,rolloffFactor:S,...O})=>{const k=l.createPanner();if(O.channelCount>2)throw o();if("max"===O.channelCountMode)throw o();qn(k,O);const C={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A=n(l,{...C,channelInterpretation:"speakers",numberOfInputs:6}),D=s(l,{...O,gain:1}),E=s(l,{...C,gain:1}),M=s(l,{...C,gain:0}),j=s(l,{...C,gain:0}),R=s(l,{...C,gain:0}),I=s(l,{...C,gain:0}),q=s(l,{...C,gain:0}),F=i(l,256,6,1),P=r(l,{...C,curve:new Float32Array([1,1]),oversample:"none"});let V=[_,g,v],N=[b,x,w];const L=new Float32Array(1);F.onaudioprocess=({inputBuffer:t})=>{const e=[c(t,L,0),c(t,L,1),c(t,L,2)];e.some((t,e)=>t!==V[e])&&(k.setOrientation(...e),V=e);const n=[c(t,L,3),c(t,L,4),c(t,L,5)];n.some((t,e)=>t!==N[e])&&(k.setPosition(...n),N=n)},Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(q.gain,"defaultValue",{get:()=>0});const z={get bufferSize(){},get channelCount(){return k.channelCount},set channelCount(t){if(t>2)throw o();D.channelCount=t,k.channelCount=t},get channelCountMode(){return k.channelCountMode},set channelCountMode(t){if("max"===t)throw o();D.channelCountMode=t,k.channelCountMode=t},get channelInterpretation(){return k.channelInterpretation},set channelInterpretation(t){D.channelInterpretation=t,k.channelInterpretation=t},get coneInnerAngle(){return k.coneInnerAngle},set coneInnerAngle(t){k.coneInnerAngle=t},get coneOuterAngle(){return k.coneOuterAngle},set coneOuterAngle(t){k.coneOuterAngle=t},get coneOuterGain(){return k.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();k.coneOuterGain=t},get context(){return k.context},get distanceModel(){return k.distanceModel},set distanceModel(t){k.distanceModel=t},get inputs(){return[D]},get maxDistance(){return k.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;k.maxDistance=t},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get orientationX(){return E.gain},get orientationY(){return M.gain},get orientationZ(){return j.gain},get panningModel(){return k.panningModel},set panningModel(t){k.panningModel=t},get positionX(){return R.gain},get positionY(){return I.gain},get positionZ(){return q.gain},get refDistance(){return k.refDistance},set refDistance(t){if(t<0)throw new RangeError;k.refDistance=t},get rolloffFactor(){return k.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;k.rolloffFactor=t},addEventListener(...t){return D.addEventListener(t[0],t[1],t[2])},dispatchEvent(...t){return D.dispatchEvent(t[0])},removeEventListener(...t){return D.removeEventListener(t[0],t[1],t[2])}};h!==z.coneInnerAngle&&(z.coneInnerAngle=h),p!==z.coneOuterAngle&&(z.coneOuterAngle=p),d!==z.coneOuterGain&&(z.coneOuterGain=d),f!==z.distanceModel&&(z.distanceModel=f),m!==z.maxDistance&&(z.maxDistance=m),_!==z.orientationX.value&&(z.orientationX.value=_),g!==z.orientationY.value&&(z.orientationY.value=g),v!==z.orientationZ.value&&(z.orientationZ.value=v),y!==z.panningModel&&(z.panningModel=y),b!==z.positionX.value&&(z.positionX.value=b),x!==z.positionY.value&&(z.positionY.value=x),w!==z.positionZ.value&&(z.positionZ.value=w),T!==z.refDistance&&(z.refDistance=T),S!==z.rolloffFactor&&(z.rolloffFactor=S),1===V[0]&&0===V[1]&&0===V[2]||k.setOrientation(...V),0===N[0]&&0===N[1]&&0===N[2]||k.setPosition(...N);const B=()=>{D.connect(k),t(D,P,0,0),P.connect(E).connect(A,0,0),P.connect(M).connect(A,0,1),P.connect(j).connect(A,0,2),P.connect(R).connect(A,0,3),P.connect(I).connect(A,0,4),P.connect(q).connect(A,0,5),A.connect(F).connect(l.destination)},W=()=>{D.disconnect(k),a(D,P,0,0),P.disconnect(E),E.disconnect(A),P.disconnect(M),M.disconnect(A),P.disconnect(j),j.disconnect(A),P.disconnect(R),R.disconnect(A),P.disconnect(I),I.disconnect(A),P.disconnect(q),q.disconnect(A),A.disconnect(F),F.disconnect(l.destination)};return u(os(z,k),B,W)},Os=t=>(e,{disableNormalization:n,imag:s,real:i})=>{const r=s instanceof Float32Array?s:new Float32Array(s),o=i instanceof Float32Array?i:new Float32Array(i),a=e.createPeriodicWave(o,r,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a},ks=(t,e,n,s)=>t.createScriptProcessor(e,n,s),Cs=(t,e)=>(n,s)=>{const i=s.channelCountMode;if("clamped-max"===i)throw e();if(void 0===n.createStereoPanner)return t(n,s);const r=n.createStereoPanner();return qn(r,s),Ln(r,s,"pan"),Object.defineProperty(r,"channelCountMode",{get:()=>i,set:t=>{if(t!==i)throw e()}}),r},As=(t,e,n,s,i,r)=>{const o=16385,a=new Float32Array([1,1]),c=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},l={...u,oversample:"none"},h=(t,e,i,r)=>{const h=new Float32Array(o),p=new Float32Array(o);for(let n=0;n<o;n+=1){const t=n/(o-1)*c;h[n]=Math.cos(t),p[n]=Math.sin(t)}const d=n(t,{...u,gain:0}),f=s(t,{...l,curve:h}),m=s(t,{...l,curve:a}),_=n(t,{...u,gain:0}),g=s(t,{...l,curve:p});return{connectGraph(){e.connect(d),e.connect(void 0===m.inputs?m:m.inputs[0]),e.connect(_),m.connect(i),i.connect(void 0===f.inputs?f:f.inputs[0]),i.connect(void 0===g.inputs?g:g.inputs[0]),f.connect(d.gain),g.connect(_.gain),d.connect(r,0,0),_.connect(r,0,1)},disconnectGraph(){e.disconnect(d),e.disconnect(void 0===m.inputs?m:m.inputs[0]),e.disconnect(_),m.disconnect(i),i.disconnect(void 0===f.inputs?f:f.inputs[0]),i.disconnect(void 0===g.inputs?g:g.inputs[0]),f.disconnect(d.gain),g.disconnect(_.gain),d.disconnect(r,0,0),_.disconnect(r,0,1)}}},p=(t,i,r,h)=>{const p=new Float32Array(o),d=new Float32Array(o),f=new Float32Array(o),m=new Float32Array(o),_=Math.floor(o/2);for(let e=0;e<o;e+=1)if(e>_){const t=(e-_)/(o-1-_)*c;p[e]=Math.cos(t),d[e]=Math.sin(t),f[e]=0,m[e]=1}else{const t=e/(o-1-_)*c;p[e]=1,d[e]=0,f[e]=Math.cos(t),m[e]=Math.sin(t)}const g=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),v=n(t,{...u,gain:0}),y=s(t,{...l,curve:p}),b=n(t,{...u,gain:0}),x=s(t,{...l,curve:d}),w=s(t,{...l,curve:a}),T=n(t,{...u,gain:0}),S=s(t,{...l,curve:f}),O=n(t,{...u,gain:0}),k=s(t,{...l,curve:m});return{connectGraph(){i.connect(g),i.connect(void 0===w.inputs?w:w.inputs[0]),g.connect(v,0),g.connect(b,0),g.connect(T,1),g.connect(O,1),w.connect(r),r.connect(void 0===y.inputs?y:y.inputs[0]),r.connect(void 0===x.inputs?x:x.inputs[0]),r.connect(void 0===S.inputs?S:S.inputs[0]),r.connect(void 0===k.inputs?k:k.inputs[0]),y.connect(v.gain),x.connect(b.gain),S.connect(T.gain),k.connect(O.gain),v.connect(h,0,0),T.connect(h,0,0),b.connect(h,0,1),O.connect(h,0,1)},disconnectGraph(){i.disconnect(g),i.disconnect(void 0===w.inputs?w:w.inputs[0]),g.disconnect(v,0),g.disconnect(b,0),g.disconnect(T,1),g.disconnect(O,1),w.disconnect(r),r.disconnect(void 0===y.inputs?y:y.inputs[0]),r.disconnect(void 0===x.inputs?x:x.inputs[0]),r.disconnect(void 0===S.inputs?S:S.inputs[0]),r.disconnect(void 0===k.inputs?k:k.inputs[0]),y.disconnect(v.gain),x.disconnect(b.gain),S.disconnect(T.gain),k.disconnect(O.gain),v.disconnect(h,0,0),T.disconnect(h,0,0),b.disconnect(h,0,1),O.disconnect(h,0,1)}}},d=(t,e,n,s,r)=>{if(1===e)return h(t,n,s,r);if(2===e)return p(t,n,s,r);throw i()};return(e,{channelCount:s,channelCountMode:o,pan:a,...c})=>{if("max"===o)throw i();const u=t(e,{...c,channelCount:1,channelCountMode:o,numberOfInputs:2}),l=n(e,{...c,channelCount:s,channelCountMode:o,gain:1}),h=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:p,disconnectGraph:f}=d(e,s,l,h,u);Object.defineProperty(h.gain,"defaultValue",{get:()=>0}),Object.defineProperty(h.gain,"maxValue",{get:()=>1}),Object.defineProperty(h.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(t){l.channelCount!==t&&(_&&f(),({connectGraph:p,disconnectGraph:f}=d(e,t,l,h,u)),_&&p()),l.channelCount=t},get channelCountMode(){return l.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw i();l.channelCountMode=t},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(t){l.channelInterpretation=t},get context(){return l.context},get inputs(){return[l]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get pan(){return h.gain},addEventListener(...t){return l.addEventListener(t[0],t[1],t[2])},dispatchEvent(...t){return l.dispatchEvent(t[0])},removeEventListener(...t){return l.removeEventListener(t[0],t[1],t[2])}};let _=!1;const g=()=>{p(),_=!0},v=()=>{f(),_=!1};return r(os(m,u),g,v)}},Ds=(t,e,n,s,i,r,o)=>(a,c)=>{const u=a.createWaveShaper();if(null!==r&&"webkitAudioContext"===r.name&&void 0===a.createGain().gain.automationRate)return n(a,c);qn(u,c);const l=null===c.curve||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(null!==l&&l.length<2)throw e();In(u,{curve:l},"curve"),In(u,c,"oversample");let h=null,p=!1;o(u,"curve",t=>()=>t.call(u),e=>n=>(e.call(u,n),p&&(s(n)&&null===h?h=t(a,u):s(n)||null===h||(h(),h=null)),n));const d=()=>{p=!0,s(u.curve)&&(h=t(a,u))},f=()=>{p=!1,null!==h&&(h(),h=null)};return i(u,d,f)},Es=(t,e,n,s,i)=>(r,{curve:o,oversample:a,...c})=>{const u=r.createWaveShaper(),l=r.createWaveShaper();qn(u,c),qn(l,c);const h=n(r,{...c,gain:1}),p=n(r,{...c,gain:-1}),d=n(r,{...c,gain:1}),f=n(r,{...c,gain:-1});let m=null,_=!1,g=null;const v={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(t){h.channelCount=t,p.channelCount=t,u.channelCount=t,d.channelCount=t,l.channelCount=t,f.channelCount=t},get channelCountMode(){return u.channelCountMode},set channelCountMode(t){h.channelCountMode=t,p.channelCountMode=t,u.channelCountMode=t,d.channelCountMode=t,l.channelCountMode=t,f.channelCountMode=t},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,p.channelInterpretation=t,u.channelInterpretation=t,d.channelInterpretation=t,l.channelInterpretation=t,f.channelInterpretation=t},get context(){return u.context},get curve(){return g},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)u.curve=n,l.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),s=new Float32Array(t+2-t%2);e[0]=n[0],s[0]=-n[t-1];const i=Math.ceil((t+1)/2),r=(t+1)/2-1;for(let o=1;o<i;o+=1){const a=o/i*r,c=Math.floor(a),u=Math.ceil(a);e[o]=c===u?n[c]:(1-(a-c))*n[c]+(1-(u-a))*n[u],s[o]=c===u?-n[t-1-c]:-(1-(a-c))*n[t-1-c]-(1-(u-a))*n[t-1-u]}e[i]=t%2===1?n[i-1]:(n[i-2]+n[i-1])/2,u.curve=e,l.curve=s}g=n,_&&(s(g)&&null===m?m=t(r,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(t){u.oversample=t,l.oversample=t},addEventListener(...t){return h.addEventListener(t[0],t[1],t[2])},dispatchEvent(...t){return h.dispatchEvent(t[0])},removeEventListener(...t){return h.removeEventListener(t[0],t[1],t[2])}};null!==o&&(v.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==v.oversample&&(v.oversample=a);const y=()=>{h.connect(u).connect(d),h.connect(p).connect(l).connect(f).connect(d),_=!0,s(g)&&(m=t(r,h))},b=()=>{h.disconnect(u),u.disconnect(d),h.disconnect(p),p.disconnect(l),l.disconnect(f),f.disconnect(d),_=!1,null!==m&&(m(),m=null)};return i(os(v,d),y,b)},Ms=()=>new DOMException("","NotSupportedError"),js={numberOfChannels:1},Rs=(t,e,n,s,i)=>class extends t{constructor(t,n,i){let r;if("number"===typeof t&&void 0!==n&&void 0!==i)r={length:n,numberOfChannels:t,sampleRate:i};else{if("object"!==typeof t)throw new Error("The given parameters are not valid.");r=t}const{length:o,numberOfChannels:a,sampleRate:c}={...js,...r},u=s(a,o,c);e(En,()=>En(u))||u.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(u.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(u,a),this._length=o,this._nativeOfflineAudioContext=u,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,lt(this)}))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout(()=>this._waitForThePromiseToSettle(t))}},Is={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},qs=(t,e,n,s,i,r,o)=>class extends t{constructor(t,o){const a=i(t),c={...Is,...o},u=n(a,c),l=r(a),h=l?s():null,p=t.sampleRate/2;super(t,!1,u,h),this._detune=e(this,l,u.detune,153600,-153600),this._frequency=e(this,l,u.frequency,p,-p),this._nativeOscillatorNode=u,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==c.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=c.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"===typeof t?o(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){j(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),Z(this)&&I(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}},Fs=(t,e,n,s,i)=>()=>{const r=new WeakMap;let o=null,a=null,c=null;const u=async(u,l)=>{let h=n(u);const p=B(h,l);if(!p){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===o?void 0:o,type:h.type};h=e(l,t),null!==a&&h.start(a),null!==c&&h.stop(c)}return r.set(l,h),p?(await t(l,u.detune,h.detune),await t(l,u.frequency,h.frequency)):(await s(l,u.detune,h.detune),await s(l,u.frequency,h.frequency)),await i(u,l,h),h};return{set periodicWave(t){o=t},set start(t){a=t},set stop(t){c=t},render(t,e){const n=r.get(e);return void 0!==n?Promise.resolve(n):u(t,e)}}},Ps={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Vs=(t,e,n,s,i,r,o)=>class extends t{constructor(t,a){const c=i(t),u={...Ps,...a},l=n(c,u),h=r(c),p=h?s():null;super(t,!1,l,p),this._nativePannerNode=l,this._orientationX=e(this,h,l.orientationX,H,X),this._orientationY=e(this,h,l.orientationY,H,X),this._orientationZ=e(this,h,l.orientationZ,H,X),this._positionX=e(this,h,l.positionX,H,X),this._positionY=e(this,h,l.positionY,H,X),this._positionZ=e(this,h,l.positionZ,H,X),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}},Ns=(t,e,n,s,i,r,o,a,c,u)=>()=>{const l=new WeakMap;let h=null;const p=async(p,d)=>{let f=null,m=r(p);const _={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},g={..._,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},v=B(m,d);if("bufferSize"in m)f=s(d,{..._,gain:1});else if(!v){const t={...g,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=i(d,t)}if(l.set(d,null===f?m:f),null!==f){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new o(6,p.context.length,d.sampleRate),s=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});s.connect(t.destination),h=(async()=>{const e=await Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(async(e,s)=>{const i=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===s?1:0});return await a(t,e,i.offset),i}));for(let t=0;t<6;t+=1)e[t].connect(s,0,t),e[t].start(0);return u(t)})()}const t=await h,r=s(d,{..._,gain:1});await c(p,d,r);const l=[];for(let e=0;e<t.numberOfChannels;e+=1)l.push(t.getChannelData(e));let m=[l[0][0],l[1][0],l[2][0]],v=[l[3][0],l[4][0],l[5][0]],y=s(d,{..._,gain:1}),b=i(d,{...g,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:v[0],positionY:v[1],positionZ:v[2]});r.connect(y).connect(b.inputs[0]),b.connect(f);for(let e=128;e<t.length;e+=128){const t=[l[0][e],l[1][e],l[2][e]],n=[l[3][e],l[4][e],l[5][e]];if(t.some((t,e)=>t!==m[e])||n.some((t,e)=>t!==v[e])){m=t,v=n;const o=e/d.sampleRate;y.gain.setValueAtTime(0,o),y=s(d,{..._,gain:0}),b=i(d,{...g,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:v[0],positionY:v[1],positionZ:v[2]}),y.gain.setValueAtTime(1,o),r.connect(y).connect(b.inputs[0]),b.connect(f)}}return f}return v?(await t(d,p.orientationX,m.orientationX),await t(d,p.orientationY,m.orientationY),await t(d,p.orientationZ,m.orientationZ),await t(d,p.positionX,m.positionX),await t(d,p.positionY,m.positionY),await t(d,p.positionZ,m.positionZ)):(await a(d,p.orientationX,m.orientationX),await a(d,p.orientationY,m.orientationY),await a(d,p.orientationZ,m.orientationZ),await a(d,p.positionX,m.positionX),await a(d,p.positionY,m.positionY),await a(d,p.positionZ,m.positionZ)),xt(m)?await c(p,d,m.inputs[0]):await c(p,d,m),m};return{render(t,e){const n=l.get(e);return void 0!==n?Promise.resolve(n):p(t,e)}}},Ls={disableNormalization:!1},zs=(t,e,n,s)=>class i{constructor(i,r){const o=e(i),a=s({...Ls,...r}),c=t(o,a);return n.add(c),c}static[Symbol.hasInstance](t){return null!==t&&"object"===typeof t&&Object.getPrototypeOf(t)===i.prototype||n.has(t)}},Bs=(t,e)=>(n,s,i)=>{const r=t(s);return r.replay(i),e(s,n,i)},Ws=(t,e,n)=>async(s,i,r)=>{const o=t(s);await Promise.all(o.activeInputs.map((t,o)=>Array.from(t).map(async([t,a])=>{const c=e(t),u=await c.render(t,i),l=s.context.destination;n(t)||s===l&&n(s)||u.connect(r,a,o)})).reduce((t,e)=>[...t,...e],[]))},Gs=(t,e,n)=>async(s,i,r)=>{const o=e(s);await Promise.all(Array.from(o.activeInputs).map(async([e,s])=>{const o=t(e),a=await o.render(e,i);n(e)||a.connect(r,s)}))},Us=(t,e,n,s)=>i=>t(En,()=>En(i))?Promise.resolve(t(s,s)).then(t=>{if(!t){const t=n(i,512,0,1);i.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>i.currentTime,t.connect(i.destination)}return i.startRendering()}):new Promise(t=>{const n=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(i.destination),i.startRendering()}),$s=t=>(e,n)=>{t.set(e,n)},Qs=t=>(e,n)=>t.set(e,n),Ys=(t,e,n,s,i,r,o,a)=>(c,u)=>n(c).render(c,u).then(()=>Promise.all(Array.from(s(u)).map(t=>n(t).render(t,u)))).then(()=>i(u)).then(n=>("function"!==typeof n.copyFromChannel?(o(n),$(n)):e(r,()=>r(n))||a(n),t.add(n),n)),Xs={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Hs=(t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=i(t),c={...Xs,...o},u=n(a,c),l=r(a),h=l?s():null;super(t,!1,u,h),this._pan=e(this,l,u.pan)}get pan(){return this._pan}},Zs=(t,e,n,s,i)=>()=>{const r=new WeakMap,o=async(o,a)=>{let c=n(o);const u=B(c,a);if(!u){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=e(a,t)}return r.set(a,c),u?await t(a,o.pan,c.pan):await s(a,o.pan,c.pan),xt(c)?await i(o,a,c.inputs[0]):await i(o,a,c),c};return{render(t,e){const n=r.get(e);return void 0!==n?Promise.resolve(n):o(t,e)}}},Js=t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},Ks=t=>()=>{if(null===t)return!1;const e=new t(1,1,44100),n=e.createBuffer(1,1,44100);if(void 0===n.copyToChannel)return!0;const s=new Float32Array(2);try{n.copyFromChannel(s,0,0)}catch{return!1}return!0},ti=t=>()=>{if(null===t)return!1;if(void 0!==t.prototype&&void 0!==t.prototype.close)return!0;const e=new t,n=void 0!==e.close;try{e.close()}catch{}return n},ei=t=>()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100);return new Promise(t=>{let n=!0;const s=s=>{n&&(n=!1,e.startRendering(),t(s instanceof TypeError))};let i;try{i=e.decodeAudioData(null,()=>{},s)}catch(r){s(r)}void 0!==i&&i.catch(s)})},ni=t=>()=>{if(null===t)return!1;let e;try{e=new t({latencyHint:"balanced"})}catch{return!1}return e.close(),!0},si=t=>()=>{if(null===t)return!1;const e=new t(1,1,44100),n=e.createGain(),s=n.connect(n)===n;return n.disconnect(n),s},ii=(t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new MessageChannel,i=new e(1,128,44100),r=URL.createObjectURL(n);let o=!1;try{await i.audioWorklet.addModule(r);const e=new t(i,"a",{numberOfOutputs:0}),n=i.createOscillator();await new Promise(t=>{e.port.onmessage=()=>t(),e.port.postMessage(s.port2,[s.port2])}),e.port.onmessage=()=>o=!0,n.connect(e),n.start(0),await i.startRendering(),o=await new Promise(t=>{s.port1.onmessage=({data:e})=>t(1===e),s.port1.postMessage(0)})}catch{}finally{s.port1.close(),URL.revokeObjectURL(r)}return o},ri=(t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),i=URL.createObjectURL(n);let r=!1,o=!1;try{await s.audioWorklet.addModule(i);const e=new t(s,"a",{numberOfOutputs:0}),n=s.createOscillator();e.port.onmessage=()=>r=!0,e.onprocessorerror=()=>o=!0,n.connect(e),n.start(0),await s.startRendering()}catch{}finally{URL.revokeObjectURL(i)}return r&&!o},oi=t=>()=>{if(null===t)return!1;const e=new t(1,1,44100),n=e.createChannelMerger();if("max"===n.channelCountMode)return!0;try{n.channelCount=2}catch{return!0}return!1},ai=t=>()=>{if(null===t)return!1;const e=new t(1,1,44100);if(void 0===e.createConstantSource)return!0;const n=e.createConstantSource();return n.offset.maxValue!==Number.POSITIVE_INFINITY},ci=t=>()=>{if(null===t)return!1;const e=new t(1,1,44100),n=e.createConvolver();n.buffer=e.createBuffer(1,1,e.sampleRate);try{n.buffer=e.createBuffer(1,1,e.sampleRate)}catch{return!1}return!0},ui=t=>()=>{if(null===t)return!1;const e=new t(1,1,44100),n=e.createConvolver();try{n.channelCount=1}catch{return!1}return!0},li=t=>()=>null!==t&&t.hasOwnProperty("isSecureContext"),hi=t=>()=>{if(null===t)return!1;const e=new t;try{return e.createMediaStreamSource(new MediaStream),!1}catch(n){return!0}finally{e.close()}},pi=(t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(t=>{n.oncomplete=()=>{s.disconnect(),t(0!==n.currentTime)},n.startRendering()})},di=t=>()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100);if(void 0===e.createStereoPanner)return Promise.resolve(!0);if(void 0===e.createConstantSource)return Promise.resolve(!0);const n=e.createConstantSource(),s=e.createStereoPanner();return n.channelCount=1,n.offset.value=1,s.channelCount=1,n.start(),n.connect(s).connect(e.destination),e.startRendering().then(t=>1!==t.getChannelData(0)[0])},fi=()=>new DOMException("","UnknownError"),mi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},_i=(t,e,n,s,i,r,o)=>class extends t{constructor(t,e){const a=i(t),c={...mi,...e},u=n(a,c),l=r(a),h=l?s():null;super(t,!0,u,h),this._isCurveNullified=!1,this._nativeWaveShaperNode=u,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}},gi=(t,e,n)=>()=>{const s=new WeakMap,i=async(i,r)=>{let o=e(i);const a=B(o,r);if(!a){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,curve:o.curve,oversample:o.oversample};o=t(r,e)}return s.set(r,o),xt(o)?await n(i,r,o.inputs[0]):await n(i,r,o),o};return{render(t,e){const n=s.get(e);return void 0!==n?Promise.resolve(n):i(t,e)}}},vi=()=>"undefined"===typeof window?null:window,yi=(t,e)=>n=>{n.copyFromChannel=(s,i,r=0)=>{const o=t(r),a=t(i);if(a>=n.numberOfChannels)throw e();const c=n.length,u=n.getChannelData(a),l=s.length;for(let t=o<0?-o:0;t+o<c&&t<l;t+=1)s[t]=u[t+o]},n.copyToChannel=(s,i,r=0)=>{const o=t(r),a=t(i);if(a>=n.numberOfChannels)throw e();const c=n.length,u=n.getChannelData(a),l=s.length;for(let t=o<0?-o:0;t+o<c&&t<l;t+=1)u[t+o]=s[t]}},bi=t=>e=>{e.copyFromChannel=(n=>(s,i,r=0)=>{const o=t(r),a=t(i);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,i,r=0)=>{const o=t(r),a=t(i);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)},xi=t=>(e,n)=>{const s=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=s),t(e,"buffer",t=>()=>{const n=t.call(e);return n===s?null:n},t=>n=>t.call(e,null===n?s:n))},wi=(t,e)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const i=n.createBufferSource(),r=()=>{const t=s.numberOfInputs;for(let e=0;e<t;e+=1)i.connect(s,0,e)},o=()=>i.disconnect(s);e(s,r,o)},Ti=(t,e,n)=>void 0===t.copyFromChannel?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Si=t=>{if(null===t)return!1;const e=t.length;return e%2!==0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},Oi=(t,e,n,s)=>{let i=t;while(!i.hasOwnProperty(e))i=Object.getPrototypeOf(i);const{get:r,set:o}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(r),set:s(o)})},ki=t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),Ci=t=>({...t,channelCount:t.numberOfOutputs}),Ai=t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},Di=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(9!==s.code)throw s;Di(t,e,n+1e-7)}},Ei=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},Mi=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},ji=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Ri=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},Ii=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},qi=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},Fi=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},Pi=()=>{try{new DOMException}catch{return!1}return!0},Vi=()=>new Promise(t=>{const e=new ArrayBuffer(0),{port1:n,port2:s}=new MessageChannel;n.onmessage=({data:e})=>t(null!==e),s.postMessage(e,[e])}),Ni=t=>{t.start=(e=>(n=0,s=0,i)=>{const r=t.buffer,o=null===r?s:Math.min(r.duration,s);null!==r&&o>r.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,i)})(t.start)},Li=(t,e)=>{const n=e.createGain();t.connect(n);const s=(e=>()=>{e.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),os(t,n),t.stop=(e=>{let s=!1;return(i=0)=>{if(s)try{e.call(t,i)}catch{n.gain.setValueAtTime(0,i)}else e.call(t,i),s=!0}})(t.stop)},zi=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),"function"===typeof e?e.call(t,n):e.handleEvent.call(t,n)},Bi=c(vt),Wi=P(vt),Gi=Me(D),Ui=new WeakMap,$i=He(Ui),Qi=oe(new Map,new WeakMap),Yi=vi(),Xi=Vn(Qi,U),Hi=Xe(at),Zi=Ws(at,Hi,Et),Ji=W(Xi,At,Zi),Ki=tn(_),tr=xs(Yi),er=bn(tr),nr=new WeakMap,sr=Be(zi),ir=Un(Yi),rr=_n(ir),or=gn(Yi),ar=vn(Yi),cr=Qn(Yi),ur=Gt(u(p),F(Bi,Wi,wt,Gi,Ct,at,$i,M,At,vt,Z,Et,Mt),Qi,hn(v,Ct,at,At,Dt,Z),U,sn,Ms,Ce(wt,v,at,At,Dt,Ki,Z,er),Ie(nr,at,A),sr,Ki,rr,or,ar,er,cr),lr=z(ur,Ji,U,Xi,Ki,er),hr=new WeakSet,pr=Nn(Yi),dr=ye(new Uint32Array(1)),fr=yi(dr,U),mr=bi(dr),_r=Y(hr,Qi,Ms,pr,tr,Js(pr),fr,mr),gr=V(hs),vr=Gs(Hi,ct,Et),yr=de(vr),br=Gn(gr,Qi,Ei,Mi,ji,Ri,Ii,qi,Ni,xi(Oi),Li),xr=Bs(Ze(ct),vr),wr=tt(yr,br,At,xr,Zi),Tr=Ut(l(f),nr,m,$t,o["createCancelAndHoldAutomationEvent"],o["createCancelScheduledValuesAutomationEvent"],o["createExponentialRampToValueAutomationEvent"],o["createLinearRampToValueAutomationEvent"],o["createSetTargetAutomationEvent"],o["createSetValueAutomationEvent"],o["createSetValueCurveAutomationEvent"],ir,Di),Sr=K(ur,wr,Tr,Ke,br,Ki,er,zi),Or=dt(ur,ft,U,Ke,$n(hs,Oi),Ki,er,Zi),kr=re(yr,es,At,xr,Zi),Cr=Qs(Ui),Ar=ie(ur,Tr,kr,sn,es,Ki,er,Cr),Dr=Rn(vt,or),Er=wi(Ke,Dr),Mr=ns(ir,Er),jr=ue(Mr,At,Zi),Rr=ce(ur,jr,Mr,Ki,er),Ir=pe(is,At,Zi),qr=he(ur,Ir,is,Ki,er,Ci),Fr=as(gr,br,hs,Dr),Pr=rs(gr,Qi,Fr,Ri,qi),Vr=ve(yr,Pr,At,xr,Zi),Nr=ge(ur,Tr,Vr,Pr,Ki,er,zi),Lr=cs(Ms,Oi),zr=we(Lr,At,Zi),Br=xe(ur,zr,Lr,Ki,er,Cr),Wr=Ee(yr,us,At,xr,Zi),Gr=De(ur,Tr,Wr,us,Ki,er,Cr),Ur=ls(Ms),$r=Ne(yr,Ur,At,xr,Zi),Qr=Ve(ur,Tr,$r,Ur,Ms,Ki,er,Cr),Yr=Qe(yr,hs,At,xr,Zi),Xr=$e(ur,Tr,Yr,hs,Ki,er),Hr=_s(sn,Ke,ks,Ms),Zr=Us(Qi,hs,ks,pi(hs,tr)),Jr=ln(br,At,tr,Zi,Zr),Kr=ps(Hr),to=an(ur,Kr,Jr,Ki,er,Cr),eo=mt(Tr,Mr,Pr,ks,Ms,Ti,er,Oi),no=new WeakMap,so=Dn(Or,eo,sr,er,no,zi),io=ws(gr,Qi,Ri,Ii,qi,Li),ro=Fs(yr,io,At,xr,Zi),oo=qs(ur,Tr,io,ro,Ki,er,zi),ao=me(br),co=Es(ao,Ke,hs,Si,Dr),uo=Ds(ao,Ke,co,Si,Dr,ir,Oi),lo=Ss(wt,Ke,Mr,hs,ks,uo,Ms,Ct,Ti,Dr),ho=Ts(lo),po=Ns(yr,Mr,Pr,hs,ho,At,tr,xr,Zi,Zr),fo=Vs(ur,Tr,ho,po,Ki,er,Cr),mo=Os(U),_o=zs(mo,Ki,new WeakSet,Ai),go=As(Mr,is,hs,uo,Ms,Dr),vo=Cs(go,Ms),yo=Zs(yr,vo,At,xr,Zi),bo=Hs(ur,Tr,vo,yo,Ki,er),xo=gi(uo,At,Zi),wo=_i(ur,Ke,uo,xo,Ki,er,Cr),To=xn(Yi),So=We(Yi),Oo=new WeakMap,ko=en(Oo,tr),Co=To?C(Qi,Ms,ze(Yi),So,Ge(a),Ki,ko,er,cr,new WeakMap,new WeakMap,ri(cr,tr),Yi):void 0,Ao=yn(rr,er),Do=ke(hr,Qi,Se,Le,new WeakSet,Ki,Ao,G,En,fr,mr),Eo=ne(Co,lr,_r,Sr,Ar,Rr,qr,Nr,Br,Do,Gr,Qr,Xr,to,so,oo,fo,_o,bo,wo),Mo=Tn(ur,gs,Ki,er),jo=On(ur,vs,Ki,er),Ro=kn(ur,ys,Ki,er),Io=bs(Ke,er),qo=Cn(ur,Io,Ki),Fo=pt(Eo,Ke,Ms,fi,Mo,jo,Ro,qo,ir),Po=nn(no),Vo=N(Po),No=fe(U),Lo=je(Po),zo=Fe(U),Bo=new WeakMap,Wo=Ye(Bo,A),Go=ts(No,U,Ke,Mr,is,Pr,hs,ks,Ms,zo,So,Wo,Dr),Uo=Xn(Ke,Go,hs,Ms,Dr),$o=ee(yr,No,br,Mr,is,Pr,hs,Lo,zo,So,At,cr,tr,xr,Zi,Zr),Qo=Je(Oo),Yo=$s(Bo),Xo=To?Xt(Vo,ur,Tr,$o,Uo,at,Qo,Ki,er,cr,ki,Yo,Fi,zi):void 0,Ho=(An(Ke,Ms,fi,so,ir),Te(Ms,tr)),Zo=Ys(hr,Qi,Hi,Po,Zr,G,fr,mr),Jo=(jn(Qi,Ke,Ho,so,Zo),Rs(Eo,Qi,Ke,Ho,Zo)),Ko=pn(_,rr),ta=dn(d,or),ea=fn(m,ar),na=mn(_,er),sa=()=>wn(Qi,Ks(tr),ti(ir),ei(tr),ni(ir),si(tr),ii(cr,tr),oi(tr),ai(tr),ci(tr),ui(tr),Pi,li(Yi),hi(ir),di(tr),Vi);function ia(t,e){if(!t)throw new Error(e)}function ra(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function oa(t){t.isOffline||"running"===t.state||la('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let aa=console;function ca(t){aa=t}function ua(...t){aa.log(...t)}function la(...t){aa.warn(...t)}function ha(t){return"undefined"===typeof t}function pa(t){return!ha(t)}function da(t){return"function"===typeof t}function fa(t){return"number"===typeof t}function ma(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function _a(t){return"boolean"===typeof t}function ga(t){return Array.isArray(t)}function va(t){return"string"===typeof t}function ya(t){return va(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function ba(t){return new Fo(t)}function xa(t,e,n){return new Jo(t,e,n)}const wa="object"===typeof self?self:null,Ta=wa&&(wa.hasOwnProperty("AudioContext")||wa.hasOwnProperty("webkitAudioContext"));function Sa(t,e,n){return ia(pa(Xo),"This node only works in a secure context (https or localhost)"),new Xo(t,e,n)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Oa(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}function ka(t,e,n,s){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(s.next(t))}catch(e){r(e)}}function a(t){try{c(s["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):i(t.value).then(o,a)}c((s=s.apply(t,e||[])).next())}))}Object.create;Object.create;class Ca{constructor(t,e,n){this._callback=t,this._type=e,this._updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function Aa(t){return ea(t)}function Da(t){return ta(t)}function Ea(t){return na(t)}function Ma(t){return Ko(t)}function ja(t){return t instanceof AudioBuffer}function Ra(t,e){return"value"===t||Aa(e)||Da(e)||ja(e)}function Ia(t,...e){if(!e.length)return t;const n=e.shift();if(ma(t)&&ma(n))for(const s in n)Ra(s,n[s])?t[s]=n[s]:ma(n[s])?(t[s]||Object.assign(t,{[s]:{}}),Ia(t[s],n[s])):Object.assign(t,{[s]:n[s]});return Ia(t,...e)}function qa(t,e){return t.length===e.length&&t.every((t,n)=>e[n]===t)}function Fa(t,e,n=[],s){const i={},r=Array.from(e);if(ma(r[0])&&s&&!Reflect.has(r[0],s)){const e=Object.keys(r[0]).some(e=>Reflect.has(t,e));e||(Ia(i,{[s]:r[0]}),n.splice(n.indexOf(s),1),r.shift())}if(1===r.length&&ma(r[0]))Ia(i,r[0]);else for(let o=0;o<n.length;o++)pa(r[o])&&(i[n[o]]=r[o]);return Ia(t,i)}function Pa(t){return t.constructor.getDefaults()}function Va(t,e){return ha(t)?e:t}function Na(t,e){return e.forEach(e=>{Reflect.has(t,e)&&delete t[e]}),t}
/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class La{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||wa&&this.toString()===wa.TONE_DEBUG_CLASS)&&ua(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}La.version=r;const za=1e-6;function Ba(t,e){return t>e+za}function Wa(t,e){return Ba(t,e)||Ua(t,e)}function Ga(t,e){return t+za<e}function Ua(t,e){return Math.abs(t-e)<za}function $a(t,e,n){return Math.max(Math.min(t,n),e)}class Qa extends La{constructor(){super(),this.name="Timeline",this._timeline=[];const t=Fa(Qa.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(ia(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];ia(Wa(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(Ua(this._timeline[e].time,t)){for(let n=e;n>=0;n--){if(!Ua(this._timeline[n].time,t))break;e=n}this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&Wa(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][e]<=t)return s-1;while(n<i){let s=Math.floor(n+(i-n)/2);const r=this._timeline[s],o=this._timeline[s+1];if(Ua(r[e],t)){for(let n=s;n<this._timeline.length;n++){const i=this._timeline[n];if(!Ua(i[e],t))break;s=n}return s}if(Ga(r[e],t)&&Ba(o[e],t))return s;Ba(r[e],t)?i=s:n=s+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let s=this._search(t),i=this._search(e);return-1!==s&&-1!==i?(this._timeline[s].time!==t&&(s+=1),this._timeline[i].time===e&&(i-=1),this._iterate(n,s,i)):-1===s&&this._iterate(n,0,i),this}forEachFrom(t,e){let n=this._search(t);while(n>=0&&this._timeline[n].time>=t)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&Ua(this._timeline[n].time,t)){let s=n;for(let e=n;e>=0;e--){if(!Ua(this._timeline[e].time,t))break;s=e}this._iterate(t=>{e(t)},s,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Ya=[];function Xa(t){Ya.push(t)}function Ha(t){Ya.forEach(e=>e(t))}const Za=[];function Ja(t){Za.push(t)}function Ka(t){Za.forEach(e=>e(t))}class tc extends La{constructor(){super(...arguments),this.name="Emitter"}on(t,e){const n=t.split(/\W+/);return n.forEach(t=>{ha(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)}),this}once(t,e){const n=(...s)=>{e(...s),this.off(t,n)};return this.on(t,n),this}off(t,e){const n=t.split(/\W+/);return n.forEach(n=>{if(ha(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(ha(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}}),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,s=n.length;t<s;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach(e=>{const n=Object.getOwnPropertyDescriptor(tc.prototype,e);Object.defineProperty(t.prototype,e,n)})}dispose(){return super.dispose(),this._events=void 0,this}}class ec extends tc{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class nc extends ec{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Qa,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=Fa(nc.getDefaults(),arguments,["context"]);t.context?this._context=t.context:this._context=ba({latencyHint:t.latencyHint}),this._ticker=new Ca(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(Ha(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){ia(Ma(this._context),"Not available if OfflineAudioContext");const e=this._context;return e.createMediaStreamSource(t)}createMediaElementSource(t){ia(Ma(this._context),"Not available if OfflineAudioContext");const e=this._context;return e.createMediaElementSource(t)}createMediaStreamDestination(){ia(Ma(this._context),"Not available if OfflineAudioContext");const t=this._context;return t.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){ia(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){ia(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){ia(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){ia(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return Sa(this.rawContext,t,e)}addAudioWorkletModule(t,e){return ka(this,void 0,void 0,(function*(){ia(pa(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)}))}workletsAreReady(){return ka(this,void 0,void 0,(function*(){const t=[];this._workletModules.forEach(e=>t.push(e)),yield Promise.all(t)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(this._latencyHint=t,va(t))switch(t){case"interactive":e=.1;break;case"playback":e=.5;break;case"balanced":e=.25;break}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Ma(this._context)?this._context.resume():Promise.resolve()}close(){return ka(this,void 0,void 0,(function*(){Ma(this._context)&&(yield this._context.close()),this._initialized&&Ka(this)}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let i=0;i<n.length;i++)n[i]=t;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=e,s.loop=!0,s.start(0),this._constants.set(t,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();while(this._timeouts.length&&e&&e.time<=t)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(e=>{e.id===t&&this._timeouts.remove(e)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{t(),s()},id:n,time:i+e})};return s(),n}}class sc extends ec{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return ka(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}function ic(t,e){ga(e)?e.forEach(e=>ic(t,e)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function rc(t,e){ga(e)?e.forEach(e=>rc(t,e)):Object.defineProperty(t,e,{writable:!0})}const oc=()=>{};class ac extends La{constructor(){super(),this.name="ToneAudioBuffer",this.onload=oc;const t=Fa(ac.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&ja(t.url)||t.url instanceof ac?this.set(t.url):va(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:oc,onload:oc,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:hc().sampleRate}set(t){return t instanceof ac?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return ka(this,void 0,void 0,(function*(){const e=ac.load(t).then(t=>{this.set(t),this.onload(this)});ac.downloads.push(e);try{yield e}finally{const t=ac.downloads.indexOf(e);ac.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=ga(t)&&t[0].length>0,n=e?t.length:1,s=e?t[0].length:t.length,i=hc(),r=i.createBuffer(n,s,i.sampleRate),o=e||1!==n?t:[t];for(let a=0;a<n;a++)r.copyToChannel(o[a],a);return this._buffer=r,this}toMono(t){if(fa(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map(t=>t/e),this.fromArray(t)}return this}toArray(t){if(fa(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){const n=Math.floor(t*this.sampleRate),s=Math.floor(e*this.sampleRate);ia(n<s,"The start time must be less than the end time");const i=s-n,r=hc().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let o=0;o<this.numberOfChannels;o++)r.copyToChannel(this.getChannelData(o).subarray(n,s),o);return new ac(r)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new ac).fromArray(t)}static fromUrl(t){return ka(this,void 0,void 0,(function*(){const e=new ac;return yield e.load(t)}))}static load(t){return ka(this,void 0,void 0,(function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let s=n[0];for(const t of n)if(ac.supportsType(t)){s=t;break}t=t.replace(e[0],s)}const n=""===ac.baseUrl||ac.baseUrl.endsWith("/")?ac.baseUrl:ac.baseUrl+"/",s=yield fetch(n+t);if(!s.ok)throw new Error("could not load url: "+t);const i=yield s.arrayBuffer(),r=yield hc().decodeAudioData(i);return r}))}static supportsType(t){const e=t.split("."),n=e[e.length-1],s=document.createElement("audio").canPlayType("audio/"+n);return""!==s}static loaded(){return ka(this,void 0,void 0,(function*(){yield Promise.resolve();while(ac.downloads.length)yield ac.downloads[0]}))}}ac.baseUrl="",ac.downloads=[];class cc extends nc{constructor(){super({clockSource:"offline",context:Ea(arguments[0])?arguments[0]:xa(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Ea(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Ea(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return ka(this,void 0,void 0,(function*(){let e=0;while(this._duration-this._currentTime>=0){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n===0&&(yield new Promise(t=>setTimeout(t,1)))}}))}render(t=!0){return ka(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new ac(e)}))}close(){return Promise.resolve()}}const uc=new sc;let lc=uc;function hc(){return lc===uc&&Ta&&pc(new nc),lc}function pc(t){lc=Ma(t)?new nc(t):Ea(t)?new cc(t):t}function dc(){return lc.resume()}if(wa&&!wa.TONE_SILENCE_LOGGING){let t="v";"dev"===r&&(t="");const e=` * Tone.js ${t}${r} * `;console.log("%c"+e,"background: #000; color: #fff")}function fc(t){return Math.pow(10,t/20)}function mc(t){return Math.log(t)/Math.LN10*20}function _c(t){return Math.pow(2,t/12)}let gc=440;function vc(){return gc}function yc(t){gc=t}function bc(t){return Math.round(xc(t))}function xc(t){return 69+12*Math.log2(t/gc)}function wc(t){return gc*Math.pow(2,(t-69)/12)}class Tc extends La{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),s="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/n)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let s=0;return t&&"0"!==t&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(s+=this._beatsToUnits(parseFloat(n)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Tc&&this.fromType(this._val),ha(this._val))return this._noArg();if(va(this._val)&&ha(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(ma(this._val)){let t=0;for(const e in this._val)if(pa(this._val[e])){const n=this._val[e],s=new this.constructor(this.context,e).valueOf()*n;t+=s}return t}if(pa(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return va(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Sc extends Tc{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new Sc(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),s=this.valueOf(),i=Math.round(s/n),r=i*n,o=r-s;return s+o*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let i=1;i<9;i++){const t=Math.pow(2,i);e.push(t+"n."),e.push(t+"n"),e.push(t+"t")}e.push("0");let n=e[0],s=new Sc(this.context,e[0]).toSeconds();return e.forEach(e=>{const i=new Sc(this.context,e).toSeconds();Math.abs(i-t)<Math.abs(s-t)&&(n=e,s=i)}),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let s=e%1*4;e=Math.floor(e)%this._getTimeSignature();const i=s.toString();i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3)));const r=[n,e,s];return r.join(":")}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return bc(this.toFrequency())}_now(){return this.context.now()}}function Oc(t,e){return new Sc(hc(),t,e)}class kc extends Sc{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return vc()}static set A4(t){yc(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:kc.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){const n=Cc[t.toLowerCase()],s=n+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?s:kc.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let s=1;return t&&"0"!==t&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(s*=this._beatsToUnits(parseFloat(n)/4)),s}}})}transpose(t){return new kc(this.context,this.valueOf()*_c(t))}harmonize(t){return t.map(t=>this.transpose(t))}toMidi(){return bc(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/kc.A4);let n=Math.round(12*e)+57;const s=Math.floor(n/12);s<0&&(n+=-12*s);const i=Ac[n%12];return i+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return wc(t)}static ftom(t){return bc(t)}}const Cc={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Ac=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Dc(t,e){return new kc(hc(),t,e)}class Ec extends Sc{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}function Mc(t,e){return new Ec(hc(),t,e)}class jc extends La{constructor(){super();const t=Fa(jc.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:hc()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new Sc(this.context,t).toSeconds()}toFrequency(t){return new kc(this.context,t).toFrequency()}toTicks(t){return new Ec(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach(n=>{ha(t[n])&&delete e[n]}),e}get(){const t=Pa(this);return Object.keys(t).forEach(e=>{if(Reflect.has(this,e)){const n=this[e];pa(n)&&pa(n.value)&&pa(n.setValueAtTime)?t[e]=n.value:n instanceof jc?t[e]=n._getPartialProperties(t[e]):ga(n)||fa(n)||va(n)||_a(n)?t[e]=n:delete t[e]}}),t}set(t){return Object.keys(t).forEach(e=>{Reflect.has(this,e)&&pa(this[e])&&(this[e]&&pa(this[e].value)&&pa(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof jc?this[e].set(t[e]):this[e]=t[e])}),this}}class Rc extends Qa{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return ra(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){const n=this._search(e);for(let s=n;s>=0;s--){const e=this._timeline[s];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let s=n;s<this._timeline.length;s++){const e=this._timeline[s];if(e.state===t)return e}}}class Ic extends jc{constructor(){super(Fa(Ic.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=Fa(Ic.getDefaults(),arguments,["param","units","convert"]);ia(pa(t.param)&&(Aa(t.param)||t.param instanceof Ic),"param must be an AudioParam");while(!Aa(t.param))t.param=t.param._param;this._swappable=!!pa(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Qa(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,pa(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(jc.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return pa(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return pa(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return pa(this.maxValue)&&pa(this.minValue)&&ra(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?fc(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&"decibels"===this.units?mc(t):t}setValueAtTime(t,e){const n=this.toSeconds(e),s=this._fromType(t);return ia(isFinite(s)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),s=this._events.get(e);let i=this._initialValue;if(null===s)i=this._initialValue;else if("setTargetAtTime"!==s.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)i=s.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=s.value;if("setTargetAtTime"===s.type){const e=this._events.getBefore(s.time);t=null===e?this._initialValue:e.value}i="linearRampToValueAtTime"===n.type?this._linearInterpolate(s.time,t,n.time,n.value,e):this._exponentialInterpolate(s.time,t,n.time,n.value,e)}else i=s.value;else{const t=this._events.getBefore(s.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===s.type&&(i=this._exponentialApproach(s.time,n,s.value,s.constant,e))}return this._toType(i)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),s=this.toSeconds(e);return ia(isFinite(n)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:s,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,s),this._param.linearRampToValueAtTime(n,s),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=Ua(n,0)?this._minOutput:n,this._assertRange(n);const s=this.toSeconds(e);return ia(isFinite(n)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,s),this._param.exponentialRampToValueAtTime(n,s),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const s=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,s),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const s=this._fromType(t);ia(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(e);return this._assertRange(s),ia(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",t,i,n),this._param.setTargetAtTime(s,i,n),this}setValueCurveAtTime(t,e,n,s=1){n=this.toSeconds(n),e=this.toSeconds(e);const i=this._fromType(t[0])*s;this.setValueAtTime(this._toType(i),e);const r=n/(t.length-1);for(let o=1;o<t.length;o++){const n=this._fromType(t[o])*s;this.linearRampToValueAtTime(this._toType(n),e+o*r)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return ia(isFinite(e),"Invalid argument to cancelScheduledValues: "+JSON.stringify(t)),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));ia(isFinite(e),"Invalid argument to cancelAndHoldAtTime: "+JSON.stringify(t)),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const s=this._events.get(e),i=this._events.getAfter(e);return s&&Ua(s.time,e)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const s=this._events.getAfter(n.time),i=s?s.time:e+2,r=(i-e)/10;for(let n=e;n<i;n+=r)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)}),this}setParam(t){ia(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,s,i){return n+(e-n)*Math.exp(-(i-t)/s)}_linearInterpolate(t,e,n,s,i){return e+(i-t)/(n-t)*(s-e)}_exponentialInterpolate(t,e,n,s,i){return e*Math.pow(s/e,(i-t)/(n-t))}}class qc extends jc{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return pa(this.input)?Aa(this.input)||this.input instanceof Ic?1:this.input.numberOfInputs:0}get numberOfOutputs(){return pa(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return pa(t)&&(t instanceof qc||Da(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){const e=this._getInternalNodes();e.forEach(e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();ia(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return Pc(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return la("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return Vc(this,t,e,n),this}chain(...t){return Fc(this,...t),this}fan(...t){return t.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),pa(this.input)&&(this.input instanceof qc?this.input.dispose():Da(this.input)&&this.input.disconnect()),pa(this.output)&&(this.output instanceof qc?this.output.dispose():Da(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Fc(...t){const e=t.shift();t.reduce((t,e)=>(t instanceof qc?t.connect(e):Da(t)&&Pc(t,e),e),e)}function Pc(t,e,n=0,s=0){ia(pa(t),"Cannot connect from undefined node"),ia(pa(e),"Cannot connect to undefined node"),(e instanceof qc||Da(e))&&ia(e.numberOfInputs>0,"Cannot connect to node with no inputs"),ia(t.numberOfOutputs>0,"Cannot connect from node with no outputs");while(e instanceof qc||e instanceof Ic)pa(e.input)&&(e=e.input);while(t instanceof qc)pa(t.output)&&(t=t.output);Aa(e)?t.connect(e,n):t.connect(e,n,s)}function Vc(t,e,n=0,s=0){if(pa(e))while(e instanceof qc)e=e.input;while(!Da(t))pa(t.output)&&(t=t.output);Aa(e)?t.disconnect(e,n):Da(e)?t.disconnect(e,n,s):t.disconnect()}class Nc extends qc{constructor(){super(Fa(Nc.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=Fa(Nc.getDefaults(),arguments,["gain","units"]);this.gain=new Ic({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),ic(this,"gain")}static getDefaults(){return Object.assign(qc.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Lc extends qc{constructor(t){super(t),this.onended=oc,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Nc({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(qc.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:oc})}_startGain(t,e=1){ia(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){ia(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==oc&&(this.onended(this),this.onended=oc,!this.context.isOffline)){const t=()=>this.dispose();"undefined"!==typeof window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ia(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class zc extends Lc{constructor(){super(Fa(zc.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=Fa(zc.getDefaults(),arguments,["offset"]);Pc(this._source,this._gainNode),this.offset=new Ic({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(Lc.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Bc extends qc{constructor(){super(Fa(Bc.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=Fa(Bc.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new zc({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(qc.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return Wc(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,s){return this._param.setValueCurveAtTime(t,e,n,s),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Wc(t,e,n,s){(e instanceof Ic||Aa(e)||e instanceof Bc&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Bc&&(e.overridden=!0)),Pc(t,e,n,s)}class Gc extends Ic{constructor(){super(Fa(Gc.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Qa(1/0),this._multiplier=1;const t=Fa(Gc.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Ic.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const s=this._fromType(t),i=this._events.get(e),r=Math.round(Math.max(1/n,1));for(let o=0;o<=r;o++){const t=n*o+e,r=this._exponentialApproach(i.time,i.value,s,n,t);this.linearRampToValueAtTime(this._toType(r),t)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const s=this._events.get(n),i=this._events.previousEvent(s),r=this._getTicksUntilEvent(i,n);return s.ticks=Math.max(r,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const s=this._events.get(n),i=this._events.previousEvent(s),r=this._getTicksUntilEvent(i,n);return s.ticks=Math.max(r,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),s=this._events.get(e),i=Math.round(Math.max(10*(e-s.time),1)),r=(e-s.time)/i;for(let o=0;o<=i;o++){const t=r*o+s.time,i=this._exponentialInterpolate(s.time,s.value,e,n,t);this.linearRampToValueAtTime(this._toType(i),t)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ha(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let s=this._fromType(this.getValueAtTime(e));const i=this._events.get(e);return i&&i.time===e&&"setValueAtTime"===i.type&&(s=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+s)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),s=this.getTicksAtTime(e);return this.getTimeOfTick(s+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const s=this._fromType(this.getValueAtTime(e.time)),i=this._fromType(this.getValueAtTime(n.time)),r=(i-s)/(n.time-e.time),o=Math.sqrt(Math.pow(s,2)-2*r*(e.ticks-t)),a=(-s+o)/r,c=(-s-o)/r;return(a>0?a:c)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),s=this.toSeconds(t),i=this.getTicksAtTime(n),r=this.getTicksAtTime(n+s);return r-i}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class Uc extends Bc{constructor(){super(Fa(Uc.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=Fa(Uc.getDefaults(),arguments,["value"]);this.input=this._param=new Gc({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Bc.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class $c extends jc{constructor(){super(Fa($c.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Rc,this._tickOffset=new Qa;const t=Fa($c.getDefaults(),arguments,["frequency"]);this.frequency=new Uc({context:this.context,units:t.units,value:t.frequency}),ic(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},jc.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),pa(e)&&this.setTicksAtTime(e,n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&this._state.setStateAtTime("paused",e),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);let i=n,r=0;return this._state.forEachBetween(n.time,e+this.sampleTime,t=>{let e=i.time;const n=this._tickOffset.get(t.time);n&&n.time>=i.time&&(r=n.ticks,e=n.time),"started"===i.state&&"started"!==t.state&&(r+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),i=t}),this._state.remove(s),r}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);let s=e,i=0;return this._state.forEachBetween(e.time,t+this.sampleTime,t=>{let e=s.time;const n=this._tickOffset.get(t.time);n&&n.time>=s.time&&(i=n.seconds,e=n.time),"started"===s.state&&"started"!==t.state&&(i+=t.time-e),s=t}),this._state.remove(n),i}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),s=this._state.get(e),i=Math.max(n.time,s.time),r=this.frequency.getTicksAtTime(i)+t-n.ticks;return this.frequency.getTimeOfTick(r)}forEachTickBetween(t,e,n){let s=this._state.get(t);this._state.forEachBetween(t,e,e=>{s&&"started"===s.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(s.time,t),e.time-this.sampleTime,n),s=e});let i=null;if(s&&"started"===s.state){const o=Math.max(s.time,t),a=this.frequency.getTicksAtTime(o),c=this.frequency.getTicksAtTime(s.time),u=a-c;let l=Math.ceil(u)-u;l=Ua(l,1)?0:l;let h=this.frequency.getTimeOfTick(a+l);while(h<e){try{n(h,Math.round(this.getTicksAtTime(h)))}catch(r){i=r;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Qc extends jc{constructor(){super(Fa(Qc.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=oc,this._lastUpdate=0,this._state=new Rc("stopped"),this._boundLoop=this._loop.bind(this);const t=Fa(Qc.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new $c({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ic(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(jc.getDefaults(),{callback:oc,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){oa(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),s=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(s+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time);break}}),this._tickSource.forEachTickBetween(t,e,(t,e)=>{this.callback(t,e)}))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}tc.mixin(Qc);class Yc extends qc{constructor(){super(Fa(Yc.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const t=Fa(Yc.getDefaults(),arguments,["delayTime","maxDelay"]),e=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(e,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(e),this.delayTime=new Ic({context:this.context,param:this._delayNode.delayTime,units:"time",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),ic(this,"delayTime")}static getDefaults(){return Object.assign(qc.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function Xc(t,e,n=2,s=hc().sampleRate){return ka(this,void 0,void 0,(function*(){const i=hc(),r=new cc(n,e,s);pc(r),yield t(r);const o=r.render();pc(i);const a=yield o;return new ac(a)}))}class Hc extends La{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=Fa(Hc.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:oc,onload:oc,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return ia(this.has(t),"ToneAudioBuffers has no buffer named: "+t),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,e])=>e.loaded)}add(t,e,n=oc,s=oc){return va(e)?this._buffers.set(t.toString(),new ac(this.baseUrl+e,n,s)):this._buffers.set(t.toString(),new ac(e,n,s)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class Zc extends kc{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return bc(super._frequencyToUnits(t))}_ticksToUnits(t){return bc(super._ticksToUnits(t))}_beatsToUnits(t){return bc(super._beatsToUnits(t))}_secondsToUnits(t){return bc(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return wc(this.toMidi())}transpose(t){return new Zc(this.context,this.toMidi()+t)}}function Jc(t,e){return new Zc(hc(),t,e)}class Kc extends Ec{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function tu(t,e){return new Kc(hc(),t,e)}class eu extends jc{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Qa,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;while(this._events.length&&this._events.peek().time-this.anticipation<=t){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Xa(t=>{t.draw=new eu({context:t})}),Ja(t=>{t.draw.dispose()});class nu extends La{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){ia(pa(t.time),"Events must have a time property"),ia(pa(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new su(t.time,t.time+t.duration,t);null===this._root?this._root=e:this._root.insert(e),this._length++;while(null!==e)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,t=>this.remove(t)),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{const e=t.getBalance();let n,s=null;if(e>0)if(null===t.left.right)n=t.left,n.right=t.right,s=n;else{n=t.left.right;while(null!==n.right)n=n.right;n.parent&&(n.parent.right=n.left,s=n.parent,n.left=t.left,n.right=t.right)}else if(null===t.right.left)n=t.right,n.left=t.left,s=n;else{n=t.right.left;while(null!==n.left)n=n.left;n.parent&&(n.parent.left=n.right,s=n.parent,n.left=t.left,n.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=n:t.parent.right=n:this._setRoot(n),s&&this._rebalance(s)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),s=t.right;s&&(t.right=s.left,s.left=t),null!==e?n?e.left=s:e.right=s:this._setRoot(s)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),s=t.left;s&&(t.left=s.right,s.right=t),null!==e?n?e.left=s:e.right=s:this._setRoot(s)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse(t=>e.push(t)),e.forEach(e=>{e.event&&t(e.event)})}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach(t=>{t.event&&e(t.event)})}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach(t=>{t.event&&e(t.event)})}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class su{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class iu extends qc{constructor(){super(Fa(iu.getDefaults(),arguments,["volume"])),this.name="Volume";const t=Fa(iu.getDefaults(),arguments,["volume"]);this.input=this.output=new Nc({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,ic(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(qc.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class ru extends qc{constructor(){super(Fa(ru.getDefaults(),arguments)),this.name="Destination",this.input=new iu({context:this.context}),this.output=new Nc({context:this.context}),this.volume=this.input.volume;const t=Fa(ru.getDefaults(),arguments);Fc(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(qc.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),Fc(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Xa(t=>{t.destination=new ru({context:t})}),Ja(t=>{t.destination.dispose()});class ou extends La{constructor(t){super(),this.name="TimelineValue",this._timeline=new Qa({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class au{constructor(t,e){this.id=au._eventId++;const n=Object.assign(au.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:oc,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}au._eventId=0;class cu extends au{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(cu.getDefaults(),e);this.duration=new Kc(t.context,n.duration).valueOf(),this._interval=new Kc(t.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},au.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){const e=this.transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Kc(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const e=this.transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new Kc(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Kc(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class uu extends jc{constructor(){super(Fa(uu.getDefaults(),arguments)),this.name="Transport",this._loop=new ou(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Qa,this._repeatedEvents=new nu,this._syncedSignals=[],this._swingAmount=0;const t=Fa(uu.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new Qc({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),ic(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(jc.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!==0&&e%(2*this._swingTicks)!==0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),s=Math.sin(n*Math.PI)*this._swingAmount;t+=new Kc(this.context,2*this._swingTicks/3).toSeconds()*s}this._timeline.forEachAtTime(e,e=>e.invoke(t))}schedule(t,e){const n=new au(this,{callback:t,time:new Ec(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,s=1/0){const i=new cu(this,{callback:t,duration:new Sc(this.context,s).toTicks(),interval:new Sc(this.context,e).toTicks(),time:new Ec(this.context,n).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(t,e){const n=new au(this,{callback:t,once:!0,time:new Ec(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,t=>this.clear(t.id)),this._repeatedEvents.forEachFrom(e,t=>this.clear(t.id)),this}_bindClockEvents(){this._clock.on("start",(t,e)=>{e=new Kc(this.context,e).toSeconds(),this.emit("start",t,e)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return pa(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){ga(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Sc(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Sc(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new Kc(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new Kc(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now(),e=this._clock.getTicksAtTime(t);return(e-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),s=this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e),i=e+s;this.emit("stop",i),this._clock.setTicksAtTime(t,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=this.getTicksAtTime(e),s=t-n%t;return this._clock.nextTickTime(s,e)}}syncSignal(t,e){if(!e){const n=this.now();if(0!==t.getValueAtTime(n)){const s=this.bpm.getValueAtTime(n),i=1/(60/s/this.PPQ);e=t.getValueAtTime(n)/i}else e=0}const n=new Nc(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),rc(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}tc.mixin(uu),Xa(t=>{t.transport=new uu({context:t})}),Ja(t=>{t.transport.dispose()});class lu extends qc{constructor(t){super(t),this.input=void 0,this._state=new Rc("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=oc,this._syncedStop=oc,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new iu({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,ic(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(qc.getDefaults(),{mute:!1,onstop:oc,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let s=ha(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(s=this._clampToCurrentTime(s),this._synced||"started"!==this._state.getValueAtTime(s))if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const t=this._state.get(s);t&&(t.offset=this.toSeconds(Va(e,0)),t.duration=n?this.toSeconds(n):void 0);const i=this.context.transport.schedule(t=>{this._start(t,e,n)},s);this._scheduled.push(i),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else oa(this.context),this._start(s,e,n);else ia(Ba(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,e,n);return this}stop(t){let e=ha(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||pa(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(e>0){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const s=e-this.toSeconds(n.time);let i;n.duration&&(i=this.toSeconds(n.duration)-s),this._start(t,this.toSeconds(n.offset)+s,i)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=oc,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class hu extends Lc{constructor(){super(Fa(hu.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=Fa(hu.getDefaults(),arguments,["url","onload"]);Pc(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Ic({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new ac(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Lc.getDefaults(),{url:new ac,loop:!1,loopEnd:0,loopStart:0,onload:oc,onerror:oc,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,s=1){ia(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(t);this._startGain(i,s),e=this.loop?Va(e,this.loopStart):Va(e,0);let r=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;Wa(r,t)&&(r=(r-e)%n+e),Ua(r,this.buffer.duration)&&(r=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Ga(r,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,r)),pa(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(i+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class pu extends lu{constructor(){super(Fa(pu.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const t=Fa(pu.getDefaults(),arguments,["type"]);this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(lu.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(ia(t in _u,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,"started"===this.state)){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){const e=_u[this._type];this._source=new hu({url:e,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const du=220500,fu=2,mu={brown:null,pink:null,white:null},_u={get brown(){if(!mu.brown){const t=[];for(let e=0;e<fu;e++){const n=new Float32Array(du);t[e]=n;let s=0;for(let t=0;t<du;t++){const e=2*Math.random()-1;n[t]=(s+.02*e)/1.02,s=n[t],n[t]*=3.5}}mu.brown=(new ac).fromArray(t)}return mu.brown},get pink(){if(!mu.pink){const t=[];for(let e=0;e<fu;e++){const n=new Float32Array(du);let s,i,r,o,a,c,u;t[e]=n,s=i=r=o=a=c=u=0;for(let t=0;t<du;t++){const e=2*Math.random()-1;s=.99886*s+.0555179*e,i=.99332*i+.0750759*e,r=.969*r+.153852*e,o=.8665*o+.3104856*e,a=.55*a+.5329522*e,c=-.7616*c-.016898*e,n[t]=s+i+r+o+a+c+u+.5362*e,n[t]*=.11,u=.115926*e}}mu.pink=(new ac).fromArray(t)}return mu.pink},get white(){if(!mu.white){const t=[];for(let e=0;e<fu;e++){const n=new Float32Array(du);t[e]=n;for(let t=0;t<du;t++)n[t]=2*Math.random()-1}mu.white=(new ac).fromArray(t)}return mu.white}};class gu extends qc{constructor(){super(Fa(gu.getDefaults(),arguments,["volume"])),this.name="UserMedia";const t=Fa(gu.getDefaults(),arguments,["volume"]);this._volume=this.output=new iu({context:this.context,volume:t.volume}),this.volume=this._volume.volume,ic(this,"volume"),this.mute=t.mute}static getDefaults(){return Object.assign(qc.getDefaults(),{mute:!1,volume:0})}open(t){return ka(this,void 0,void 0,(function*(){ia(gu.supported,"UserMedia is not supported"),"started"===this.state&&this.close();const e=yield gu.enumerateDevices();fa(t)?this._device=e[t]:(this._device=e.find(e=>e.label===t||e.deviceId===t),!this._device&&e.length>0&&(this._device=e[0]),ia(pa(this._device),"No matching device "+t));const n={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(n.audio.deviceId=this._device.deviceId);const s=yield navigator.mediaDevices.getUserMedia(n);if(!this._stream){this._stream=s;const t=this.context.createMediaStreamSource(s);Pc(t,this.output),this._mediaStream=t}return this}))}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach(t=>{t.stop()}),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return ka(this,void 0,void 0,(function*(){const t=yield navigator.mediaDevices.enumerateDevices();return t.filter(t=>"audioinput"===t.kind)}))}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return pa(navigator.mediaDevices)&&pa(navigator.mediaDevices.getUserMedia)}}function vu(t,e){return ka(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,s=new cc(1,n,t.context.sampleRate),i=new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination();i.start(0);const r=yield s.render();return r.getChannelData(0)}))}class yu extends Lc{constructor(){super(Fa(yu.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=Fa(yu.getDefaults(),arguments,["frequency","type"]);Pc(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Ic({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Ic({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),ic(this,["frequency","detune"])}static getDefaults(){return Object.assign(Lc.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class bu extends lu{constructor(){super(Fa(bu.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=Fa(bu.getDefaults(),arguments,["frequency","type"]);this.frequency=new Bc({context:this.context,units:"frequency",value:t.frequency}),ic(this,"frequency"),this.detune=new Bc({context:this.context,units:"cents",value:t.detune}),ic(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(lu.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new yu({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type){const t=bu._periodicWaveCache.find(t=>t.phase===this._phase&&qa(t.partials,this._partials));return t}{const t=bu._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(pa(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),s=this.context.createPeriodicWave(e,n);this._wave=s,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),bu._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),bu._periodicWaveCache.length>100&&bu._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){ra(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach((t,n)=>e[n]=t),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){const n=4096;let s=n/2;const i=new Float32Array(s),r=new Float32Array(s);let o=1;if("custom"===t){if(o=this._partials.length+1,this._partialCount=this._partials.length,s=o,0===this._partials.length)return[i,r]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(o=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],o=Math.max(o,2),s=o):this._partialCount=0,this._partials=[]}for(let a=1;a<s;++a){const n=2/(a*Math.PI);let s;switch(t){case"sine":s=a<=o?1:0,this._partials[a-1]=s;break;case"square":s=1&a?2*n:0,this._partials[a-1]=s;break;case"sawtooth":s=n*(1&a?1:-1),this._partials[a-1]=s;break;case"triangle":s=1&a?n*n*2*(a-1>>1&1?-1:1):0,this._partials[a-1]=s;break;case"custom":s=this._partials[a-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==s?(i[a]=-s*Math.sin(e*a),r[a]=s*Math.cos(e*a)):(i[a]=0,r[a]=0)}return[i,r]}_inverseFFT(t,e,n){let s=0;const i=t.length;for(let r=0;r<i;r++)s+=t[r]*Math.cos(r*n)+e[r]*Math.sin(r*n);return s}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const s=2*Math.PI,i=32;for(let r=0;r<i;r++)n=Math.max(this._inverseFFT(t,e,r/i*s),n);return $a(-this._inverseFFT(t,e,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return ka(this,void 0,void 0,(function*(){return vu(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}bu._periodicWaveCache=[];class xu extends qc{constructor(){super(Object.assign(Fa(xu.getDefaults(),arguments,["context"])))}connect(t,e=0,n=0){return Wc(this,t,e,n),this}}class wu extends xu{constructor(){super(Object.assign(Fa(wu.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=Fa(wu.getDefaults(),arguments,["mapping","length"]);ga(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):da(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Bc.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let s=0,i=e;s<i;s++){const e=s/(i-1)*2-1;n[s]=t(e,s)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const e=["none","2x","4x"].some(e=>e.includes(t));ia(e,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Tu extends xu{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new wu({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Su extends Bc{constructor(){super(Object.assign(Fa(Su.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=Fa(Su.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Nc({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Bc.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ou extends lu{constructor(){super(Fa(Ou.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Tu({context:this.context}),this._modulationNode=new Nc({context:this.context});const t=Fa(Ou.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new bu({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new bu({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Su({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ic(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(bu.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return ka(this,void 0,void 0,(function*(){return vu(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class ku extends lu{constructor(){super(Fa(ku.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Nc({context:this.context,gain:0});const t=Fa(ku.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new bu({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Bc({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new bu({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Su({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Su({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ic(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(bu.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return ka(this,void 0,void 0,(function*(){return vu(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Cu extends lu{constructor(){super(Fa(Cu.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Nc({context:this.context,gain:0}),this._thresh=new wu({context:this.context,mapping:t=>t<=0?-1:1});const t=Fa(Cu.getDefaults(),arguments,["frequency","width"]);this.width=new Bc({context:this.context,units:"audioRange",value:t.width}),this._triangle=new bu({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ic(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(lu.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return ka(this,void 0,void 0,(function*(){return vu(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Au extends lu{constructor(){super(Fa(Au.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=Fa(Au.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Bc({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Bc({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,ic(this,["frequency","detune"])}static getDefaults(){return Object.assign(bu.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(e=>e.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(e=>e.stop(t))}_restart(t){this._forEach(e=>e.restart(t))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach(e=>e.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach((t,s)=>t.detune.value=e+n*s)}}get count(){return this._oscillators.length}set count(t){if(ra(t,1),this._oscillators.length!==t){this._forEach(t=>t.dispose()),this._oscillators=[];for(let e=0;e<t;e++){const n=new bu({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):oc});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((t,e)=>t.phase=this._phase+e/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(e=>e.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(e=>e.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(e=>e.partialCount=t),this._type=this._oscillators[0].type}asArray(t=1024){return ka(this,void 0,void 0,(function*(){return vu(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class Du extends lu{constructor(){super(Fa(Du.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Su({context:this.context,value:2});const t=Fa(Du.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Cu({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new bu({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ic(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(lu.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return ka(this,void 0,void 0,(function*(){return vu(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Eu={am:Ou,fat:Au,fm:ku,oscillator:bu,pulse:Cu,pwm:Du};class Mu extends lu{constructor(){super(Fa(Mu.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=Fa(Mu.getDefaults(),arguments,["frequency","type"]);this.frequency=new Bc({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Bc({context:this.context,units:"cents",value:t.detune}),ic(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(bu.getDefaults(),ku.getDefaults(),Ou.getDefaults(),Au.getDefaults(),Cu.getDefaults(),Du.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=Eu[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout(()=>t.dispose(),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof Eu[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&fa(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&fa(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&va(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return ka(this,void 0,void 0,(function*(){return vu(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class ju extends Bc{constructor(){super(Object.assign(Fa(ju.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new Nc({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Fc(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Bc.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Ru extends xu{constructor(){super(Object.assign(Fa(Ru.getDefaults(),arguments,["min","max"]))),this.name="Scale";const t=Fa(Ru.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Su({context:this.context,value:t.max-t.min}),this._add=this.output=new ju({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(xu.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Iu extends xu{constructor(){super(Object.assign(Fa(Iu.getDefaults(),arguments))),this.name="Zero",this._gain=new Nc({context:this.context}),this.output=this._gain,this.input=void 0,Pc(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Vc(this.context.getConstant(0),this._gain),this}}class qu extends qc{constructor(){super(Fa(qu.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Ic.prototype._fromType,this._toType=Ic.prototype._toType,this._is=Ic.prototype._is,this._clampValue=Ic.prototype._clampValue;const t=Fa(qu.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new bu(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Nc({context:this.context,gain:t.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Bc({context:this.context,units:"audioRange",value:0}),this._zeros=new Iu({context:this.context}),this._a2g=new Tu({context:this.context}),this._scaler=this.output=new Ru({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),ic(this,["amplitude","frequency"]),this.phase=t.phase}static getDefaults(){return Object.assign(bu.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){const e=this.min,n=this.max;this._units=t,this.min=e,this.max=n}get state(){return this._oscillator.state}connect(t,e,n){return(t instanceof Ic||t instanceof Bc)&&(this.convert=t.convert,this.units=t.units),Wc(this,t,e,n),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Fu(t,e=1/0){const n=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){ra(s,t,e),n.set(this,s)}})}}function Pu(t,e=1/0){const n=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){ra(this.toSeconds(s),t,e),n.set(this,s)}})}}class Vu extends lu{constructor(){super(Fa(Vu.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=Fa(Vu.getDefaults(),arguments,["url","onload"]);this._buffer=new ac({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(lu.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:oc,onerror:oc,playbackRate:1,reverse:!1})}load(t){return ka(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=oc){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?Va(e,this._loopStart):Va(e,0);const s=this.toSeconds(e),i=n;n=Va(n,Math.max(this._buffer.duration-s,0));let r=this.toSeconds(n);r/=this._playbackRate,t=this.toSeconds(t);const o=new hu({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+r),this._state.setStateAtTime("stopped",t+r,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&ha(i)?o.start(t,s):o.start(t,s,r-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach(t=>t.stop(e))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&ra(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&ra(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(e=>{e.loop=t}),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach(t=>t.cancelStop())),this._activeSources.forEach(n=>{n.playbackRate.setValueAtTime(t,e)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Oa([Pu(0)],Vu.prototype,"fadeIn",void 0),Oa([Pu(0)],Vu.prototype,"fadeOut",void 0);class Nu extends qc{constructor(){super(Fa(Nu.getDefaults(),arguments,["urls","onload"],"urls")),this.name="Players",this.input=void 0,this._players=new Map;const t=Fa(Nu.getDefaults(),arguments,["urls","onload"],"urls");this._volume=this.output=new iu({context:this.context,volume:t.volume}),this.volume=this._volume.volume,ic(this,"volume"),this._buffers=new Hc({urls:t.urls,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.mute=t.mute,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(lu.getDefaults(),{baseUrl:"",fadeIn:0,fadeOut:0,mute:!1,onload:oc,onerror:oc,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._players.forEach(e=>{e.fadeIn=t})}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._players.forEach(e=>{e.fadeOut=t})}get state(){const t=Array.from(this._players).some(([t,e])=>"started"===e.state);return t?"started":"stopped"}has(t){return this._buffers.has(t)}player(t){if(ia(this.has(t),`No Player with the name ${t} exists on this object`),!this._players.has(t)){const e=new Vu({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(t)}).connect(this.output);this._players.set(t,e)}return this._players.get(t)}get loaded(){return this._buffers.loaded}add(t,e,n){return ia(!this._buffers.has(t),"A buffer with that name already exists on this object"),this._buffers.add(t,e,n),this}stopAll(t){return this._players.forEach(e=>e.stop(t)),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach(t=>t.dispose()),this._buffers.dispose(),this}}class Lu extends lu{constructor(){super(Fa(Lu.getDefaults(),arguments,["url","onload"])),this.name="GrainPlayer",this._loopStart=0,this._loopEnd=0,this._activeSources=[];const t=Fa(Lu.getDefaults(),arguments,["url","onload"]);this.buffer=new ac({onload:t.onload,onerror:t.onerror,reverse:t.reverse,url:t.url}),this._clock=new Qc({context:this.context,callback:this._tick.bind(this),frequency:1/t.grainSize}),this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on("stop",this._onstop.bind(this))}static getDefaults(){return Object.assign(lu.getDefaults(),{onload:oc,onerror:oc,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(t,e,n){e=Va(e,0),e=this.toSeconds(e),t=this.toSeconds(t);const s=1/this._clock.frequency.getValueAtTime(t);this._clock.start(t,e/s),n&&this.stop(t+this.toSeconds(n))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}_stop(t){this._clock.stop(t)}_onstop(t){this._activeSources.forEach(e=>{e.fadeOut=0,e.stop(t)}),this.onstop(this)}_tick(t){const e=this._clock.getTicksAtTime(t),n=e*this._grainSize;if(this.log("offset",n),!this.loop&&n>this.buffer.duration)return void this.stop(t);const s=n<this._overlap?0:this._overlap,i=new hu({context:this.context,url:this.buffer,fadeIn:s,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:_c(this.detune/100)}).connect(this.output);i.start(t,this._grainSize*e),i.stop(t+this._grainSize/this.playbackRate),this._activeSources.push(i),i.onended=()=>{const t=this._activeSources.indexOf(i);-1!==t&&this._activeSources.splice(t,1)}}get playbackRate(){return this._playbackRate}set playbackRate(t){ra(t,.001),this._playbackRate=t,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(t){this.buffer.loaded&&ra(this.toSeconds(t),0,this.buffer.duration),this._loopStart=this.toSeconds(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this.buffer.loaded&&ra(this.toSeconds(t),0,this.buffer.duration),this._loopEnd=this.toSeconds(t)}get reverse(){return this.buffer.reverse}set reverse(t){this.buffer.reverse=t}get grainSize(){return this._grainSize}set grainSize(t){this._grainSize=this.toSeconds(t),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(t){const e=this.toSeconds(t);ra(e,0),this._overlap=e}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach(t=>t.dispose()),this}}class zu extends xu{constructor(){super(...arguments),this.name="Abs",this._abs=new wu({context:this.context,mapping:t=>Math.abs(t)<.001?0:Math.abs(t)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class Bu extends xu{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new wu({context:this.context,mapping:t=>2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Wu extends xu{constructor(){super(...arguments),this.name="Negate",this._multiply=new Su({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class Gu extends Bc{constructor(){super(Object.assign(Fa(Gu.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new Nc({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new Wu({context:this.context}),this.subtrahend=this._param,Fc(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(Bc.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class Uu extends xu{constructor(){super(Object.assign(Fa(Uu.getDefaults(),arguments))),this.name="GreaterThanZero",this._thresh=this.output=new wu({context:this.context,length:127,mapping:t=>t<=0?0:1}),this._scale=this.input=new Su({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class $u extends Bc{constructor(){super(Object.assign(Fa($u.getDefaults(),arguments,["value"]))),this.name="GreaterThan",this.override=!1;const t=Fa($u.getDefaults(),arguments,["value"]);this._subtract=this.input=new Gu({context:this.context,value:t.value}),this._gtz=this.output=new Uu({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,ic(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(Bc.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class Qu extends xu{constructor(){super(Object.assign(Fa(Qu.getDefaults(),arguments,["value"]))),this.name="Pow";const t=Fa(Qu.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new wu({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(xu.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Yu extends Ru{constructor(){super(Object.assign(Fa(Yu.getDefaults(),arguments,["min","max","exponent"]))),this.name="ScaleExp";const t=Fa(Yu.getDefaults(),arguments,["min","max","exponent"]);this.input=this._exp=new Qu({context:this.context,value:t.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(Ru.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(t){this._exp.value=t}dispose(){return super.dispose(),this._exp.dispose(),this}}class Xu extends Bc{constructor(){super(Fa(Bc.getDefaults(),arguments,["value","units"])),this.name="SyncedSignal",this.override=!1;const t=Fa(Bc.getDefaults(),arguments,["value","units"]);this._lastVal=t.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on("start",this._syncedCallback),this.context.transport.on("pause",this._syncedCallback),this.context.transport.on("stop",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new zc({context:this.context,offset:t.value,units:t.units}).start(0),this.setValueAtTime(t.value,0)}_onTick(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==e&&(this._lastVal=e,this._constantSource.offset.setValueAtTime(e,t))}_anchorValue(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal=e,this._constantSource.offset.cancelAndHoldAtTime(t),this._constantSource.offset.setValueAtTime(e,t)}getValueAtTime(t){const e=new Ec(this.context,t).toSeconds();return super.getValueAtTime(e)}setValueAtTime(t,e){const n=new Ec(this.context,e).toSeconds();return super.setValueAtTime(t,n),this}linearRampToValueAtTime(t,e){const n=new Ec(this.context,e).toSeconds();return super.linearRampToValueAtTime(t,n),this}exponentialRampToValueAtTime(t,e){const n=new Ec(this.context,e).toSeconds();return super.exponentialRampToValueAtTime(t,n),this}setTargetAtTime(t,e,n){const s=new Ec(this.context,e).toSeconds();return super.setTargetAtTime(t,s,n),this}cancelScheduledValues(t){const e=new Ec(this.context,t).toSeconds();return super.cancelScheduledValues(e),this}setValueCurveAtTime(t,e,n,s){const i=new Ec(this.context,e).toSeconds();return n=this.toSeconds(n),super.setValueCurveAtTime(t,i,n,s),this}cancelAndHoldAtTime(t){const e=new Ec(this.context,t).toSeconds();return super.cancelAndHoldAtTime(e),this}setRampPoint(t){const e=new Ec(this.context,t).toSeconds();return super.setRampPoint(e),this}exponentialRampTo(t,e,n){const s=new Ec(this.context,n).toSeconds();return super.exponentialRampTo(t,e,s),this}linearRampTo(t,e,n){const s=new Ec(this.context,n).toSeconds();return super.linearRampTo(t,e,s),this}targetRampTo(t,e,n){const s=new Ec(this.context,n).toSeconds();return super.targetRampTo(t,e,s),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off("start",this._syncedCallback),this.context.transport.off("pause",this._syncedCallback),this.context.transport.off("stop",this._syncedCallback),this._constantSource.dispose(),this}}class Hu extends qc{constructor(){super(Fa(Hu.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Bc({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=Fa(Hu.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(qc.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(va(t))return t;{let n;for(n in Zu)if(Zu[n][e]===t)return n;return t}}_setCurve(t,e,n){if(va(n)&&Reflect.has(Zu,n)){const s=Zu[n];ma(s)?"_decayCurve"!==t&&(this[t]=s[e]):this[t]=s}else{if(!ga(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){ia(["linear","exponential"].some(e=>e===t),"Invalid envelope curve: "+t),this._decayCurve=t}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);const n=this.toSeconds(this.attack);let s=n;const i=this.toSeconds(this.decay),r=this.getValueAtTime(t);if(r>0){const t=1/s,e=1-r;s=e/t}if(s<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,s,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,s,t);else{this._sig.cancelAndHoldAtTime(t);let n=this._attackCurve;for(let t=1;t<n.length;t++)if(n[t-1]<=r&&r<=n[t]){n=this._attackCurve.slice(t),n[0]=r;break}this._sig.setValueCurveAtTime(n,t,s,e)}if(i&&this.sustain<1){const n=e*this.sustain,r=t+s;this.log("decay",r),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(n,i+r):this._sig.exponentialApproachValueAtTime(n,r,i)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(ia(ga(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return Wc(this,t,e,n),this}asArray(t=1024){return ka(this,void 0,void 0,(function*(){const e=t/this.context.sampleRate,n=new cc(1,e,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),r=.1*i,o=i+r,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/o,decay:e*this.toSeconds(this.decay)/o,release:e*this.toSeconds(this.release)/o,context:n}));a._sig.toDestination(),a.triggerAttackRelease(e*(s+r)/o,0);const c=yield n.render();return c.getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}Oa([Pu(0)],Hu.prototype,"attack",void 0),Oa([Pu(0)],Hu.prototype,"decay",void 0),Oa([Fu(0,1)],Hu.prototype,"sustain",void 0),Oa([Pu(0)],Hu.prototype,"release",void 0);const Zu=(()=>{const t=128;let e,n;const s=[];for(e=0;e<t;e++)s[e]=Math.sin(e/(t-1)*(Math.PI/2));const i=[],r=6.4;for(e=0;e<t-1;e++){n=e/(t-1);const s=Math.sin(n*(2*Math.PI)*r-Math.PI/2)+1;i[e]=s/10+.83*n}i[t-1]=1;const o=[],a=5;for(e=0;e<t;e++)o[e]=Math.ceil(e/(t-1)*a)/a;const c=[];for(e=0;e<t;e++)n=e/(t-1),c[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<t;e++){n=e/(t-1);const s=4*Math.pow(n,3)+.2,i=Math.cos(s*Math.PI*2*n);u[e]=Math.abs(i*(1-n))}function l(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}function h(t){return t.slice(0).reverse()}return{bounce:{In:l(u),Out:u},cosine:{In:s,Out:h(s)},exponential:"exponential",linear:"linear",ripple:{In:i,Out:l(i)},sine:{In:c,Out:l(c)},step:{In:o,Out:l(o)}}})();class Ju extends qc{constructor(){super(Fa(Ju.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=Fa(Ju.getDefaults(),arguments);this._volume=this.output=new iu({context:this.context,volume:t.volume}),this.volume=this._volume.volume,ic(this,"volume")}static getDefaults(){return Object.assign(qc.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const s=t[e],i=this.context.transport.schedule(s=>{t[e]=s,n.apply(this,t)},s);this._scheduledEvents.push(i)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,n,s){const i=this.toSeconds(n),r=this.toSeconds(e);return this.triggerAttack(t,i,s),this.triggerRelease(i+r),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ku extends Ju{constructor(){super(Fa(Ku.getDefaults(),arguments));const t=Fa(Ku.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Ju.getDefaults(),{detune:0,onsilence:oc,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const s=this.toSeconds(e);return this._triggerEnvelopeAttack(s,n),this.setNote(t,s),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),s=t instanceof kc?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,t,n)}else this.frequency.setValueAtTime(s,n);return this}}Oa([Pu(0)],Ku.prototype,"portamento",void 0);class tl extends Hu{constructor(){super(Fa(tl.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Nc({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class el extends Ku{constructor(){super(Fa(el.getDefaults(),arguments)),this.name="Synth";const t=Fa(el.getDefaults(),arguments);this.oscillator=new Mu(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new tl(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),ic(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ku.getDefaults(),{envelope:Object.assign(Na(Hu.getDefaults(),Object.keys(qc.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Na(Mu.getDefaults(),[...Object.keys(lu.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class nl extends Ku{constructor(){super(Fa(nl.getDefaults(),arguments)),this.name="ModulationSynth";const t=Fa(nl.getDefaults(),arguments);this._carrier=new el({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new el({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Bc({context:this.context,units:"frequency"}),this.detune=new Bc({context:this.context,value:t.detune,units:"cents"}),this.harmonicity=new Su({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new Nc({context:this.context,gain:0}),ic(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Ku.getDefaults(),{harmonicity:3,oscillator:Object.assign(Na(Mu.getDefaults(),[...Object.keys(lu.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Na(Hu.getDefaults(),Object.keys(qc.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Na(Mu.getDefaults(),[...Object.keys(lu.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Na(Hu.getDefaults(),Object.keys(qc.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,e){this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class sl extends nl{constructor(){super(Fa(sl.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Tu({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class il extends qc{constructor(){super(Fa(il.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const t=Fa(il.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Ic({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new Ic({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new Ic({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new Ic({context:this.context,units:"decibels",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(qc.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){const e=["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"];ia(-1!==e.indexOf(t),"Invalid filter type: "+t),this._filter.type=t}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let r=0;r<t;r++){const n=Math.pow(r/t,2),s=19980*n+20;e[r]=s}const n=new Float32Array(t),s=new Float32Array(t),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(e,n,s),n}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class rl extends qc{constructor(){super(Fa(rl.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new Nc({context:this.context}),this.output=new Nc({context:this.context}),this._filters=[];const t=Fa(rl.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new Bc({context:this.context,units:"positive",value:t.Q}),this.frequency=new Bc({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Bc({context:this.context,units:"cents",value:t.detune}),this.gain=new Bc({context:this.context,units:"decibels",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,ic(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(qc.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(t){const e=["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"];ia(-1!==e.indexOf(t),"Invalid filter type: "+t),this._type=t,this._filters.forEach(e=>e.type=t)}get rolloff(){return this._rolloff}set rolloff(t){const e=fa(t)?t:parseInt(t,10),n=[-12,-24,-48,-96];let s=n.indexOf(e);ia(-1!==s,"rolloff can only be "+n.join(", ")),s+=1,this._rolloff=e,this.input.disconnect(),this._filters.forEach(t=>t.disconnect()),this._filters=new Array(s);for(let i=0;i<s;i++){const t=new il({context:this.context});t.type=this._type,this.frequency.connect(t.frequency),this.detune.connect(t.detune),this.Q.connect(t.Q),this.gain.connect(t.gain),this._filters[i]=t}this._internalChannels=this._filters,Fc(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const e=new il({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),n=new Float32Array(t).map(()=>1);return this._filters.forEach(()=>{const s=e.getFrequencyResponse(t);s.forEach((t,e)=>n[e]*=t)}),e.dispose(),n}dispose(){return super.dispose(),this._filters.forEach(t=>{t.dispose()}),rc(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class ol extends Hu{constructor(){super(Fa(ol.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const t=Fa(ol.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=t.octaves,this._baseFrequency=this.toFrequency(t.baseFrequency),this._exponent=this.input=new Qu({context:this.context,value:t.exponent}),this._scale=this.output=new Ru({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Hu.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){const e=this.toFrequency(t);ra(e,0),this._baseFrequency=e,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._scale.max=this._baseFrequency*Math.pow(2,t)}get exponent(){return this._exponent.value}set exponent(t){this._exponent.value=t}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class al extends Ku{constructor(){super(Fa(al.getDefaults(),arguments)),this.name="MonoSynth";const t=Fa(al.getDefaults(),arguments);this.oscillator=new Mu(Object.assign(t.oscillator,{context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new rl(Object.assign(t.filter,{context:this.context})),this.filterEnvelope=new ol(Object.assign(t.filterEnvelope,{context:this.context})),this.envelope=new tl(Object.assign(t.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),ic(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Ku.getDefaults(),{envelope:Object.assign(Na(Hu.getDefaults(),Object.keys(qc.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Na(rl.getDefaults(),Object.keys(qc.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Na(ol.getDefaults(),Object.keys(qc.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Na(Mu.getDefaults(),Object.keys(lu.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(t,e=1){if(this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class cl extends Ku{constructor(){super(Fa(cl.getDefaults(),arguments)),this.name="DuoSynth";const t=Fa(cl.getDefaults(),arguments);this.voice0=new al(Object.assign(t.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new al(Object.assign(t.voice1,{context:this.context})),this.harmonicity=new Su({context:this.context,units:"positive",value:t.harmonicity}),this._vibrato=new qu({frequency:t.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new Nc({context:this.context,units:"normalRange",gain:t.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new Bc({context:this.context,units:"frequency",value:440}),this.detune=new Bc({context:this.context,units:"cents",value:t.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),ic(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(t){return t=this.toSeconds(t),this.voice0.envelope.getValueAtTime(t)+this.voice1.envelope.getValueAtTime(t)}static getDefaults(){return Ia(Ku.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:Ia(Na(al.getDefaults(),Object.keys(Ku.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:Ia(Na(al.getDefaults(),Object.keys(Ku.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(t,e){this.voice0._triggerEnvelopeAttack(t,e),this.voice1._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class ul extends nl{constructor(){super(Fa(ul.getDefaults(),arguments)),this.name="FMSynth";const t=Fa(ul.getDefaults(),arguments);this.modulationIndex=new Su({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(nl.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const ll=[1,1.483,1.932,2.546,2.63,3.897];class hl extends Ku{constructor(){super(Fa(hl.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const t=Fa(hl.getDefaults(),arguments);this.detune=new Bc({context:this.context,units:"cents",value:t.detune}),this.frequency=new Bc({context:this.context,units:"frequency"}),this._amplitude=new Nc({context:this.context,gain:0}).connect(this.output),this._highpass=new rl({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let e=0;e<ll.length;e++){const n=new ku({context:this.context,harmonicity:t.harmonicity,modulationIndex:t.modulationIndex,modulationType:"square",onstop:0===e?()=>this.onsilence(this):oc,type:"square"});n.connect(this._highpass),this._oscillators[e]=n;const s=new Su({context:this.context,value:ll[e]});this._freqMultipliers[e]=s,this.frequency.chain(s,n.frequency),this.detune.connect(n.detune)}this._filterFreqScaler=new Ru({context:this.context,max:7e3,min:this.toFrequency(t.resonance)}),this.envelope=new Hu({attack:t.envelope.attack,attackCurve:"linear",context:this.context,decay:t.envelope.decay,release:t.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=t.octaves,this.octaves=t.octaves}static getDefaults(){return Ia(Ku.getDefaults(),{envelope:Object.assign(Na(Hu.getDefaults(),Object.keys(qc.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(t,e=1){return this.envelope.triggerAttack(t,e),this._oscillators.forEach(e=>e.start(t)),0===this.envelope.sustain&&this._oscillators.forEach(e=>{e.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(t){return this.envelope.triggerRelease(t),this._oscillators.forEach(e=>e.stop(t+this.toSeconds(this.envelope.release))),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(t){this._oscillators.forEach(e=>e.modulationIndex.value=t)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(t){this._oscillators.forEach(e=>e.harmonicity.value=t)}get resonance(){return this._filterFreqScaler.min}set resonance(t){this._filterFreqScaler.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}dispose(){return super.dispose(),this._oscillators.forEach(t=>t.dispose()),this._freqMultipliers.forEach(t=>t.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class pl extends el{constructor(){super(Fa(pl.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=Fa(pl.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,ic(this,["oscillator","envelope"])}static getDefaults(){return Ia(Ku.getDefaults(),el.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),s=this.toFrequency(t instanceof kc?t.toFrequency():t),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,n),this.oscillator.frequency.exponentialRampToValueAtTime(s,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Oa([Fu(0)],pl.prototype,"octaves",void 0),Oa([Pu(0)],pl.prototype,"pitchDecay",void 0);class dl extends Ju{constructor(){super(Fa(dl.getDefaults(),arguments)),this.name="NoiseSynth";const t=Fa(dl.getDefaults(),arguments);this.noise=new pu(Object.assign({context:this.context},t.noise)),this.envelope=new tl(Object.assign({context:this.context},t.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(Ju.getDefaults(),{envelope:Object.assign(Na(Hu.getDefaults(),Object.keys(qc.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Na(pu.getDefaults(),Object.keys(lu.getDefaults())),{type:"white"})})}triggerAttack(t,e=1){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),0===this.envelope.sustain&&this.noise.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const fl=new Set;function ml(t){fl.add(t)}function _l(t,e){const n=`registerProcessor("${t}", ${e})`;fl.add(n)}function gl(){return Array.from(fl).join("\n")}class vl extends qc{constructor(t){super(t),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=oc;const e=URL.createObjectURL(new Blob([gl()],{type:"text/javascript"})),n=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(e,n).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(n,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}const yl='\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n';ml(yl);const bl="\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n";ml(bl);const xl="\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n";ml(xl);const wl="feedback-comb-filter",Tl='\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n';_l(wl,Tl);class Sl extends vl{constructor(){super(Fa(Sl.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";const t=Fa(Sl.getDefaults(),arguments,["delayTime","resonance"]);this.input=new Nc({context:this.context}),this.output=new Nc({context:this.context}),this.delayTime=new Ic({context:this.context,value:t.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new Ic({context:this.context,value:t.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),ic(this,["resonance","delayTime"])}_audioWorkletName(){return wl}static getDefaults(){return Object.assign(qc.getDefaults(),{delayTime:.1,resonance:.5})}onReady(t){Fc(this.input,t,this.output);const e=t.parameters.get("delayTime");this.delayTime.setParam(e);const n=t.parameters.get("feedback");this.resonance.setParam(n)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class Ol extends qc{constructor(){super(Fa(Ol.getDefaults(),arguments,["frequency","type"])),this.name="OnePoleFilter";const t=Fa(Ol.getDefaults(),arguments,["frequency","type"]);this._frequency=t.frequency,this._type=t.type,this.input=new Nc({context:this.context}),this.output=new Nc({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(qc.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const t=this._filter,e=this.toFrequency(this._frequency),n=1/(2*Math.PI*e);if("lowpass"===this._type){const t=1/(n*this.context.sampleRate),e=t-1;this._filter=this.context.createIIRFilter([t,0],[1,e])}else{const t=1/(n*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,t])}this.input.chain(this._filter,this.output),t&&this.context.setTimeout(()=>{this.disposed||(this.input.disconnect(t),t.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(t){this._frequency=t,this._createFilter()}get type(){return this._type}set type(t){this._type=t,this._createFilter()}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let i=0;i<t;i++){const n=Math.pow(i/t,2),s=19980*n+20;e[i]=s}const n=new Float32Array(t),s=new Float32Array(t);return this._filter.getFrequencyResponse(e,n,s),n}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class kl extends qc{constructor(){super(Fa(kl.getDefaults(),arguments,["delayTime","resonance","dampening"])),this.name="LowpassCombFilter";const t=Fa(kl.getDefaults(),arguments,["delayTime","resonance","dampening"]);this._combFilter=this.output=new Sl({context:this.context,delayTime:t.delayTime,resonance:t.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new Ol({context:this.context,frequency:t.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(qc.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(t){this._lowpass.frequency=t}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class Cl extends Ju{constructor(){super(Fa(Cl.getDefaults(),arguments)),this.name="PluckSynth";const t=Fa(Cl.getDefaults(),arguments);this._noise=new pu({context:this.context,type:"pink"}),this.attackNoise=t.attackNoise,this._lfcf=new kl({context:this.context,dampening:t.dampening,resonance:t.resonance}),this.resonance=t.resonance,this.release=t.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return Ia(Ju.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(t){this._lfcf.dampening=t}triggerAttack(t,e){const n=this.toFrequency(t);e=this.toSeconds(e);const s=1/n;return this._lfcf.delayTime.setValueAtTime(s,e),this._noise.start(e),this._noise.stop(e+s*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(e),this._lfcf.resonance.setValueAtTime(this.resonance,e),this}triggerRelease(t){return this._lfcf.resonance.linearRampTo(0,this.release,t),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class Al extends Ju{constructor(){super(Fa(Al.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const t=Fa(Al.getDefaults(),arguments,["voice","options"]);ia(!fa(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const e=t.voice.getDefaults();this.options=Object.assign(e,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Ju.getDefaults(),{maxPolyphony:32,options:{},voice:el})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const e=this._activeVoices.findIndex(e=>e.voice===t);this._activeVoices.splice(e,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return t.connect(this.output),this._voices.push(t),t}la("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),e=this._voices.indexOf(t);this._voices.splice(e,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,e,n){t.forEach(t=>{const s=new Zc(this.context,t).toMidi(),i=this._getNextAvailableVoice();i&&(i.triggerAttack(t,e,n),this._activeVoices.push({midi:s,voice:i,released:!1}),this.log("triggerAttack",t,e))})}_triggerRelease(t,e){t.forEach(t=>{const n=new Zc(this.context,t).toMidi(),s=this._activeVoices.find(({midi:t,released:e})=>t===n&&!e);s&&(s.voice.triggerRelease(e),s.released=!0,this.log("triggerRelease",t,e))})}_scheduleEvent(t,e,n,s){ia(!this.disposed,"Synth was already disposed"),n<=this.now()?"attack"===t?this._triggerAttack(e,n,s):this._triggerRelease(e,n):this.context.setTimeout(()=>{this._scheduleEvent(t,e,n,s)},n-this.now())}triggerAttack(t,e,n){Array.isArray(t)||(t=[t]);const s=this.toSeconds(e);return this._scheduleEvent("attack",t,s,n),this}triggerRelease(t,e){Array.isArray(t)||(t=[t]);const n=this.toSeconds(e);return this._scheduleEvent("release",t,n),this}triggerAttackRelease(t,e,n,s){const i=this.toSeconds(n);if(this.triggerAttack(t,i,s),ga(e)){ia(ga(t),"If the duration is an array, the notes must also be an array"),t=t;for(let n=0;n<t.length;n++){const s=e[Math.min(n,e.length-1)],r=this.toSeconds(s);ia(r>0,"The duration must be greater than 0"),this.triggerRelease(t[n],i+r)}}else{const n=this.toSeconds(e);ia(n>0,"The duration must be greater than 0"),this.triggerRelease(t,i+n)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}set(t){const e=Na(t,["onsilence","context"]);return this.options=Ia(this.options,e),this._voices.forEach(t=>t.set(e)),this._dummyVoice.set(e),this}get(){return this._dummyVoice.get()}releaseAll(t){const e=this.toSeconds(t);return this._activeVoices.forEach(({voice:t})=>{t.triggerRelease(e)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(t=>t.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Dl extends Ju{constructor(){super(Fa(Dl.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=Fa(Dl.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach(n=>{const s=parseInt(n,10);if(ia(ya(n)||fa(s)&&isFinite(s),"url key is neither a note or midi pitch: "+n),ya(n)){const s=new kc(this.context,n).toMidi();e[s]=t.urls[n]}else fa(s)&&isFinite(s)&&(e[s]=t.urls[s])}),this._buffers=new Hc({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Ju.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:oc,onerror:oc,release:.1,urls:{}})}_findClosest(t){const e=96;let n=0;while(n<e){if(this._buffers.has(t+n))return-n;if(this._buffers.has(t-n))return n;n++}throw new Error("No available buffers for note: "+t)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach(t=>{const s=xc(new kc(this.context,t).toFrequency()),i=Math.round(s),r=s-i,o=this._findClosest(i),a=i-o,c=this._buffers.get(a),u=_c(o+r),l=new hu({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:u}).connect(this.output);l.start(e,0,c.duration/u,n),ga(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(l),l.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const t=this._activeSources.get(i),e=t.indexOf(l);-1!==e&&t.splice(e,1)}}}),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach(t=>{const n=new kc(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach(t=>{t.stop(e)}),this._activeSources.set(n,[])}}),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach(t=>{while(t.length){const n=t.shift();n.stop(e)}}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,s=1){const i=this.toSeconds(n);return this.triggerAttack(t,i,s),ga(e)?(ia(ga(t),"notes must be an array when duration is array"),t.forEach((t,n)=>{const s=e[Math.min(n,e.length-1)];this.triggerRelease(t,i+this.toSeconds(s))})):this.triggerRelease(t,i+this.toSeconds(e)),this}add(t,e,n){if(ia(ya(t)||isFinite(t),"note must be a pitch or midi: "+t),ya(t)){const s=new kc(this.context,t).toMidi();this._buffers.add(s,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}Oa([Pu(0)],Dl.prototype,"attack",void 0),Oa([Pu(0)],Dl.prototype,"release",void 0);class El extends jc{constructor(){super(Fa(El.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new Rc("stopped"),this._startOffset=0;const t=Fa(El.getDefaults(),arguments,["callback","value"]);this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(jc.getDefaults(),{callback:oc,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,t=>{let e;if("started"===t.state){-1!==t.id&&this.context.transport.clear(t.id);const n=t.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||fa(this._loop)&&this._loop>1){e=1/0,fa(this._loop)&&(e=this._loop*this._getLoopDuration());const s=this._state.getAfter(n);null!==s&&(e=Math.min(e,s.time-n)),e!==1/0&&(this._state.setStateAtTime("stopped",n+e+1,{id:-1}),e=new Kc(this.context,e));const i=new Kc(this.context,this._getLoopDuration());t.id=this.context.transport.scheduleRepeat(this._tick.bind(this),i,new Kc(this.context,n),e)}else t.id=this.context.transport.schedule(this._tick.bind(this),new Kc(this.context,n))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){const e=this.toTicks(t);return"stopped"===this._state.getValueAtTime(e)&&(this._state.add({id:-1,state:"started",time:e}),this._rescheduleEvents(e)),this}stop(t){this.cancel(t);const e=this.toTicks(t);if("started"===this._state.getValueAtTime(e)){this._state.setStateAtTime("stopped",e,{id:-1});const t=this._state.getBefore(e);let n=e;null!==t&&(n=t.time),this._rescheduleEvents(n)}return this}cancel(t){t=Va(t,-1/0);const e=this.toTicks(t);return this._state.forEachFrom(e,t=>{this.context.transport.clear(t.id)}),this._state.cancel(e),this}_tick(t){const e=this.context.transport.getTicksAtTime(t);if(!this.mute&&"started"===this._state.getValueAtTime(e)){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let e=.02;_a(this.humanize)||(e=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*e}this.callback(t,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new Kc(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}get loopStart(){return new Kc(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const t=this.context.transport.ticks,e=this._state.get(t);if(null!==e&&"started"===e.state){const n=this._getLoopDuration(),s=(t-e.time)%n;return s/n}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Ml extends jc{constructor(){super(Fa(Ml.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const t=Fa(Ml.getDefaults(),arguments,["callback","interval"]);this._event=new El({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations}static getDefaults(){return Object.assign(jc.getDefaults(),{interval:"4n",callback:oc,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(t){return this._event.start(t),this}stop(t){return this._event.stop(t),this}cancel(t){return this._event.cancel(t),this}_tick(t){this.callback(t)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(t){this._event.loopEnd=t}get playbackRate(){return this._event.playbackRate}set playbackRate(t){this._event.playbackRate=t}get humanize(){return this._event.humanize}set humanize(t){this._event.humanize=t}get probability(){return this._event.probability}set probability(t){this._event.probability=t}get mute(){return this._event.mute}set mute(t){this._event.mute=t}get iterations(){return!0===this._event.loop?1/0:this._event.loop}set iterations(t){this._event.loop=t===1/0||t}dispose(){return super.dispose(),this._event.dispose(),this}}class jl extends El{constructor(){super(Fa(jl.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new Rc("stopped"),this._events=new Set;const t=Fa(jl.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,t.events.forEach(t=>{ga(t)?this.add(t[0],t[1]):this.add(t)})}static getDefaults(){return Object.assign(El.getDefaults(),{events:[]})}start(t,e){const n=this.toTicks(t);if("started"!==this._state.getValueAtTime(n)){e=Va(e,this._loop?this._loopStart:0),e=this._loop?Va(e,this._loopStart):Va(e,0);const t=this.toTicks(e);this._state.add({id:-1,offset:t,state:"started",time:n}),this._forEach(e=>{this._startNote(e,n,t)})}return this}_startNote(t,e,n){e-=n,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<n&&(e+=this._getLoopDuration()),t.start(new Kc(this.context,e))):t.startOffset<this._loopStart&&t.startOffset>=n&&(t.loop=!1,t.start(new Kc(this.context,e))):t.startOffset>=n&&t.start(new Kc(this.context,e))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach(t=>{t.startOffset+=this._startOffset})}stop(t){const e=this.toTicks(t);return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._forEach(e=>{e.stop(t)}),this}at(t,e){const n=new Ec(this.context,t).toTicks(),s=new Kc(this.context,1).toSeconds(),i=this._events.values();let r=i.next();while(!r.done){const t=r.value;if(Math.abs(n-t.startOffset)<s)return pa(e)&&(t.value=e),t;r=i.next()}return pa(e)?(this.add(t,e),this.at(t)):null}add(t,e){t instanceof Object&&Reflect.has(t,"time")&&(e=t,t=e.time);const n=this.toTicks(t);let s;return e instanceof El?(s=e,s.callback=this._tick.bind(this)):s=new El({callback:this._tick.bind(this),context:this.context,value:e}),s.startOffset=n,s.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(s),this._restartEvent(s),this}_restartEvent(t){this._state.forEach(e=>{"started"===e.state?this._startNote(t,e.time,e.offset):t.stop(new Kc(this.context,e.time))})}remove(t,e){return ma(t)&&t.hasOwnProperty("time")&&(e=t,t=e.time),t=this.toTicks(t),this._events.forEach(n=>{n.startOffset===t&&(ha(e)||pa(e)&&n.value===e)&&(this._events.delete(n),n.dispose())}),this}clear(){return this._forEach(t=>t.dispose()),this._events.clear(),this}cancel(t){return this._forEach(e=>e.cancel(t)),this._state.cancel(this.toTicks(t)),this}_forEach(t){return this._events&&this._events.forEach(e=>{e instanceof jl?e._forEach(t):t(e)}),this}_setAll(t,e){this._forEach(n=>{n[t]=e})}_tick(t,e){this.mute||this.callback(t,e)}_testLoopBoundries(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):"stopped"===t.state&&this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll("probability",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll("humanize",t)}get loop(){return this._loop}set loop(t){this._loop=t,this._forEach(e=>{e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.loop=t,this._testLoopBoundries(e)})}get loopEnd(){return new Kc(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach(e=>{e.loopEnd=t,this._testLoopBoundries(e)})}get loopStart(){return new Kc(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach(t=>{t.loopStart=this.loopStart,this._testLoopBoundries(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll("playbackRate",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*Rl(t){let e=0;while(e<t.length)e=Fl(e,t),yield t[e],e++}function*Il(t){let e=t.length-1;while(e>=0)e=Fl(e,t),yield t[e],e--}function*ql(t,e){while(1)yield*e(t)}function Fl(t,e){return $a(t,0,e.length-1)}function*Pl(t,e){let n=e?0:t.length-1;while(1)n=Fl(n,t),yield t[n],e?(n++,n>=t.length-1&&(e=!1)):(n--,n<=0&&(e=!0))}function*Vl(t){let e=0,n=0;while(e<t.length)e=Fl(e,t),yield t[e],n++,e+=n%2?2:-1}function*Nl(t){let e=t.length-1,n=0;while(e>=0)e=Fl(e,t),yield t[e],n++,e+=n%2?-2:1}function*Ll(t){while(1){const e=Math.floor(Math.random()*t.length);yield t[e]}}function*zl(t){const e=[];for(let n=0;n<t.length;n++)e.push(n);while(e.length>0){const n=e.splice(Math.floor(e.length*Math.random()),1),s=Fl(n[0],t);yield t[s]}}function*Bl(t){let e=Math.floor(Math.random()*t.length);while(1)0===e?e++:e===t.length-1||Math.random()<.5?e--:e++,yield t[e]}function*Wl(t,e="up",n=0){switch(ia(t.length>0,"The array must have more than one value in it"),e){case"up":yield*ql(t,Rl);case"down":yield*ql(t,Il);case"upDown":yield*Pl(t,!0);case"downUp":yield*Pl(t,!1);case"alternateUp":yield*ql(t,Vl);case"alternateDown":yield*ql(t,Nl);case"random":yield*Ll(t);case"randomOnce":yield*ql(t,zl);case"randomWalk":yield*Bl(t)}}class Gl extends Ml{constructor(){super(Fa(Gl.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";const t=Fa(Gl.getDefaults(),arguments,["callback","values","pattern"]);this.callback=t.callback,this._values=t.values,this._pattern=Wl(t.values,t.pattern),this._type=t.pattern}static getDefaults(){return Object.assign(Ml.getDefaults(),{pattern:"up",values:[],callback:oc})}_tick(t){const e=this._pattern.next();this._value=e.value,this.callback(t,this._value)}get values(){return this._values}set values(t){this._values=t,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(t){this._type=t,this._pattern=Wl(this._values,this._type)}}class Ul extends El{constructor(){super(Fa(Ul.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new jl({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const t=Fa(Ul.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(t.subdivision),this.events=t.events,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.playbackRate=t.playbackRate,this.probability=t.probability,this.humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate}static getDefaults(){return Object.assign(Na(El.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(t,e){null!==e&&this.callback(t,e)}get events(){return this._events}set events(t){this.clear(),this._eventsArray=t,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(t,e){return this._part.start(t,e?this._indexTime(e):e),this}stop(t){return this._part.stop(t),this}get subdivision(){return new Kc(this.context,this._subdivision).toSeconds()}_createSequence(t){return new Proxy(t,{get:(t,e)=>t[e],set:(t,e,n)=>(va(e)&&isFinite(parseInt(e,10))&&ga(n)?t[e]=this._createSequence(n):t[e]=n,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(t,e,n){t.forEach((t,s)=>{const i=s*e+n;if(ga(t))this._rescheduleSequence(t,e/t.length,i);else{const e=new Kc(this.context,i,"i").toSeconds();this._part.add(e,t)}})}_indexTime(t){return new Kc(this.context,t*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(t){this._part.loop=t}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this._part.loopStart=this._indexTime(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this._part.loopEnd=0===t?this._indexTime(this._eventsArray.length):this._indexTime(t)}get startOffset(){return this._part.startOffset}set startOffset(t){this._part.startOffset=t}get playbackRate(){return this._part.playbackRate}set playbackRate(t){this._part.playbackRate=t}get probability(){return this._part.probability}set probability(t){this._part.probability=t}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(t){this._part.humanize=t}get length(){return this._part.length}}class $l extends qc{constructor(){super(Object.assign(Fa($l.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Bu({context:this.context}),this.a=new Nc({context:this.context,gain:0}),this.b=new Nc({context:this.context,gain:0}),this.output=new Nc({context:this.context}),this._internalChannels=[this.a,this.b];const t=Fa($l.getDefaults(),arguments,["fade"]);this.fade=new Bc({context:this.context,units:"normalRange",value:t.fade}),ic(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Pc(this._split,this.a.gain,0),Pc(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(qc.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Ql extends qc{constructor(t){super(t),this.name="Effect",this._dryWet=new $l({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Nc({context:this.context}),this.effectReturn=new Nc({context:this.context}),this.input=new Nc({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],ic(this,"wet")}static getDefaults(){return Object.assign(qc.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Yl extends Ql{constructor(t){super(t),this.name="LFOEffect",this._lfo=new qu({context:this.context,frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=t.type,ic(this,["frequency","depth"])}static getDefaults(){return Object.assign(Ql.getDefaults(),{frequency:1,type:"sine",depth:1})}start(t){return this._lfo.start(t),this}stop(t){return this._lfo.stop(t),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Xl extends Yl{constructor(){super(Fa(Xl.getDefaults(),arguments,["frequency","baseFrequency","octaves"])),this.name="AutoFilter";const t=Fa(Xl.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);this.filter=new rl(Object.assign(t.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency}static getDefaults(){return Object.assign(Yl.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._lfo.max=this._lfo.min*Math.pow(2,t)}dispose(){return super.dispose(),this.filter.dispose(),this}}class Hl extends qc{constructor(){super(Object.assign(Fa(Hl.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=Fa(Hl.getDefaults(),arguments,["pan"]);this.pan=new Ic({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",ic(this,"pan")}static getDefaults(){return Object.assign(qc.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class Zl extends Yl{constructor(){super(Fa(Zl.getDefaults(),arguments,["frequency"])),this.name="AutoPanner";const t=Fa(Zl.getDefaults(),arguments,["frequency"]);this._panner=new Hl({context:this.context,channelCount:t.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(Yl.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class Jl extends qc{constructor(){super(Fa(Jl.getDefaults(),arguments,["smoothing"])),this.name="Follower";const t=Fa(Jl.getDefaults(),arguments,["smoothing"]);this._abs=this.input=new zu({context:this.context}),this._lowpass=this.output=new Ol({context:this.context,frequency:1/this.toSeconds(t.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=t.smoothing}static getDefaults(){return Object.assign(qc.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(t){this._smoothing=t,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class Kl extends Ql{constructor(){super(Fa(Kl.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"])),this.name="AutoWah";const t=Fa(Kl.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);this._follower=new Jl({context:this.context,smoothing:t.follower}),this._sweepRange=new Yu({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this._inputBoost=new Nc({context:this.context}),this._bandpass=new rl({context:this.context,rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new rl({context:this.context,type:"peaking"}),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,ic(this,["gain","Q"])}static getDefaults(){return Object.assign(Ql.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(t){this._follower.smoothing=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._setSweepRange()}get sensitivity(){return mc(1/this._inputBoost.gain.value)}set sensitivity(t){this._inputBoost.gain.value=1/fc(t)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}const th="bit-crusher",eh="\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n";_l(th,eh);class nh extends Ql{constructor(){super(Fa(nh.getDefaults(),arguments,["bits"])),this.name="BitCrusher";const t=Fa(nh.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new sh({context:this.context,bits:t.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(Ql.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class sh extends vl{constructor(){super(Fa(sh.getDefaults(),arguments)),this.name="BitCrusherWorklet";const t=Fa(sh.getDefaults(),arguments);this.input=new Nc({context:this.context}),this.output=new Nc({context:this.context}),this.bits=new Ic({context:this.context,value:t.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(vl.getDefaults(),{bits:12})}_audioWorkletName(){return th}onReady(t){Fc(this.input,t,this.output);const e=t.parameters.get("bits");this.bits.setParam(e)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class ih extends Ql{constructor(){super(Fa(ih.getDefaults(),arguments,["order"])),this.name="Chebyshev";const t=Fa(ih.getDefaults(),arguments,["order"]);this._shaper=new wu({context:this.context,length:4096}),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample}static getDefaults(){return Object.assign(Ql.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(t,e,n){return n.has(e)||(0===e?n.set(e,0):1===e?n.set(e,t):n.set(e,2*t*this._getCoefficient(t,e-1,n)-this._getCoefficient(t,e-2,n))),n.get(e)}get order(){return this._order}set order(t){this._order=t,this._shaper.setMap(e=>this._getCoefficient(e,t,new Map))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class rh extends qc{constructor(){super(Fa(rh.getDefaults(),arguments,["channels"])),this.name="Split";const t=Fa(rh.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(qc.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class oh extends qc{constructor(){super(Fa(oh.getDefaults(),arguments,["channels"])),this.name="Merge";const t=Fa(oh.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(qc.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class ah extends qc{constructor(t){super(t),this.name="StereoEffect",this.input=new Nc({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new $l({context:this.context,fade:t.wet}),this.wet=this._dryWet.fade,this._split=new rh({context:this.context,channels:2}),this._merge=new oh({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),ic(this,["wet"])}connectEffectLeft(...t){this._split.connect(t[0],0,0),Fc(...t),Pc(t[t.length-1],this._merge,0,0)}connectEffectRight(...t){this._split.connect(t[0],1,0),Fc(...t),Pc(t[t.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(qc.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class ch extends ah{constructor(t){super(t),this.feedback=new Bc({context:this.context,value:t.feedback,units:"normalRange"}),this._feedbackL=new Nc({context:this.context}),this._feedbackR=new Nc({context:this.context}),this._feedbackSplit=new rh({context:this.context,channels:2}),this._feedbackMerge=new oh({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),ic(this,["feedback"])}static getDefaults(){return Object.assign(ah.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class uh extends ch{constructor(){super(Fa(uh.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const t=Fa(uh.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new qu({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new qu({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new Yc({context:this.context}),this._delayNodeR=new Yc({context:this.context}),this.frequency=this._lfoL.frequency,ic(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=t.type,this.spread=t.spread}static getDefaults(){return Object.assign(ch.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(t){this._depth=t;const e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}get delayTime(){return 1e3*this._delayTime}set delayTime(t){this._delayTime=t/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class lh extends Ql{constructor(){super(Fa(lh.getDefaults(),arguments,["distortion"])),this.name="Distortion";const t=Fa(lh.getDefaults(),arguments,["distortion"]);this._shaper=new wu({context:this.context,length:4096}),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample}static getDefaults(){return Object.assign(Ql.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(t){this._distortion=t;const e=100*t,n=Math.PI/180;this._shaper.setMap(t=>Math.abs(t)<.001?0:(3+e)*t*20*n/(Math.PI+e*Math.abs(t)))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class hh extends Ql{constructor(t){super(t),this.name="FeedbackEffect",this._feedbackGain=new Nc({context:this.context,gain:t.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,ic(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Ql.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class ph extends hh{constructor(){super(Fa(ph.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const t=Fa(ph.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new Yc({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),ic(this,"delayTime")}static getDefaults(){return Object.assign(hh.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class dh extends qc{constructor(t){super(t),this.name="PhaseShiftAllpass",this.input=new Nc({context:this.context}),this.output=new Nc({context:this.context}),this.offset90=new Nc({context:this.context});const e=[.6923878,.9360654322959,.988229522686,.9987488452737],n=[.4021921162426,.856171088242,.9722909545651,.9952884791278];this._bank0=this._createAllPassFilterBank(e),this._bank1=this._createAllPassFilterBank(n),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),Fc(this.input,...this._bank0,this._oneSampleDelay,this.output),Fc(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(t){const e=t.map(t=>{const e=[[t*t,0,-1],[1,0,-t*t]];return this.context.createIIRFilter(e[0],e[1])});return e}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach(t=>t.disconnect()),this._bank1.forEach(t=>t.disconnect()),this._oneSampleDelay.disconnect(),this}}class fh extends Ql{constructor(){super(Fa(fh.getDefaults(),arguments,["frequency"])),this.name="FrequencyShifter";const t=Fa(fh.getDefaults(),arguments,["frequency"]);this.frequency=new Bc({context:this.context,units:"frequency",value:t.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new yu({context:this.context,type:"sine"}),this._cosine=new bu({context:this.context,phase:-90,type:"sine"}),this._sineMultiply=new Su({context:this.context}),this._cosineMultiply=new Su({context:this.context}),this._negate=new Wu({context:this.context}),this._add=new ju({context:this.context}),this._phaseShifter=new dh({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);const e=this.immediate();this._sine.start(e),this._cosine.start(e)}static getDefaults(){return Object.assign(Ql.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const mh=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],_h=[225,556,441,341];class gh extends ah{constructor(){super(Fa(gh.getDefaults(),arguments,["roomSize","dampening"])),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];const t=Fa(gh.getDefaults(),arguments,["roomSize","dampening"]);this.roomSize=new Bc({context:this.context,value:t.roomSize,units:"normalRange"}),this._allpassFiltersL=_h.map(t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e}),this._allpassFiltersR=_h.map(t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e}),this._combFilters=mh.map((e,n)=>{const s=new kl({context:this.context,dampening:t.dampening,delayTime:e});return n<mh.length/2?this.connectEffectLeft(s,...this._allpassFiltersL):this.connectEffectRight(s,...this._allpassFiltersR),this.roomSize.connect(s.resonance),s}),ic(this,["roomSize"])}static getDefaults(){return Object.assign(ah.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(t){this._combFilters.forEach(e=>e.dampening=t)}dispose(){return super.dispose(),this._allpassFiltersL.forEach(t=>t.disconnect()),this._allpassFiltersR.forEach(t=>t.disconnect()),this._combFilters.forEach(t=>t.dispose()),this.roomSize.dispose(),this}}const vh=[.06748,.06404,.08212,.09004],yh=[.773,.802,.753,.733],bh=[347,113,37];class xh extends ah{constructor(){super(Fa(xh.getDefaults(),arguments,["roomSize"])),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[];const t=Fa(xh.getDefaults(),arguments,["roomSize"]);this.roomSize=new Bc({context:this.context,value:t.roomSize,units:"normalRange"}),this._scaleRoomSize=new Ru({context:this.context,min:-.733,max:.197}),this._allpassFilters=bh.map(t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e}),this._feedbackCombFilters=vh.map((t,e)=>{const n=new Sl({context:this.context,delayTime:t});return this._scaleRoomSize.connect(n.resonance),n.resonance.value=yh[e],e<vh.length/2?this.connectEffectLeft(...this._allpassFilters,n):this.connectEffectRight(...this._allpassFilters,n),n}),this.roomSize.connect(this._scaleRoomSize),ic(this,["roomSize"])}static getDefaults(){return Object.assign(ah.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach(t=>t.disconnect()),this._feedbackCombFilters.forEach(t=>t.dispose()),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class wh extends ch{constructor(t){super(t),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),ic(this,["feedback"])}}class Th extends wh{constructor(){super(Fa(Th.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";const t=Fa(Th.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new Yc({context:this.context,maxDelay:t.maxDelay}),this._rightDelay=new Yc({context:this.context,maxDelay:t.maxDelay}),this._rightPreDelay=new Yc({context:this.context,maxDelay:t.maxDelay}),this.delayTime=new Bc({context:this.context,units:"time",value:t.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),ic(this,["delayTime"])}static getDefaults(){return Object.assign(wh.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class Sh extends hh{constructor(){super(Fa(Sh.getDefaults(),arguments,["pitch"])),this.name="PitchShift";const t=Fa(Sh.getDefaults(),arguments,["pitch"]);this._frequency=new Bc({context:this.context}),this._delayA=new Yc({maxDelay:1,context:this.context}),this._lfoA=new qu({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new Yc({maxDelay:1,context:this.context}),this._lfoB=new qu({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new $l({context:this.context}),this._crossFadeLFO=new qu({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new Yc({delayTime:t.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,ic(this,"delayTime"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const e=this.now();this._lfoA.start(e),this._lfoB.start(e),this._crossFadeLFO.start(e),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(hh.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(t){this._pitch=t;let e=0;t<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,e=_c(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,e=_c(t)-1),this._frequency.value=e*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class Oh extends ah{constructor(){super(Fa(Oh.getDefaults(),arguments,["frequency","octaves","baseFrequency"])),this.name="Phaser";const t=Fa(Oh.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);this._lfoL=new qu({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new qu({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this.Q=new Bc({context:this.context,value:t.Q,units:"positive"}),this._filtersL=this._makeFilters(t.stages,this._lfoL),this._filtersR=this._makeFilters(t.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),ic(this,["frequency","Q"])}static getDefaults(){return Object.assign(ah.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(t,e){const n=[];for(let s=0;s<t;s++){const t=this.context.createBiquadFilter();t.type="allpass",this.Q.connect(t.Q),e.connect(t.frequency),n.push(t)}return n}get octaves(){return this._octaves}set octaves(t){this._octaves=t;const e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach(t=>t.disconnect()),this._filtersR.forEach(t=>t.disconnect()),this.frequency.dispose(),this}}class kh extends Ql{constructor(){super(Fa(kh.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const t=Fa(kh.getDefaults(),arguments,["decay"]);this._decay=t.decay,this._preDelay=t.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Ql.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){t=this.toSeconds(t),ra(t,.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){t=this.toSeconds(t),ra(t,0),this._preDelay=t,this.generate()}generate(){return ka(this,void 0,void 0,(function*(){const t=this.ready,e=new cc(2,this._decay+this._preDelay,this.context.sampleRate),n=new pu({context:e}),s=new pu({context:e}),i=new oh({context:e});n.connect(i,0,0),s.connect(i,0,1);const r=new Nc({context:e}).toDestination();i.connect(r),n.start(0),s.start(0),r.gain.setValueAtTime(0,0),r.gain.setValueAtTime(1,this._preDelay),r.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const o=e.render();return this.ready=o.then(oc),yield t,this._convolver.buffer=(yield o).get(),this}))}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class Ch extends qc{constructor(){super(Fa(Ch.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new rh({channels:2,context:this.context}),this._midAdd=new ju({context:this.context}),this.mid=new Su({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new Gu({context:this.context}),this.side=new Su({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class Ah extends qc{constructor(){super(Fa(Ah.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new Nc({context:this.context}),this.side=new Nc({context:this.context}),this._left=new ju({context:this.context}),this._leftMult=new Su({context:this.context,value:Math.SQRT1_2}),this._right=new Gu({context:this.context}),this._rightMult=new Su({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new oh({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class Dh extends Ql{constructor(t){super(t),this.name="MidSideEffect",this._midSideMerge=new Ah({context:this.context}),this._midSideSplit=new Ch({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...t){this._midSend.chain(...t,this._midReturn)}connectEffectSide(...t){this._sideSend.chain(...t,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class Eh extends Dh{constructor(){super(Fa(Eh.getDefaults(),arguments,["width"])),this.name="StereoWidener";const t=Fa(Eh.getDefaults(),arguments,["width"]);this.width=new Bc({context:this.context,value:t.width,units:"normalRange"}),ic(this,["width"]),this._twoTimesWidthMid=new Su({context:this.context,value:2}),this._twoTimesWidthSide=new Su({context:this.context,value:2}),this._midMult=new Su({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new Gu({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),Pc(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new Su({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(Dh.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class Mh extends ah{constructor(){super(Fa(Mh.getDefaults(),arguments,["frequency","depth"])),this.name="Tremolo";const t=Fa(Mh.getDefaults(),arguments,["frequency","depth"]);this._lfoL=new qu({context:this.context,type:t.type,min:1,max:0}),this._lfoR=new qu({context:this.context,type:t.type,min:1,max:0}),this._amplitudeL=new Nc({context:this.context}),this._amplitudeR=new Nc({context:this.context}),this.frequency=new Bc({context:this.context,value:t.frequency,units:"frequency"}),this.depth=new Bc({context:this.context,value:t.depth,units:"normalRange"}),ic(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=t.spread}static getDefaults(){return Object.assign(ah.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class jh extends Ql{constructor(){super(Fa(jh.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const t=Fa(jh.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new Yc({context:this.context,delayTime:0,maxDelay:t.maxDelay}),this._lfo=new qu({context:this.context,type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,ic(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(Ql.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Rh extends qc{constructor(){super(Fa(Rh.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const t=Fa(Rh.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new Nc({context:this.context}),this._split=new rh({context:this.context,channels:t.channels}),this.input.connect(this._split),ra(t.channels,1);for(let e=0;e<t.channels;e++)this._analysers[e]=this.context.createAnalyser(),this._split.connect(this._analysers[e],e,0);this.size=t.size,this.type=t.type}static getDefaults(){return Object.assign(qc.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((t,e)=>{const n=this._buffers[e];"fft"===this._type?t.getFloatFrequencyData(n):"waveform"===this._type&&t.getFloatTimeDomainData(n)}),1===this.channels?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(t){this._analysers.forEach((e,n)=>{e.fftSize=2*t,this._buffers[n]=new Float32Array(t)})}get channels(){return this._analysers.length}get type(){return this._type}set type(t){ia("waveform"===t||"fft"===t,"Analyser: invalid type: "+t),this._type=t}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(t){this._analysers.forEach(e=>e.smoothingTimeConstant=t)}dispose(){return super.dispose(),this._analysers.forEach(t=>t.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class Ih extends qc{constructor(){super(Fa(Ih.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new Rh({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class qh extends Ih{constructor(){super(Fa(qh.getDefaults(),arguments,["smoothing"])),this.name="Meter",this._rms=0;const t=Fa(qh.getDefaults(),arguments,["smoothing"]);this.input=this.output=this._analyser=new Rh({context:this.context,size:256,type:"waveform",channels:t.channels}),this.smoothing=t.smoothing,this.normalRange=t.normalRange}static getDefaults(){return Object.assign(Ih.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return la("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const t=this._analyser.getValue(),e=1===this.channels?[t]:t,n=e.map(t=>{const e=t.reduce((t,e)=>t+e*e,0),n=Math.sqrt(e/t.length);return this._rms=Math.max(n,this._rms*this.smoothing),this.normalRange?this._rms:mc(this._rms)});return 1===this.channels?n[0]:n}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Fh extends Ih{constructor(){super(Fa(Fh.getDefaults(),arguments,["size"])),this.name="FFT";const t=Fa(Fh.getDefaults(),arguments,["size"]);this.normalRange=t.normalRange,this._analyser.type="fft",this.size=t.size}static getDefaults(){return Object.assign(qc.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){const t=this._analyser.getValue();return t.map(t=>this.normalRange?fc(t):t)}get size(){return this._analyser.size}set size(t){this._analyser.size=t}get smoothing(){return this._analyser.smoothing}set smoothing(t){this._analyser.smoothing=t}getFrequencyOfIndex(t){return ia(0<=t&&t<this.size,"index must be greater than or equal to 0 and less than "+this.size),t*this.context.sampleRate/(2*this.size)}}class Ph extends Ih{constructor(){super(Fa(Ph.getDefaults(),arguments)),this.name="DCMeter",this._analyser.type="waveform",this._analyser.size=256}getValue(){const t=this._analyser.getValue();return t[0]}}class Vh extends Ih{constructor(){super(Fa(Vh.getDefaults(),arguments,["size"])),this.name="Waveform";const t=Fa(Vh.getDefaults(),arguments,["size"]);this._analyser.type="waveform",this.size=t.size}static getDefaults(){return Object.assign(Ih.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(t){this._analyser.size=t}}class Nh extends qc{constructor(){super(Fa(Nh.getDefaults(),arguments,["solo"])),this.name="Solo";const t=Fa(Nh.getDefaults(),arguments,["solo"]);this.input=this.output=new Nc({context:this.context}),Nh._allSolos.has(this.context)||Nh._allSolos.set(this.context,new Set),Nh._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(qc.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Nh._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return 0===this.input.gain.value}_addSolo(){Nh._soloed.has(this.context)||Nh._soloed.set(this.context,new Set),Nh._soloed.get(this.context).add(this)}_removeSolo(){Nh._soloed.has(this.context)&&Nh._soloed.get(this.context).delete(this)}_isSoloed(){return Nh._soloed.has(this.context)&&Nh._soloed.get(this.context).has(this)}_noSolos(){return!Nh._soloed.has(this.context)||Nh._soloed.has(this.context)&&0===Nh._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Nh._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Nh._allSolos=new Map,Nh._soloed=new Map;class Lh extends qc{constructor(){super(Fa(Lh.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=Fa(Lh.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Hl({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new iu({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,ic(this,["pan","volume"])}static getDefaults(){return Object.assign(qc.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class zh extends qc{constructor(){super(Fa(zh.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=Fa(zh.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Nh({solo:t.solo,context:this.context}),this._panVol=this.output=new Lh({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ic(this,["pan","volume"])}static getDefaults(){return Object.assign(qc.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return zh.buses.has(t)||zh.buses.set(t,new Nc({context:this.context})),zh.buses.get(t)}send(t,e=0){const n=this._getBus(t),s=new Nc({context:this.context,units:"decibels",gain:e});return this.connect(s),s.connect(n),s}receive(t){const e=this._getBus(t);return e.connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}zh.buses=new Map;class Bh extends qc{constructor(){super(Fa(Bh.getDefaults(),arguments)),this.name="Mono",this.input=new Nc({context:this.context}),this._merge=this.output=new oh({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class Wh extends qc{constructor(){super(Fa(Wh.getDefaults(),arguments,["lowFrequency","highFrequency"])),this.name="MultibandSplit",this.input=new Nc({context:this.context}),this.output=void 0,this.low=new rl({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new rl({context:this.context,frequency:0,type:"highpass"}),this.mid=new rl({context:this.context,frequency:0,type:"lowpass"}),this.high=new rl({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high];const t=Fa(Wh.getDefaults(),arguments,["lowFrequency","highFrequency"]);this.lowFrequency=new Bc({context:this.context,units:"frequency",value:t.lowFrequency}),this.highFrequency=new Bc({context:this.context,units:"frequency",value:t.highFrequency}),this.Q=new Bc({context:this.context,units:"positive",value:t.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),ic(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(qc.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),rc(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class Gh extends qc{constructor(){super(...arguments),this.name="Listener",this.positionX=new Ic({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ic({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ic({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ic({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ic({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ic({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ic({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ic({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ic({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(qc.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Xa(t=>{t.listener=new Gh({context:t})}),Ja(t=>{t.listener.dispose()});class Uh extends qc{constructor(){super(Fa(Uh.getDefaults(),arguments,["positionX","positionY","positionZ"])),this.name="Panner3D";const t=Fa(Uh.getDefaults(),arguments,["positionX","positionY","positionZ"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=t.panningModel,this.maxDistance=t.maxDistance,this.distanceModel=t.distanceModel,this.coneOuterGain=t.coneOuterGain,this.coneOuterAngle=t.coneOuterAngle,this.coneInnerAngle=t.coneInnerAngle,this.refDistance=t.refDistance,this.rolloffFactor=t.rolloffFactor,this.positionX=new Ic({context:this.context,param:this._panner.positionX,value:t.positionX}),this.positionY=new Ic({context:this.context,param:this._panner.positionY,value:t.positionY}),this.positionZ=new Ic({context:this.context,param:this._panner.positionZ,value:t.positionZ}),this.orientationX=new Ic({context:this.context,param:this._panner.orientationX,value:t.orientationX}),this.orientationY=new Ic({context:this.context,param:this._panner.orientationY,value:t.orientationY}),this.orientationZ=new Ic({context:this.context,param:this._panner.orientationZ,value:t.orientationZ})}static getDefaults(){return Object.assign(qc.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(t,e,n){return this.positionX.value=t,this.positionY.value=e,this.positionZ.value=n,this}setOrientation(t,e,n){return this.orientationX.value=t,this.orientationY.value=e,this.orientationZ.value=n,this}get panningModel(){return this._panner.panningModel}set panningModel(t){this._panner.panningModel=t}get refDistance(){return this._panner.refDistance}set refDistance(t){this._panner.refDistance=t}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(t){this._panner.rolloffFactor=t}get distanceModel(){return this._panner.distanceModel}set distanceModel(t){this._panner.distanceModel=t}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(t){this._panner.coneInnerAngle=t}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(t){this._panner.coneOuterAngle=t}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(t){this._panner.coneOuterGain=t}get maxDistance(){return this._panner.maxDistance}set maxDistance(t){this._panner.maxDistance=t}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class $h extends qc{constructor(){super(Fa($h.getDefaults(),arguments)),this.name="Recorder";const t=Fa($h.getDefaults(),arguments);this.input=new Nc({context:this.context}),ia($h.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return qc.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return null!==wa&&Reflect.has(wa,"MediaRecorder")}get state(){return"inactive"===this._recorder.state?"stopped":"paused"===this._recorder.state?"paused":"started"}start(){return ka(this,void 0,void 0,(function*(){ia("started"!==this.state,"Recorder is already started");const t=new Promise(t=>{const e=()=>{this._recorder.removeEventListener("start",e,!1),t()};this._recorder.addEventListener("start",e,!1)});return this._recorder.start(),yield t}))}stop(){return ka(this,void 0,void 0,(function*(){ia("stopped"!==this.state,"Recorder is not started");const t=new Promise(t=>{const e=n=>{this._recorder.removeEventListener("dataavailable",e,!1),t(n.data)};this._recorder.addEventListener("dataavailable",e,!1)});return this._recorder.stop(),yield t}))}pause(){return ia("started"===this.state,"Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class Qh extends qc{constructor(){super(Fa(Qh.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const t=Fa(Qh.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new Ic({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:t.threshold}),this.attack=new Ic({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:t.attack}),this.release=new Ic({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:t.release}),this.knee=new Ic({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:t.knee}),this.ratio=new Ic({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:t.ratio}),ic(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(qc.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Yh extends qc{constructor(){super(Object.assign(Fa(Yh.getDefaults(),arguments,["threshold","smoothing"]))),this.name="Gate";const t=Fa(Yh.getDefaults(),arguments,["threshold","smoothing"]);this._follower=new Jl({context:this.context,smoothing:t.smoothing}),this._gt=new $u({context:this.context,value:fc(t.threshold)}),this.input=new Nc({context:this.context}),this._gate=this.output=new Nc({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(qc.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return mc(this._gt.value)}set threshold(t){this._gt.value=fc(t)}get smoothing(){return this._follower.smoothing}set smoothing(t){this._follower.smoothing=t}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class Xh extends qc{constructor(){super(Object.assign(Fa(Xh.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const t=Fa(Xh.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new Qh({context:this.context,ratio:20,attack:.003,release:.01,threshold:t.threshold}),this.threshold=this._compressor.threshold,ic(this,"threshold")}static getDefaults(){return Object.assign(qc.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class Hh extends qc{constructor(){super(Object.assign(Fa(Hh.getDefaults(),arguments))),this.name="MidSideCompressor";const t=Fa(Hh.getDefaults(),arguments);this._midSideSplit=this.input=new Ch({context:this.context}),this._midSideMerge=this.output=new Ah({context:this.context}),this.mid=new Qh(Object.assign(t.mid,{context:this.context})),this.side=new Qh(Object.assign(t.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),ic(this,["mid","side"])}static getDefaults(){return Object.assign(qc.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class Zh extends qc{constructor(){super(Object.assign(Fa(Zh.getDefaults(),arguments))),this.name="MultibandCompressor";const t=Fa(Zh.getDefaults(),arguments);this._splitter=this.input=new Wh({context:this.context,lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new Nc({context:this.context}),this.low=new Qh(Object.assign(t.low,{context:this.context})),this.mid=new Qh(Object.assign(t.mid,{context:this.context})),this.high=new Qh(Object.assign(t.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),ic(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(qc.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class Jh extends qc{constructor(){super(Fa(Jh.getDefaults(),arguments,["low","mid","high"])),this.name="EQ3",this.output=new Nc({context:this.context}),this._internalChannels=[];const t=Fa(Jh.getDefaults(),arguments,["low","mid","high"]);this.input=this._multibandSplit=new Wh({context:this.context,highFrequency:t.highFrequency,lowFrequency:t.lowFrequency}),this._lowGain=new Nc({context:this.context,gain:t.low,units:"decibels"}),this._midGain=new Nc({context:this.context,gain:t.mid,units:"decibels"}),this._highGain=new Nc({context:this.context,gain:t.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),ic(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(qc.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),rc(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class Kh extends qc{constructor(){super(Fa(Kh.getDefaults(),arguments,["url","onload"])),this.name="Convolver",this._convolver=this.context.createConvolver();const t=Fa(Kh.getDefaults(),arguments,["url","onload"]);this._buffer=new ac(t.url,e=>{this.buffer=e,t.onload()}),this.input=new Nc({context:this.context}),this.output=new Nc({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=t.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(qc.getDefaults(),{normalize:!0,onload:oc})}load(t){return ka(this,void 0,void 0,(function*(){this.buffer=yield this._buffer.load(t)}))}get buffer(){return this._buffer.length?this._buffer:null}set buffer(t){t&&this._buffer.set(t),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));const e=this._buffer.get();this._convolver.buffer=e||null}get normalize(){return this._convolver.normalize}set normalize(t){this._convolver.normalize=t}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function tp(){return hc().now()}function ep(){return hc().immediate()}const np=hc().transport;function sp(){return hc().transport}const ip=hc().destination,rp=hc().destination;function op(){return hc().destination}const ap=hc().listener;function cp(){return hc().listener}const up=hc().draw;function lp(){return hc().draw}const hp=hc();function pp(){return ac.loaded()}const dp=ac,fp=Hc,mp=hu},"5e77":function(t,e,n){var s=n("83ab"),i=n("1a2d"),r=Function.prototype,o=s&&Object.getOwnPropertyDescriptor,a=i(r,"name"),c=a&&"something"===function(){}.name,u=a&&(!s||s&&o(r,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},"605d":function(t,e,n){var s=n("c6b6"),i=n("da84");t.exports="process"==s(i.process)},6069:function(t,e){t.exports="object"==typeof window},"60da":function(t,e,n){"use strict";var s=n("83ab"),i=n("e330"),r=n("c65b"),o=n("d039"),a=n("df75"),c=n("7418"),u=n("d1e7"),l=n("7b0b"),h=n("44ad"),p=Object.assign,d=Object.defineProperty,f=i([].concat);t.exports=!p||o((function(){if(s&&1!==p({b:1},p(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=p({},t)[n]||a(p({},e)).join("")!=i}))?function(t,e){var n=l(t),i=arguments.length,o=1,p=c.f,d=u.f;while(i>o){var m,_=h(arguments[o++]),g=p?f(a(_),p(_)):a(_),v=g.length,y=0;while(v>y)m=g[y++],s&&!r(d,_,m)||(n[m]=_[m])}return n}:p},6547:function(t,e,n){var s=n("e330"),i=n("5926"),r=n("577e"),o=n("1d80"),a=s("".charAt),c=s("".charCodeAt),u=s("".slice),l=function(t){return function(e,n){var s,l,h=r(o(e)),p=i(n),d=h.length;return p<0||p>=d?t?"":void 0:(s=c(h,p),s<55296||s>56319||p+1===d||(l=c(h,p+1))<56320||l>57343?t?a(h,p):s:t?u(h,p,p+2):l-56320+(s-55296<<10)+65536)}};t.exports={codeAt:l(!1),charAt:l(!0)}},"65f0":function(t,e,n){var s=n("0b42");t.exports=function(t,e){return new(s(t))(0===e?0:e)}},6613:function(t,e,n){n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3"),n("ac1f"),n("00b4");var s=n("5a43");function i(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},"68ee":function(t,e,n){var s=n("e330"),i=n("d039"),r=n("1626"),o=n("f5df"),a=n("d066"),c=n("8925"),u=function(){},l=[],h=a("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=s(p.exec),f=!p.exec(u),m=function(t){if(!r(t))return!1;try{return h(u,l,t),!0}catch(e){return!1}},_=function(t){if(!r(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!d(p,c(t))}catch(e){return!0}};_.sham=!0,t.exports=!h||i((function(){var t;return m(m.call)||!m(Object)||!m((function(){t=!0}))||t}))?_:m},"69f3":function(t,e,n){var s,i,r,o=n("7f9a"),a=n("da84"),c=n("e330"),u=n("861d"),l=n("9112"),h=n("1a2d"),p=n("c6cd"),d=n("f772"),f=n("d012"),m="Object already initialized",_=a.TypeError,g=a.WeakMap,v=function(t){return r(t)?i(t):s(t,{})},y=function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw _("Incompatible receiver, "+t+" required");return n}};if(o||p.state){var b=p.state||(p.state=new g),x=c(b.get),w=c(b.has),T=c(b.set);s=function(t,e){if(w(b,t))throw new _(m);return e.facade=t,T(b,t,e),e},i=function(t){return x(b,t)||{}},r=function(t){return w(b,t)}}else{var S=d("state");f[S]=!0,s=function(t,e){if(h(t,S))throw new _(m);return e.facade=t,l(t,S,e),e},i=function(t){return h(t,S)?t[S]:{}},r=function(t){return h(t,S)}}t.exports={set:s,get:i,has:r,enforce:v,getterFor:y}},"6b0d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n}},"6eeb":function(t,e,n){var s=n("da84"),i=n("1626"),r=n("1a2d"),o=n("9112"),a=n("ce4e"),c=n("8925"),u=n("69f3"),l=n("5e77").CONFIGURABLE,h=u.get,p=u.enforce,d=String(String).split("String");(t.exports=function(t,e,n,c){var u,h=!!c&&!!c.unsafe,f=!!c&&!!c.enumerable,m=!!c&&!!c.noTargetGet,_=c&&void 0!==c.name?c.name:e;i(n)&&("Symbol("===String(_).slice(0,7)&&(_="["+String(_).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!r(n,"name")||l&&n.name!==_)&&o(n,"name",_),u=p(n),u.source||(u.source=d.join("string"==typeof _?_:""))),t!==s?(h?!m&&t[e]&&(f=!0):delete t[e],f?t[e]=n:o(t,e,n)):f?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return i(this)&&h(this).source||c(this)}))},7156:function(t,e,n){var s=n("1626"),i=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var o,a;return r&&s(o=e.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},"73d9":function(t,e,n){var s=n("44d2");s("flatMap")},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,n){var s=n("428f"),i=n("1a2d"),r=n("e538"),o=n("9bf2").f;t.exports=function(t){var e=s.Symbol||(s.Symbol={});i(e,t)||o(e,t,{value:r.f(t)})}},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(t,e,n){var s=n("cc12"),i=s("span").classList,r=i&&i.constructor&&i.constructor.prototype;t.exports=r===Object.prototype?void 0:r},"7a23":function(t,e,n){"use strict";n.d(e,"m",(function(){return Tt})),n.d(e,"i",(function(){return s["I"]})),n.d(e,"p",(function(){return s["L"]})),n.d(e,"a",(function(){return gs})),n.d(e,"c",(function(){return Ds})),n.d(e,"d",(function(){return As})),n.d(e,"e",(function(){return qs})),n.d(e,"f",(function(){return Fs})),n.d(e,"g",(function(){return Ke})),n.d(e,"h",(function(){return Fe})),n.d(e,"j",(function(){return Ts})),n.d(e,"k",(function(){return Oe})),n.d(e,"l",(function(){return Se})),n.d(e,"n",(function(){return $s})),n.d(e,"o",(function(){return ds})),n.d(e,"r",(function(){return Ve})),n.d(e,"s",(function(){return Jn})),n.d(e,"b",(function(){return xr})),n.d(e,"q",(function(){return gr}));var s=n("9ff4");let i;const r=[];class o{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&i&&(this.parent=i,this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}else 0}on(){this.active&&(r.push(this),i=this)}off(){this.active&&(r.pop(),i=r[r.length-1])}stop(t){if(this.active){if(this.effects.forEach(t=>t.stop()),this.cleanups.forEach(t=>t()),this.scopes&&this.scopes.forEach(t=>t.stop(!0)),this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.active=!1}}}function a(t,e){e=e||i,e&&e.active&&e.effects.push(t)}const c=t=>{const e=new Set(t);return e.w=0,e.n=0,e},u=t=>(t.w&m)>0,l=t=>(t.n&m)>0,h=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=m},p=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const i=e[s];u(i)&&!l(i)?i.delete(t):e[n++]=i,i.w&=~m,i.n&=~m}e.length=n}},d=new WeakMap;let f=0,m=1;const _=30,g=[];let v;const y=Symbol(""),b=Symbol("");class x{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],a(this,n)}run(){if(!this.active)return this.fn();if(!g.length||!g.includes(this))try{return g.push(v=this),k(),m=1<<++f,f<=_?h(this):w(this),this.fn()}finally{f<=_&&p(this),m=1<<--f,C(),g.pop();const t=g.length;v=t>0?g[t-1]:void 0}}stop(){this.active&&(w(this),this.onStop&&this.onStop(),this.active=!1)}}function w(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let T=!0;const S=[];function O(){S.push(T),T=!1}function k(){S.push(T),T=!0}function C(){const t=S.pop();T=void 0===t||t}function A(t,e,n){if(!D())return;let s=d.get(t);s||d.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=c());const r=void 0;E(i,r)}function D(){return T&&void 0!==v}function E(t,e){let n=!1;f<=_?l(t)||(t.n|=m,n=!u(t)):n=!t.has(v),n&&(t.add(v),v.deps.push(t))}function M(t,e,n,i,r,o){const a=d.get(t);if(!a)return;let u=[];if("clear"===e)u=[...a.values()];else if("length"===n&&Object(s["o"])(t))a.forEach((t,e)=>{("length"===e||e>=i)&&u.push(t)});else switch(void 0!==n&&u.push(a.get(n)),e){case"add":Object(s["o"])(t)?Object(s["s"])(n)&&u.push(a.get("length")):(u.push(a.get(y)),Object(s["t"])(t)&&u.push(a.get(b)));break;case"delete":Object(s["o"])(t)||(u.push(a.get(y)),Object(s["t"])(t)&&u.push(a.get(b)));break;case"set":Object(s["t"])(t)&&u.push(a.get(y));break}if(1===u.length)u[0]&&j(u[0]);else{const t=[];for(const e of u)e&&t.push(...e);j(c(t))}}function j(t,e){for(const n of Object(s["o"])(t)?t:[...t])(n!==v||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const R=Object(s["H"])("__proto__,__v_isRef,__isVue"),I=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(s["E"])),q=L(),F=L(!1,!0),P=L(!0),V=N();function N(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...t){const n=Mt(this);for(let e=0,i=this.length;e<i;e++)A(n,"get",e+"");const s=n[e](...t);return-1===s||!1===s?n[e](...t.map(Mt)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...t){O();const n=Mt(this)[e].apply(this,t);return C(),n}}),t}function L(t=!1,e=!1){return function(n,i,r){if("__v_isReactive"===i)return!t;if("__v_isReadonly"===i)return t;if("__v_isShallow"===i)return e;if("__v_raw"===i&&r===(t?e?bt:yt:e?vt:gt).get(n))return n;const o=Object(s["o"])(n);if(!t&&o&&Object(s["k"])(V,i))return Reflect.get(V,i,r);const a=Reflect.get(n,i,r);if(Object(s["E"])(i)?I.has(i):R(i))return a;if(t||A(n,"get",i),e)return a;if(Pt(a)){const t=!o||!Object(s["s"])(i);return t?a.value:a}return Object(s["v"])(a)?t?Ot(a):Tt(a):a}}const z=W(),B=W(!0);function W(t=!1){return function(e,n,i,r){let o=e[n];if(At(o)&&Pt(o))return!1;if(!t&&!At(i)&&(Dt(i)||(i=Mt(i),o=Mt(o)),!Object(s["o"])(e)&&Pt(o)&&!Pt(i)))return o.value=i,!0;const a=Object(s["o"])(e)&&Object(s["s"])(n)?Number(n)<e.length:Object(s["k"])(e,n),c=Reflect.set(e,n,i,r);return e===Mt(r)&&(a?Object(s["j"])(i,o)&&M(e,"set",n,i,o):M(e,"add",n,i)),c}}function G(t,e){const n=Object(s["k"])(t,e),i=t[e],r=Reflect.deleteProperty(t,e);return r&&n&&M(t,"delete",e,void 0,i),r}function U(t,e){const n=Reflect.has(t,e);return Object(s["E"])(e)&&I.has(e)||A(t,"has",e),n}function $(t){return A(t,"iterate",Object(s["o"])(t)?"length":y),Reflect.ownKeys(t)}const Q={get:q,set:z,deleteProperty:G,has:U,ownKeys:$},Y={get:P,set(t,e){return!0},deleteProperty(t,e){return!0}},X=Object(s["h"])({},Q,{get:F,set:B}),H=t=>t,Z=t=>Reflect.getPrototypeOf(t);function J(t,e,n=!1,s=!1){t=t["__v_raw"];const i=Mt(t),r=Mt(e);e!==r&&!n&&A(i,"get",e),!n&&A(i,"get",r);const{has:o}=Z(i),a=s?H:n?It:Rt;return o.call(i,e)?a(t.get(e)):o.call(i,r)?a(t.get(r)):void(t!==i&&t.get(e))}function K(t,e=!1){const n=this["__v_raw"],s=Mt(n),i=Mt(t);return t!==i&&!e&&A(s,"has",t),!e&&A(s,"has",i),t===i?n.has(t):n.has(t)||n.has(i)}function tt(t,e=!1){return t=t["__v_raw"],!e&&A(Mt(t),"iterate",y),Reflect.get(t,"size",t)}function et(t){t=Mt(t);const e=Mt(this),n=Z(e),s=n.has.call(e,t);return s||(e.add(t),M(e,"add",t,t)),this}function nt(t,e){e=Mt(e);const n=Mt(this),{has:i,get:r}=Z(n);let o=i.call(n,t);o||(t=Mt(t),o=i.call(n,t));const a=r.call(n,t);return n.set(t,e),o?Object(s["j"])(e,a)&&M(n,"set",t,e,a):M(n,"add",t,e),this}function st(t){const e=Mt(this),{has:n,get:s}=Z(e);let i=n.call(e,t);i||(t=Mt(t),i=n.call(e,t));const r=s?s.call(e,t):void 0,o=e.delete(t);return i&&M(e,"delete",t,void 0,r),o}function it(){const t=Mt(this),e=0!==t.size,n=void 0,s=t.clear();return e&&M(t,"clear",void 0,void 0,n),s}function rt(t,e){return function(n,s){const i=this,r=i["__v_raw"],o=Mt(r),a=e?H:t?It:Rt;return!t&&A(o,"iterate",y),r.forEach((t,e)=>n.call(s,a(t),a(e),i))}}function ot(t,e,n){return function(...i){const r=this["__v_raw"],o=Mt(r),a=Object(s["t"])(o),c="entries"===t||t===Symbol.iterator&&a,u="keys"===t&&a,l=r[t](...i),h=n?H:e?It:Rt;return!e&&A(o,"iterate",u?b:y),{next(){const{value:t,done:e}=l.next();return e?{value:t,done:e}:{value:c?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function at(t){return function(...e){return"delete"!==t&&this}}function ct(){const t={get(t){return J(this,t)},get size(){return tt(this)},has:K,add:et,set:nt,delete:st,clear:it,forEach:rt(!1,!1)},e={get(t){return J(this,t,!1,!0)},get size(){return tt(this)},has:K,add:et,set:nt,delete:st,clear:it,forEach:rt(!1,!0)},n={get(t){return J(this,t,!0)},get size(){return tt(this,!0)},has(t){return K.call(this,t,!0)},add:at("add"),set:at("set"),delete:at("delete"),clear:at("clear"),forEach:rt(!0,!1)},s={get(t){return J(this,t,!0,!0)},get size(){return tt(this,!0)},has(t){return K.call(this,t,!0)},add:at("add"),set:at("set"),delete:at("delete"),clear:at("clear"),forEach:rt(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach(i=>{t[i]=ot(i,!1,!1),n[i]=ot(i,!0,!1),e[i]=ot(i,!1,!0),s[i]=ot(i,!0,!0)}),[t,n,e,s]}const[ut,lt,ht,pt]=ct();function dt(t,e){const n=e?t?pt:ht:t?lt:ut;return(e,i,r)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get(Object(s["k"])(n,i)&&i in e?n:e,i,r)}const ft={get:dt(!1,!1)},mt={get:dt(!1,!0)},_t={get:dt(!0,!1)};const gt=new WeakMap,vt=new WeakMap,yt=new WeakMap,bt=new WeakMap;function xt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wt(t){return t["__v_skip"]||!Object.isExtensible(t)?0:xt(Object(s["O"])(t))}function Tt(t){return At(t)?t:kt(t,!1,Q,ft,gt)}function St(t){return kt(t,!1,X,mt,vt)}function Ot(t){return kt(t,!0,Y,_t,yt)}function kt(t,e,n,i,r){if(!Object(s["v"])(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const o=r.get(t);if(o)return o;const a=wt(t);if(0===a)return t;const c=new Proxy(t,2===a?i:n);return r.set(t,c),c}function Ct(t){return At(t)?Ct(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function At(t){return!(!t||!t["__v_isReadonly"])}function Dt(t){return!(!t||!t["__v_isShallow"])}function Et(t){return Ct(t)||At(t)}function Mt(t){const e=t&&t["__v_raw"];return e?Mt(e):t}function jt(t){return Object(s["g"])(t,"__v_skip",!0),t}const Rt=t=>Object(s["v"])(t)?Tt(t):t,It=t=>Object(s["v"])(t)?Ot(t):t;function qt(t){D()&&(t=Mt(t),t.dep||(t.dep=c()),E(t.dep))}function Ft(t,e){t=Mt(t),t.dep&&j(t.dep)}function Pt(t){return Boolean(t&&!0===t.__v_isRef)}function Vt(t){return Pt(t)?t.value:t}const Nt={get:(t,e,n)=>Vt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Pt(i)&&!Pt(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Lt(t){return Ct(t)?t:new Proxy(t,Nt)}class zt{constructor(t,e,n,s){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new x(t,()=>{this._dirty||(this._dirty=!0,Ft(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this["__v_isReadonly"]=n}get value(){const t=Mt(this);return qt(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Bt(t,e,n=!1){let i,r;const o=Object(s["p"])(t);o?(i=t,r=s["d"]):(i=t.get,r=t.set);const a=new zt(i,r,o||!r,n);return a}Promise.resolve();function Wt(t,e,n,s){let i;try{i=s?t(...s):t()}catch(r){Ut(r,e,n)}return i}function Gt(t,e,n,i){if(Object(s["p"])(t)){const r=Wt(t,e,n,i);return r&&Object(s["y"])(r)&&r.catch(t=>{Ut(t,e,n)}),r}const r=[];for(let s=0;s<t.length;s++)r.push(Gt(t[s],e,n,i));return r}function Ut(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const i=e.proxy,r=n;while(s){const e=s.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,r))return;s=s.parent}const o=e.appContext.config.errorHandler;if(o)return void Wt(o,null,10,[t,i,r])}$t(t,n,i,s)}function $t(t,e,n,s=!0){console.error(t)}let Qt=!1,Yt=!1;const Xt=[];let Ht=0;const Zt=[];let Jt=null,Kt=0;const te=[];let ee=null,ne=0;const se=Promise.resolve();let ie=null,re=null;function oe(t){const e=ie||se;return t?e.then(this?t.bind(this):t):e}function ae(t){let e=Ht+1,n=Xt.length;while(e<n){const s=e+n>>>1,i=_e(Xt[s]);i<t?e=s+1:n=s}return e}function ce(t){Xt.length&&Xt.includes(t,Qt&&t.allowRecurse?Ht+1:Ht)||t===re||(null==t.id?Xt.push(t):Xt.splice(ae(t.id),0,t),ue())}function ue(){Qt||Yt||(Yt=!0,ie=se.then(ge))}function le(t){const e=Xt.indexOf(t);e>Ht&&Xt.splice(e,1)}function he(t,e,n,i){Object(s["o"])(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?i+1:i)||n.push(t),ue()}function pe(t){he(t,Jt,Zt,Kt)}function de(t){he(t,ee,te,ne)}function fe(t,e=null){if(Zt.length){for(re=e,Jt=[...new Set(Zt)],Zt.length=0,Kt=0;Kt<Jt.length;Kt++)Jt[Kt]();Jt=null,Kt=0,re=null,fe(t,e)}}function me(t){if(te.length){const t=[...new Set(te)];if(te.length=0,ee)return void ee.push(...t);for(ee=t,ee.sort((t,e)=>_e(t)-_e(e)),ne=0;ne<ee.length;ne++)ee[ne]();ee=null,ne=0}}const _e=t=>null==t.id?1/0:t.id;function ge(t){Yt=!1,Qt=!0,fe(t),Xt.sort((t,e)=>_e(t)-_e(e));s["d"];try{for(Ht=0;Ht<Xt.length;Ht++){const t=Xt[Ht];t&&!1!==t.active&&Wt(t,null,14)}}finally{Ht=0,Xt.length=0,me(t),Qt=!1,ie=null,(Xt.length||Zt.length||te.length)&&ge(t)}}new Set;new Map;function ve(t,e,...n){const i=t.vnode.props||s["b"];let r=n;const o=e.startsWith("update:"),a=o&&e.slice(7);if(a&&a in i){const t=("modelValue"===a?"model":a)+"Modifiers",{number:e,trim:o}=i[t]||s["b"];o?r=n.map(t=>t.trim()):e&&(r=n.map(s["N"]))}let c;let u=i[c=Object(s["M"])(e)]||i[c=Object(s["M"])(Object(s["e"])(e))];!u&&o&&(u=i[c=Object(s["M"])(Object(s["l"])(e))]),u&&Gt(u,t,6,r);const l=i[c+"Once"];if(l){if(t.emitted){if(t.emitted[c])return}else t.emitted={};t.emitted[c]=!0,Gt(l,t,6,r)}}function ye(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(void 0!==r)return r;const o=t.emits;let a={},c=!1;if(!Object(s["p"])(t)){const i=t=>{const n=ye(t,e,!0);n&&(c=!0,Object(s["h"])(a,n))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return o||c?(Object(s["o"])(o)?o.forEach(t=>a[t]=null):Object(s["h"])(a,o),i.set(t,a),a):(i.set(t,null),null)}function be(t,e){return!(!t||!Object(s["w"])(e))&&(e=e.slice(2).replace(/Once$/,""),Object(s["k"])(t,e[0].toLowerCase()+e.slice(1))||Object(s["k"])(t,Object(s["l"])(e))||Object(s["k"])(t,e))}let xe=null,we=null;function Te(t){const e=xe;return xe=t,we=t&&t.type.__scopeId||null,e}function Se(t){we=t}function Oe(){we=null}function ke(t,e=xe,n){if(!e)return t;if(t._n)return t;const s=(...n)=>{s._d&&ks(-1);const i=Te(e),r=t(...n);return Te(i),s._d&&ks(1),r};return s._n=!0,s._c=!0,s._d=!0,s}function Ce(t){const{type:e,vnode:n,proxy:i,withProxy:r,props:o,propsOptions:[a],slots:c,attrs:u,emit:l,render:h,renderCache:p,data:d,setupState:f,ctx:m,inheritAttrs:_}=t;let g,v;const y=Te(t);try{if(4&n.shapeFlag){const t=r||i;g=zs(h.call(t,t,p,o,f,d,m)),v=u}else{const t=e;0,g=zs(t.length>1?t(o,{attrs:u,slots:c,emit:l}):t(o,null)),v=e.props?u:Ae(u)}}catch(x){xs.length=0,Ut(x,t,1),g=Fs(ys)}let b=g;if(v&&!1!==_){const t=Object.keys(v),{shapeFlag:e}=b;t.length&&7&e&&(a&&t.some(s["u"])&&(v=De(v,a)),b=Ns(b,v))}return n.dirs&&(b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),g=b,Te(y),g}const Ae=t=>{let e;for(const n in t)("class"===n||"style"===n||Object(s["w"])(n))&&((e||(e={}))[n]=t[n]);return e},De=(t,e)=>{const n={};for(const i in t)Object(s["u"])(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function Ee(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:c}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&c>=0))return!(!i&&!a||a&&a.$stable)||s!==o&&(s?!o||Me(s,o,u):!!o);if(1024&c)return!0;if(16&c)return s?Me(s,o,u):!!o;if(8&c){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(o[n]!==s[n]&&!be(u,n))return!0}}return!1}function Me(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!be(n,r))return!0}return!1}function je({vnode:t,parent:e},n){while(e&&e.subTree===t)(t=e.vnode).el=n,e=e.parent}const Re=t=>t.__isSuspense;function Ie(t,e){e&&e.pendingBranch?Object(s["o"])(t)?e.effects.push(...t):e.effects.push(t):de(t)}function qe(t,e){if(Ks){let n=Ks.provides;const s=Ks.parent&&Ks.parent.provides;s===n&&(n=Ks.provides=Object.create(s)),n[t]=e}else 0}function Fe(t,e,n=!1){const i=Ks||xe;if(i){const r=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Object(s["p"])(e)?e.call(i.proxy):e}else 0}const Pe={};function Ve(t,e,n){return Ne(t,e,n)}function Ne(t,e,{immediate:n,deep:i,flush:r,onTrack:o,onTrigger:a}=s["b"]){const c=Ks;let u,l,h=!1,p=!1;if(Pt(t)?(u=()=>t.value,h=Dt(t)):Ct(t)?(u=()=>t,i=!0):Object(s["o"])(t)?(p=!0,h=t.some(Ct),u=()=>t.map(t=>Pt(t)?t.value:Ct(t)?Be(t):Object(s["p"])(t)?Wt(t,c,2):void 0)):u=Object(s["p"])(t)?e?()=>Wt(t,c,2):()=>{if(!c||!c.isUnmounted)return l&&l(),Gt(t,c,3,[d])}:s["d"],e&&i){const t=u;u=()=>Be(t())}let d=t=>{l=g.onStop=()=>{Wt(t,c,4)}};if(oi)return d=s["d"],e?n&&Gt(e,c,3,[u(),p?[]:void 0,d]):u(),s["d"];let f=p?[]:Pe;const m=()=>{if(g.active)if(e){const t=g.run();(i||h||(p?t.some((t,e)=>Object(s["j"])(t,f[e])):Object(s["j"])(t,f)))&&(l&&l(),Gt(e,c,3,[t,f===Pe?void 0:f,d]),f=t)}else g.run()};let _;m.allowRecurse=!!e,_="sync"===r?m:"post"===r?()=>rs(m,c&&c.suspense):()=>{!c||c.isMounted?pe(m):m()};const g=new x(u,_);return e?n?m():f=g.run():"post"===r?rs(g.run.bind(g),c&&c.suspense):g.run(),()=>{g.stop(),c&&c.scope&&Object(s["K"])(c.scope.effects,g)}}function Le(t,e,n){const i=this.proxy,r=Object(s["D"])(t)?t.includes(".")?ze(i,t):()=>i[t]:t.bind(i,i);let o;Object(s["p"])(e)?o=e:(o=e.handler,n=e);const a=Ks;ei(this);const c=Ne(r,o.bind(i),n);return a?ei(a):ni(),c}function ze(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function Be(t,e){if(!Object(s["v"])(t)||t["__v_skip"])return t;if(e=e||new Set,e.has(t))return t;if(e.add(t),Pt(t))Be(t.value,e);else if(Object(s["o"])(t))for(let n=0;n<t.length;n++)Be(t[n],e);else if(Object(s["B"])(t)||Object(s["t"])(t))t.forEach(t=>{Be(t,e)});else if(Object(s["x"])(t))for(const n in t)Be(t[n],e);return t}function We(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return dn(()=>{t.isMounted=!0}),_n(()=>{t.isUnmounting=!0}),t}const Ge=[Function,Array],Ue={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ge,onEnter:Ge,onAfterEnter:Ge,onEnterCancelled:Ge,onBeforeLeave:Ge,onLeave:Ge,onAfterLeave:Ge,onLeaveCancelled:Ge,onBeforeAppear:Ge,onAppear:Ge,onAfterAppear:Ge,onAppearCancelled:Ge},setup(t,{slots:e}){const n=ti(),s=We();let i;return()=>{const r=e.default&&Je(e.default(),!0);if(!r||!r.length)return;const o=Mt(t),{mode:a}=o;const c=r[0];if(s.isLeaving)return Xe(c);const u=He(c);if(!u)return Xe(c);const l=Ye(u,o,s,n);Ze(u,l);const h=n.subTree,p=h&&He(h);let d=!1;const{getTransitionKey:f}=u.type;if(f){const t=f();void 0===i?i=t:t!==i&&(i=t,d=!0)}if(p&&p.type!==ys&&(!Ms(u,p)||d)){const t=Ye(p,o,s,n);if(Ze(p,t),"out-in"===a)return s.isLeaving=!0,t.afterLeave=()=>{s.isLeaving=!1,n.update()},Xe(c);"in-out"===a&&u.type!==ys&&(t.delayLeave=(t,e,n)=>{const i=Qe(s,p);i[String(p.key)]=p,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=n})}return c}}},$e=Ue;function Qe(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Ye(t,e,n,s){const{appear:i,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:l,onBeforeLeave:h,onLeave:p,onAfterLeave:d,onLeaveCancelled:f,onBeforeAppear:m,onAppear:_,onAfterAppear:g,onAppearCancelled:v}=e,y=String(t.key),b=Qe(n,t),x=(t,e)=>{t&&Gt(t,s,9,e)},w={mode:r,persisted:o,beforeEnter(e){let s=a;if(!n.isMounted){if(!i)return;s=m||a}e._leaveCb&&e._leaveCb(!0);const r=b[y];r&&Ms(t,r)&&r.el._leaveCb&&r.el._leaveCb(),x(s,[e])},enter(t){let e=c,s=u,r=l;if(!n.isMounted){if(!i)return;e=_||c,s=g||u,r=v||l}let o=!1;const a=t._enterCb=e=>{o||(o=!0,x(e?r:s,[t]),w.delayedLeave&&w.delayedLeave(),t._enterCb=void 0)};e?(e(t,a),e.length<=1&&a()):a()},leave(e,s){const i=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return s();x(h,[e]);let r=!1;const o=e._leaveCb=n=>{r||(r=!0,s(),x(n?f:d,[e]),e._leaveCb=void 0,b[i]===t&&delete b[i])};b[i]=t,p?(p(e,o),p.length<=1&&o()):o()},clone(t){return Ye(t,e,n,s)}};return w}function Xe(t){if(en(t))return t=Ns(t),t.children=null,t}function He(t){return en(t)?t.children?t.children[0]:void 0:t}function Ze(t,e){6&t.shapeFlag&&t.component?Ze(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Je(t,e=!1){let n=[],s=0;for(let i=0;i<t.length;i++){const r=t[i];r.type===gs?(128&r.patchFlag&&s++,n=n.concat(Je(r.children,e))):(e||r.type!==ys)&&n.push(r)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function Ke(t){return Object(s["p"])(t)?{setup:t,name:t.name}:t}const tn=t=>!!t.type.__asyncLoader;const en=t=>t.type.__isKeepAlive;RegExp,RegExp;function nn(t,e){return Object(s["o"])(t)?t.some(t=>nn(t,e)):Object(s["D"])(t)?t.split(",").includes(e):!!t.test&&t.test(e)}function sn(t,e){on(t,"a",e)}function rn(t,e){on(t,"da",e)}function on(t,e,n=Ks){const s=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(ln(e,s,n),n){let t=n.parent;while(t&&t.parent)en(t.parent.vnode)&&an(s,e,n,t),t=t.parent}}function an(t,e,n,i){const r=ln(e,t,i,!0);gn(()=>{Object(s["K"])(i[e],r)},n)}function cn(t){let e=t.shapeFlag;256&e&&(e-=256),512&e&&(e-=512),t.shapeFlag=e}function un(t){return 128&t.shapeFlag?t.ssContent:t}function ln(t,e,n=Ks,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;O(),ei(n);const i=Gt(e,n,t,s);return ni(),C(),i});return s?i.unshift(r):i.push(r),r}}const hn=t=>(e,n=Ks)=>(!oi||"sp"===t)&&ln(t,e,n),pn=hn("bm"),dn=hn("m"),fn=hn("bu"),mn=hn("u"),_n=hn("bum"),gn=hn("um"),vn=hn("sp"),yn=hn("rtg"),bn=hn("rtc");function xn(t,e=Ks){ln("ec",t,e)}let wn=!0;function Tn(t){const e=Cn(t),n=t.proxy,i=t.ctx;wn=!1,e.beforeCreate&&On(e.beforeCreate,t,"bc");const{data:r,computed:o,methods:a,watch:c,provide:u,inject:l,created:h,beforeMount:p,mounted:d,beforeUpdate:f,updated:m,activated:_,deactivated:g,beforeDestroy:v,beforeUnmount:y,destroyed:b,unmounted:x,render:w,renderTracked:T,renderTriggered:S,errorCaptured:O,serverPrefetch:k,expose:C,inheritAttrs:A,components:D,directives:E,filters:M}=e,j=null;if(l&&Sn(l,i,j,t.appContext.config.unwrapInjectedRef),a)for(const I in a){const t=a[I];Object(s["p"])(t)&&(i[I]=t.bind(n))}if(r){0;const e=r.call(n,n);0,Object(s["v"])(e)&&(t.data=Tt(e))}if(wn=!0,o)for(const I in o){const t=o[I],e=Object(s["p"])(t)?t.bind(n,n):Object(s["p"])(t.get)?t.get.bind(n,n):s["d"];0;const r=!Object(s["p"])(t)&&Object(s["p"])(t.set)?t.set.bind(n):s["d"],a=_i({get:e,set:r});Object.defineProperty(i,I,{enumerable:!0,configurable:!0,get:()=>a.value,set:t=>a.value=t})}if(c)for(const s in c)kn(c[s],i,n,s);if(u){const t=Object(s["p"])(u)?u.call(n):u;Reflect.ownKeys(t).forEach(e=>{qe(e,t[e])})}function R(t,e){Object(s["o"])(e)?e.forEach(e=>t(e.bind(n))):e&&t(e.bind(n))}if(h&&On(h,t,"c"),R(pn,p),R(dn,d),R(fn,f),R(mn,m),R(sn,_),R(rn,g),R(xn,O),R(bn,T),R(yn,S),R(_n,y),R(gn,x),R(vn,k),Object(s["o"])(C))if(C.length){const e=t.exposed||(t.exposed={});C.forEach(t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})})}else t.exposed||(t.exposed={});w&&t.render===s["d"]&&(t.render=w),null!=A&&(t.inheritAttrs=A),D&&(t.components=D),E&&(t.directives=E)}function Sn(t,e,n=s["d"],i=!1){Object(s["o"])(t)&&(t=jn(t));for(const r in t){const n=t[r];let o;o=Object(s["v"])(n)?"default"in n?Fe(n.from||r,n.default,!0):Fe(n.from||r):Fe(n),Pt(o)&&i?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t}):e[r]=o}}function On(t,e,n){Gt(Object(s["o"])(t)?t.map(t=>t.bind(e.proxy)):t.bind(e.proxy),e,n)}function kn(t,e,n,i){const r=i.includes(".")?ze(n,i):()=>n[i];if(Object(s["D"])(t)){const n=e[t];Object(s["p"])(n)&&Ve(r,n)}else if(Object(s["p"])(t))Ve(r,t.bind(n));else if(Object(s["v"])(t))if(Object(s["o"])(t))t.forEach(t=>kn(t,e,n,i));else{const i=Object(s["p"])(t.handler)?t.handler.bind(n):e[t.handler];Object(s["p"])(i)&&Ve(r,i,t)}else 0}function Cn(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let c;return a?c=a:i.length||n||s?(c={},i.length&&i.forEach(t=>An(c,t,o,!0)),An(c,e,o)):c=e,r.set(e,c),c}function An(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&An(t,r,n,!0),i&&i.forEach(e=>An(t,e,n,!0));for(const o in e)if(s&&"expose"===o);else{const s=Dn[o]||n&&n[o];t[o]=s?s(t[o],e[o]):e[o]}return t}const Dn={data:En,props:In,emits:In,methods:In,computed:In,beforeCreate:Rn,created:Rn,beforeMount:Rn,mounted:Rn,beforeUpdate:Rn,updated:Rn,beforeDestroy:Rn,beforeUnmount:Rn,destroyed:Rn,unmounted:Rn,activated:Rn,deactivated:Rn,errorCaptured:Rn,serverPrefetch:Rn,components:In,directives:In,watch:qn,provide:En,inject:Mn};function En(t,e){return e?t?function(){return Object(s["h"])(Object(s["p"])(t)?t.call(this,this):t,Object(s["p"])(e)?e.call(this,this):e)}:e:t}function Mn(t,e){return In(jn(t),jn(e))}function jn(t){if(Object(s["o"])(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Rn(t,e){return t?[...new Set([].concat(t,e))]:e}function In(t,e){return t?Object(s["h"])(Object(s["h"])(Object.create(null),t),e):e}function qn(t,e){if(!t)return e;if(!e)return t;const n=Object(s["h"])(Object.create(null),t);for(const s in e)n[s]=Rn(t[s],e[s]);return n}function Fn(t,e,n,i=!1){const r={},o={};Object(s["g"])(o,js,1),t.propsDefaults=Object.create(null),Vn(t,e,r,o);for(const s in t.propsOptions[0])s in r||(r[s]=void 0);n?t.props=i?r:St(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function Pn(t,e,n,i){const{props:r,attrs:o,vnode:{patchFlag:a}}=t,c=Mt(r),[u]=t.propsOptions;let l=!1;if(!(i||a>0)||16&a){let i;Vn(t,e,r,o)&&(l=!0);for(const o in c)e&&(Object(s["k"])(e,o)||(i=Object(s["l"])(o))!==o&&Object(s["k"])(e,i))||(u?!n||void 0===n[o]&&void 0===n[i]||(r[o]=Nn(u,c,o,void 0,t,!0)):delete r[o]);if(o!==c)for(const t in o)e&&Object(s["k"])(e,t)||(delete o[t],l=!0)}else if(8&a){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){let a=n[i];const h=e[a];if(u)if(Object(s["k"])(o,a))h!==o[a]&&(o[a]=h,l=!0);else{const e=Object(s["e"])(a);r[e]=Nn(u,c,e,h,t,!1)}else h!==o[a]&&(o[a]=h,l=!0)}}l&&M(t,"set","$attrs")}function Vn(t,e,n,i){const[r,o]=t.propsOptions;let a,c=!1;if(e)for(let u in e){if(Object(s["z"])(u))continue;const l=e[u];let h;r&&Object(s["k"])(r,h=Object(s["e"])(u))?o&&o.includes(h)?(a||(a={}))[h]=l:n[h]=l:be(t.emitsOptions,u)||u in i&&l===i[u]||(i[u]=l,c=!0)}if(o){const e=Mt(n),i=a||s["b"];for(let a=0;a<o.length;a++){const c=o[a];n[c]=Nn(r,e,c,i[c],t,!Object(s["k"])(i,c))}}return c}function Nn(t,e,n,i,r,o){const a=t[n];if(null!=a){const t=Object(s["k"])(a,"default");if(t&&void 0===i){const t=a.default;if(a.type!==Function&&Object(s["p"])(t)){const{propsDefaults:s}=r;n in s?i=s[n]:(ei(r),i=s[n]=t.call(null,e),ni())}else i=t}a[0]&&(o&&!t?i=!1:!a[1]||""!==i&&i!==Object(s["l"])(n)||(i=!0))}return i}function Ln(t,e,n=!1){const i=e.propsCache,r=i.get(t);if(r)return r;const o=t.props,a={},c=[];let u=!1;if(!Object(s["p"])(t)){const i=t=>{u=!0;const[n,i]=Ln(t,e,!0);Object(s["h"])(a,n),i&&c.push(...i)};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!o&&!u)return i.set(t,s["a"]),s["a"];if(Object(s["o"])(o))for(let h=0;h<o.length;h++){0;const t=Object(s["e"])(o[h]);zn(t)&&(a[t]=s["b"])}else if(o){0;for(const t in o){const e=Object(s["e"])(t);if(zn(e)){const n=o[t],i=a[e]=Object(s["o"])(n)||Object(s["p"])(n)?{type:n}:n;if(i){const t=Gn(Boolean,i.type),n=Gn(String,i.type);i[0]=t>-1,i[1]=n<0||t<n,(t>-1||Object(s["k"])(i,"default"))&&c.push(e)}}}}const l=[a,c];return i.set(t,l),l}function zn(t){return"$"!==t[0]}function Bn(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:null===t?"null":""}function Wn(t,e){return Bn(t)===Bn(e)}function Gn(t,e){return Object(s["o"])(e)?e.findIndex(e=>Wn(e,t)):Object(s["p"])(e)&&Wn(e,t)?0:-1}const Un=t=>"_"===t[0]||"$stable"===t,$n=t=>Object(s["o"])(t)?t.map(zs):[zs(t)],Qn=(t,e,n)=>{const s=ke((...t)=>$n(e(...t)),n);return s._c=!1,s},Yn=(t,e,n)=>{const i=t._ctx;for(const r in t){if(Un(r))continue;const n=t[r];if(Object(s["p"])(n))e[r]=Qn(r,n,i);else if(null!=n){0;const t=$n(n);e[r]=()=>t}}},Xn=(t,e)=>{const n=$n(e);t.slots.default=()=>n},Hn=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=Mt(e),Object(s["g"])(e,"_",n)):Yn(e,t.slots={})}else t.slots={},e&&Xn(t,e);Object(s["g"])(t.slots,js,1)},Zn=(t,e,n)=>{const{vnode:i,slots:r}=t;let o=!0,a=s["b"];if(32&i.shapeFlag){const t=e._;t?n&&1===t?o=!1:(Object(s["h"])(r,e),n||1!==t||delete r._):(o=!e.$stable,Yn(e,r)),a=e}else e&&(Xn(t,e),a={default:1});if(o)for(const s in r)Un(s)||s in a||delete r[s]};function Jn(t,e){const n=xe;if(null===n)return t;const i=n.proxy,r=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,n,a,c=s["b"]]=e[o];Object(s["p"])(t)&&(t={mounted:t,updated:t}),t.deep&&Be(n),r.push({dir:t,instance:i,value:n,oldValue:void 0,arg:a,modifiers:c})}return t}function Kn(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let c=a.dir[s];c&&(O(),Gt(c,n,8,[t.el,a,t,e]),C())}}function ts(){return{app:null,config:{isNativeTag:s["c"],performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let es=0;function ns(t,e){return function(n,i=null){null==i||Object(s["v"])(i)||(i=null);const r=ts(),o=new Set;let a=!1;const c=r.app={_uid:es++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:vi,get config(){return r.config},set config(t){0},use(t,...e){return o.has(t)||(t&&Object(s["p"])(t.install)?(o.add(t),t.install(c,...e)):Object(s["p"])(t)&&(o.add(t),t(c,...e))),c},mixin(t){return r.mixins.includes(t)||r.mixins.push(t),c},component(t,e){return e?(r.components[t]=e,c):r.components[t]},directive(t,e){return e?(r.directives[t]=e,c):r.directives[t]},mount(s,o,u){if(!a){const l=Fs(n,i);return l.appContext=r,o&&e?e(l,s):t(l,s,u),a=!0,c._container=s,s.__vue_app__=c,di(l.component)||l.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(t,e){return r.provides[t]=e,c}};return c}}function ss(t,e,n,i,r=!1){if(Object(s["o"])(t))return void t.forEach((t,o)=>ss(t,e&&(Object(s["o"])(e)?e[o]:e),n,i,r));if(tn(i)&&!r)return;const o=4&i.shapeFlag?di(i.component)||i.component.proxy:i.el,a=r?null:o,{i:c,r:u}=t;const l=e&&e.r,h=c.refs===s["b"]?c.refs={}:c.refs,p=c.setupState;if(null!=l&&l!==u&&(Object(s["D"])(l)?(h[l]=null,Object(s["k"])(p,l)&&(p[l]=null)):Pt(l)&&(l.value=null)),Object(s["p"])(u))Wt(u,c,12,[a,h]);else{const e=Object(s["D"])(u),i=Pt(u);if(e||i){const i=()=>{if(t.f){const n=e?h[u]:u.value;r?Object(s["o"])(n)&&Object(s["K"])(n,o):Object(s["o"])(n)?n.includes(o)||n.push(o):e?h[u]=[o]:(u.value=[o],t.k&&(h[t.k]=u.value))}else e?(h[u]=a,Object(s["k"])(p,u)&&(p[u]=a)):Pt(u)&&(u.value=a,t.k&&(h[t.k]=a))};a?(i.id=-1,rs(i,n)):i()}else 0}}function is(){}const rs=Ie;function os(t){return as(t)}function as(t,e){is();const n=Object(s["i"])();n.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:a,createText:c,createComment:u,setText:l,setElementText:h,parentNode:p,nextSibling:d,setScopeId:f=s["d"],cloneNode:m,insertStaticContent:_}=t,g=(t,e,n,s=null,i=null,r=null,o=!1,a=null,c=!!e.dynamicChildren)=>{if(t===e)return;t&&!Ms(t,e)&&(s=Y(t),W(t,i,r,!0),t=null),-2===e.patchFlag&&(c=!1,e.dynamicChildren=null);const{type:u,ref:l,shapeFlag:h}=e;switch(u){case vs:v(t,e,n,s);break;case ys:y(t,e,n,s);break;case bs:null==t&&b(e,n,s,o);break;case gs:R(t,e,n,s,i,r,o,a,c);break;default:1&h?S(t,e,n,s,i,r,o,a,c):6&h?I(t,e,n,s,i,r,o,a,c):(64&h||128&h)&&u.process(t,e,n,s,i,r,o,a,c,H)}null!=l&&i&&ss(l,t&&t.ref,r,e||t,!e)},v=(t,e,n,s)=>{if(null==t)i(e.el=c(e.children),n,s);else{const n=e.el=t.el;e.children!==t.children&&l(n,e.children)}},y=(t,e,n,s)=>{null==t?i(e.el=u(e.children||""),n,s):e.el=t.el},b=(t,e,n,s)=>{[t.el,t.anchor]=_(t.children,e,n,s,t.el,t.anchor)},w=({el:t,anchor:e},n,s)=>{let r;while(t&&t!==e)r=d(t),i(t,n,s),t=r;i(e,n,s)},T=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=d(t),r(t),t=n;r(e)},S=(t,e,n,s,i,r,o,a,c)=>{o=o||"svg"===e.type,null==t?k(e,n,s,i,r,o,a,c):E(t,e,i,r,o,a,c)},k=(t,e,n,r,c,u,l,p)=>{let d,f;const{type:_,props:g,shapeFlag:v,transition:y,patchFlag:b,dirs:x}=t;if(t.el&&void 0!==m&&-1===b)d=t.el=m(t.el);else{if(d=t.el=a(t.type,u,g&&g.is,g),8&v?h(d,t.children):16&v&&D(t.children,d,null,r,c,u&&"foreignObject"!==_,l,p),x&&Kn(t,null,r,"created"),g){for(const e in g)"value"===e||Object(s["z"])(e)||o(d,e,null,g[e],u,t.children,r,c,Q);"value"in g&&o(d,"value",null,g.value),(f=g.onVnodeBeforeMount)&&Us(f,r,t)}A(d,t,t.scopeId,l,r)}x&&Kn(t,null,r,"beforeMount");const w=(!c||c&&!c.pendingBranch)&&y&&!y.persisted;w&&y.beforeEnter(d),i(d,e,n),((f=g&&g.onVnodeMounted)||w||x)&&rs(()=>{f&&Us(f,r,t),w&&y.enter(d),x&&Kn(t,null,r,"mounted")},c)},A=(t,e,n,s,i)=>{if(n&&f(t,n),s)for(let r=0;r<s.length;r++)f(t,s[r]);if(i){let n=i.subTree;if(e===n){const e=i.vnode;A(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},D=(t,e,n,s,i,r,o,a,c=0)=>{for(let u=c;u<t.length;u++){const c=t[u]=a?Bs(t[u]):zs(t[u]);g(null,c,e,n,s,i,r,o,a)}},E=(t,e,n,i,r,a,c)=>{const u=e.el=t.el;let{patchFlag:l,dynamicChildren:p,dirs:d}=e;l|=16&t.patchFlag;const f=t.props||s["b"],m=e.props||s["b"];let _;n&&cs(n,!1),(_=m.onVnodeBeforeUpdate)&&Us(_,n,e,t),d&&Kn(e,t,n,"beforeUpdate"),n&&cs(n,!0);const g=r&&"foreignObject"!==e.type;if(p?M(t.dynamicChildren,p,u,n,i,g,a):c||N(t,e,u,null,n,i,g,a,!1),l>0){if(16&l)j(u,e,f,m,n,i,r);else if(2&l&&f.class!==m.class&&o(u,"class",null,m.class,r),4&l&&o(u,"style",f.style,m.style,r),8&l){const s=e.dynamicProps;for(let e=0;e<s.length;e++){const a=s[e],c=f[a],l=m[a];l===c&&"value"!==a||o(u,a,c,l,r,t.children,n,i,Q)}}1&l&&t.children!==e.children&&h(u,e.children)}else c||null!=p||j(u,e,f,m,n,i,r);((_=m.onVnodeUpdated)||d)&&rs(()=>{_&&Us(_,n,e,t),d&&Kn(e,t,n,"updated")},i)},M=(t,e,n,s,i,r,o)=>{for(let a=0;a<e.length;a++){const c=t[a],u=e[a],l=c.el&&(c.type===gs||!Ms(c,u)||70&c.shapeFlag)?p(c.el):n;g(c,u,l,null,s,i,r,o,!0)}},j=(t,e,n,i,r,a,c)=>{if(n!==i){for(const u in i){if(Object(s["z"])(u))continue;const l=i[u],h=n[u];l!==h&&"value"!==u&&o(t,u,h,l,c,e.children,r,a,Q)}if(n!==s["b"])for(const u in n)Object(s["z"])(u)||u in i||o(t,u,n[u],null,c,e.children,r,a,Q);"value"in i&&o(t,"value",n.value,i.value)}},R=(t,e,n,s,r,o,a,u,l)=>{const h=e.el=t?t.el:c(""),p=e.anchor=t?t.anchor:c("");let{patchFlag:d,dynamicChildren:f,slotScopeIds:m}=e;m&&(u=u?u.concat(m):m),null==t?(i(h,n,s),i(p,n,s),D(e.children,n,p,r,o,a,u,l)):d>0&&64&d&&f&&t.dynamicChildren?(M(t.dynamicChildren,f,n,r,o,a,u),(null!=e.key||r&&e===r.subTree)&&us(t,e,!0)):N(t,e,n,p,r,o,a,u,l)},I=(t,e,n,s,i,r,o,a,c)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,s,o,c):q(e,n,s,i,r,o,c):F(t,e,c)},q=(t,e,n,s,i,r,o)=>{const a=t.component=Js(t,s,i);if(en(t)&&(a.ctx.renderer=H),ai(a),a.asyncDep){if(i&&i.registerDep(a,P),!t.el){const t=a.subTree=Fs(ys);y(null,t,e,n)}}else P(a,t,e,n,i,r,o)},F=(t,e,n)=>{const s=e.component=t.component;if(Ee(t,e,n)){if(s.asyncDep&&!s.asyncResolved)return void V(s,e,n);s.next=e,le(s.update),s.update()}else e.component=t.component,e.el=t.el,s.vnode=e},P=(t,e,n,i,r,o,a)=>{const c=()=>{if(t.isMounted){let e,{next:n,bu:i,u:c,parent:u,vnode:l}=t,h=n;0,cs(t,!1),n?(n.el=l.el,V(t,n,a)):n=l,i&&Object(s["n"])(i),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Us(e,u,n,l),cs(t,!0);const d=Ce(t);0;const f=t.subTree;t.subTree=d,g(f,d,p(f.el),Y(f),t,r,o),n.el=d.el,null===h&&je(t,d.el),c&&rs(c,r),(e=n.props&&n.props.onVnodeUpdated)&&rs(()=>Us(e,u,n,l),r)}else{let a;const{el:c,props:u}=e,{bm:l,m:h,parent:p}=t,d=tn(e);if(cs(t,!1),l&&Object(s["n"])(l),!d&&(a=u&&u.onVnodeBeforeMount)&&Us(a,p,e),cs(t,!0),c&&J){const n=()=>{t.subTree=Ce(t),J(c,t.subTree,t,r,null)};d?e.type.__asyncLoader().then(()=>!t.isUnmounted&&n()):n()}else{0;const s=t.subTree=Ce(t);0,g(null,s,n,i,t,r,o),e.el=s.el}if(h&&rs(h,r),!d&&(a=u&&u.onVnodeMounted)){const t=e;rs(()=>Us(a,p,t),r)}256&e.shapeFlag&&t.a&&rs(t.a,r),t.isMounted=!0,e=n=i=null}},u=t.effect=new x(c,()=>ce(t.update),t.scope),l=t.update=u.run.bind(u);l.id=t.uid,cs(t,!0),l()},V=(t,e,n)=>{e.component=t;const s=t.vnode.props;t.vnode=e,t.next=null,Pn(t,e.props,s,n),Zn(t,e.children,n),O(),fe(void 0,t.update),C()},N=(t,e,n,s,i,r,o,a,c=!1)=>{const u=t&&t.children,l=t?t.shapeFlag:0,p=e.children,{patchFlag:d,shapeFlag:f}=e;if(d>0){if(128&d)return void z(u,p,n,s,i,r,o,a,c);if(256&d)return void L(u,p,n,s,i,r,o,a,c)}8&f?(16&l&&Q(u,i,r),p!==u&&h(n,p)):16&l?16&f?z(u,p,n,s,i,r,o,a,c):Q(u,i,r,!0):(8&l&&h(n,""),16&f&&D(p,n,s,i,r,o,a,c))},L=(t,e,n,i,r,o,a,c,u)=>{t=t||s["a"],e=e||s["a"];const l=t.length,h=e.length,p=Math.min(l,h);let d;for(d=0;d<p;d++){const s=e[d]=u?Bs(e[d]):zs(e[d]);g(t[d],s,n,null,r,o,a,c,u)}l>h?Q(t,r,o,!0,!1,p):D(e,n,i,r,o,a,c,u,p)},z=(t,e,n,i,r,o,a,c,u)=>{let l=0;const h=e.length;let p=t.length-1,d=h-1;while(l<=p&&l<=d){const s=t[l],i=e[l]=u?Bs(e[l]):zs(e[l]);if(!Ms(s,i))break;g(s,i,n,null,r,o,a,c,u),l++}while(l<=p&&l<=d){const s=t[p],i=e[d]=u?Bs(e[d]):zs(e[d]);if(!Ms(s,i))break;g(s,i,n,null,r,o,a,c,u),p--,d--}if(l>p){if(l<=d){const t=d+1,s=t<h?e[t].el:i;while(l<=d)g(null,e[l]=u?Bs(e[l]):zs(e[l]),n,s,r,o,a,c,u),l++}}else if(l>d)while(l<=p)W(t[l],r,o,!0),l++;else{const f=l,m=l,_=new Map;for(l=m;l<=d;l++){const t=e[l]=u?Bs(e[l]):zs(e[l]);null!=t.key&&_.set(t.key,l)}let v,y=0;const b=d-m+1;let x=!1,w=0;const T=new Array(b);for(l=0;l<b;l++)T[l]=0;for(l=f;l<=p;l++){const s=t[l];if(y>=b){W(s,r,o,!0);continue}let i;if(null!=s.key)i=_.get(s.key);else for(v=m;v<=d;v++)if(0===T[v-m]&&Ms(s,e[v])){i=v;break}void 0===i?W(s,r,o,!0):(T[i-m]=l+1,i>=w?w=i:x=!0,g(s,e[i],n,null,r,o,a,c,u),y++)}const S=x?ls(T):s["a"];for(v=S.length-1,l=b-1;l>=0;l--){const t=m+l,s=e[t],p=t+1<h?e[t+1].el:i;0===T[l]?g(null,s,n,p,r,o,a,c,u):x&&(v<0||l!==S[v]?B(s,n,p,2):v--)}}},B=(t,e,n,s,r=null)=>{const{el:o,type:a,transition:c,children:u,shapeFlag:l}=t;if(6&l)return void B(t.component.subTree,e,n,s);if(128&l)return void t.suspense.move(e,n,s);if(64&l)return void a.move(t,e,n,H);if(a===gs){i(o,e,n);for(let t=0;t<u.length;t++)B(u[t],e,n,s);return void i(t.anchor,e,n)}if(a===bs)return void w(t,e,n);const h=2!==s&&1&l&&c;if(h)if(0===s)c.beforeEnter(o),i(o,e,n),rs(()=>c.enter(o),r);else{const{leave:t,delayLeave:s,afterLeave:r}=c,a=()=>i(o,e,n),u=()=>{t(o,()=>{a(),r&&r()})};s?s(o,a,u):u()}else i(o,e,n)},W=(t,e,n,s=!1,i=!1)=>{const{type:r,props:o,ref:a,children:c,dynamicChildren:u,shapeFlag:l,patchFlag:h,dirs:p}=t;if(null!=a&&ss(a,null,n,t,!0),256&l)return void e.ctx.deactivate(t);const d=1&l&&p,f=!tn(t);let m;if(f&&(m=o&&o.onVnodeBeforeUnmount)&&Us(m,e,t),6&l)$(t.component,n,s);else{if(128&l)return void t.suspense.unmount(n,s);d&&Kn(t,null,e,"beforeUnmount"),64&l?t.type.remove(t,e,n,i,H,s):u&&(r!==gs||h>0&&64&h)?Q(u,e,n,!1,!0):(r===gs&&384&h||!i&&16&l)&&Q(c,e,n),s&&G(t)}(f&&(m=o&&o.onVnodeUnmounted)||d)&&rs(()=>{m&&Us(m,e,t),d&&Kn(t,null,e,"unmounted")},n)},G=t=>{const{type:e,el:n,anchor:s,transition:i}=t;if(e===gs)return void U(n,s);if(e===bs)return void T(t);const o=()=>{r(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&t.shapeFlag&&i&&!i.persisted){const{leave:e,delayLeave:s}=i,r=()=>e(n,o);s?s(t.el,o,r):r()}else o()},U=(t,e)=>{let n;while(t!==e)n=d(t),r(t),t=n;r(e)},$=(t,e,n)=>{const{bum:i,scope:r,update:o,subTree:a,um:c}=t;i&&Object(s["n"])(i),r.stop(),o&&(o.active=!1,W(a,t,e,n)),c&&rs(c,e),rs(()=>{t.isUnmounted=!0},e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},Q=(t,e,n,s=!1,i=!1,r=0)=>{for(let o=r;o<t.length;o++)W(t[o],e,n,s,i)},Y=t=>6&t.shapeFlag?Y(t.component.subTree):128&t.shapeFlag?t.suspense.next():d(t.anchor||t.el),X=(t,e,n)=>{null==t?e._vnode&&W(e._vnode,null,null,!0):g(e._vnode||null,t,e,null,null,null,n),me(),e._vnode=t},H={p:g,um:W,m:B,r:G,mt:q,mc:D,pc:N,pbc:M,n:Y,o:t};let Z,J;return e&&([Z,J]=e(H)),{render:X,hydrate:Z,createApp:ns(X,Z)}}function cs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function us(t,e,n=!1){const i=t.children,r=e.children;if(Object(s["o"])(i)&&Object(s["o"])(r))for(let s=0;s<i.length;s++){const t=i[s];let e=r[s];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=r[s]=Bs(r[s]),e.el=t.el),n||us(t,e))}}function ls(t){const e=t.slice(),n=[0];let s,i,r,o,a;const c=t.length;for(s=0;s<c;s++){const c=t[s];if(0!==c){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}r=0,o=n.length-1;while(r<o)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}r=n.length,o=n[r-1];while(r-- >0)n[r]=o,o=e[o];return n}const hs=t=>t.__isTeleport;const ps="components";function ds(t,e){return ms(ps,t,!0,e)||t}const fs=Symbol();function ms(t,e,n=!0,i=!1){const r=xe||Ks;if(r){const n=r.type;if(t===ps){const t=fi(n);if(t&&(t===e||t===Object(s["e"])(e)||t===Object(s["f"])(Object(s["e"])(e))))return n}const o=_s(r[t]||n[t],e)||_s(r.appContext[t],e);return!o&&i?n:o}}function _s(t,e){return t&&(t[e]||t[Object(s["e"])(e)]||t[Object(s["f"])(Object(s["e"])(e))])}const gs=Symbol(void 0),vs=Symbol(void 0),ys=Symbol(void 0),bs=Symbol(void 0),xs=[];let ws=null;function Ts(t=!1){xs.push(ws=t?null:[])}function Ss(){xs.pop(),ws=xs[xs.length-1]||null}let Os=1;function ks(t){Os+=t}function Cs(t){return t.dynamicChildren=Os>0?ws||s["a"]:null,Ss(),Os>0&&ws&&ws.push(t),t}function As(t,e,n,s,i,r){return Cs(qs(t,e,n,s,i,r,!0))}function Ds(t,e,n,s,i){return Cs(Fs(t,e,n,s,i,!0))}function Es(t){return!!t&&!0===t.__v_isVNode}function Ms(t,e){return t.type===e.type&&t.key===e.key}const js="__vInternal",Rs=({key:t})=>null!=t?t:null,Is=({ref:t,ref_key:e,ref_for:n})=>null!=t?Object(s["D"])(t)||Pt(t)||Object(s["p"])(t)?{i:xe,r:t,k:e,f:!!n}:t:null;function qs(t,e=null,n=null,i=0,r=null,o=(t===gs?0:1),a=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Rs(e),ref:e&&Is(e),scopeId:we,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return c?(Ws(u,n),128&o&&t.normalize(u)):n&&(u.shapeFlag|=Object(s["D"])(n)?8:16),Os>0&&!a&&ws&&(u.patchFlag>0||6&o)&&32!==u.patchFlag&&ws.push(u),u}const Fs=Ps;function Ps(t,e=null,n=null,i=0,r=null,o=!1){if(t&&t!==fs||(t=ys),Es(t)){const s=Ns(t,e,!0);return n&&Ws(s,n),s}if(mi(t)&&(t=t.__vccOpts),e){e=Vs(e);let{class:t,style:n}=e;t&&!Object(s["D"])(t)&&(e.class=Object(s["I"])(t)),Object(s["v"])(n)&&(Et(n)&&!Object(s["o"])(n)&&(n=Object(s["h"])({},n)),e.style=Object(s["J"])(n))}const a=Object(s["D"])(t)?1:Re(t)?128:hs(t)?64:Object(s["v"])(t)?4:Object(s["p"])(t)?2:0;return qs(t,e,n,i,r,a,o,!0)}function Vs(t){return t?Et(t)||js in t?Object(s["h"])({},t):t:null}function Ns(t,e,n=!1){const{props:i,ref:r,patchFlag:o,children:a}=t,c=e?Gs(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Rs(c),ref:e&&e.ref?n&&r?Object(s["o"])(r)?r.concat(Is(e)):[r,Is(e)]:Is(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==gs?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ns(t.ssContent),ssFallback:t.ssFallback&&Ns(t.ssFallback),el:t.el,anchor:t.anchor};return u}function Ls(t=" ",e=0){return Fs(vs,null,t,e)}function zs(t){return null==t||"boolean"===typeof t?Fs(ys):Object(s["o"])(t)?Fs(gs,null,t.slice()):"object"===typeof t?Bs(t):Fs(vs,null,String(t))}function Bs(t){return null===t.el||t.memo?t:Ns(t)}function Ws(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if(Object(s["o"])(e))n=16;else if("object"===typeof e){if(65&i){const n=e.default;return void(n&&(n._c&&(n._d=!1),Ws(t,n()),n._c&&(n._d=!0)))}{n=32;const s=e._;s||js in e?3===s&&xe&&(1===xe.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=xe}}else Object(s["p"])(e)?(e={default:e,_ctx:xe},n=32):(e=String(e),64&i?(n=16,e=[Ls(e)]):n=8);t.children=e,t.shapeFlag|=n}function Gs(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=Object(s["I"])([e.class,i.class]));else if("style"===t)e.style=Object(s["J"])([e.style,i.style]);else if(Object(s["w"])(t)){const n=e[t],r=i[t];!r||n===r||Object(s["o"])(n)&&n.includes(r)||(e[t]=n?[].concat(n,r):r)}else""!==t&&(e[t]=i[t])}return e}function Us(t,e,n,s=null){Gt(t,e,7,[n,s])}function $s(t,e,n,i){let r;const o=n&&n[i];if(Object(s["o"])(t)||Object(s["D"])(t)){r=new Array(t.length);for(let n=0,s=t.length;n<s;n++)r[n]=e(t[n],n,void 0,o&&o[n])}else if("number"===typeof t){0,r=new Array(t);for(let n=0;n<t;n++)r[n]=e(n+1,n,void 0,o&&o[n])}else if(Object(s["v"])(t))if(t[Symbol.iterator])r=Array.from(t,(t,n)=>e(t,n,void 0,o&&o[n]));else{const n=Object.keys(t);r=new Array(n.length);for(let s=0,i=n.length;s<i;s++){const i=n[s];r[s]=e(t[i],i,s,o&&o[s])}}else r=[];return n&&(n[i]=r),r}const Qs=t=>t?si(t)?di(t)||t.proxy:Qs(t.parent):null,Ys=Object(s["h"])(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Qs(t.parent),$root:t=>Qs(t.root),$emit:t=>t.emit,$options:t=>Cn(t),$forceUpdate:t=>()=>ce(t.update),$nextTick:t=>oe.bind(t.proxy),$watch:t=>Le.bind(t)}),Xs={get({_:t},e){const{ctx:n,setupState:i,data:r,props:o,accessCache:a,type:c,appContext:u}=t;let l;if("$"!==e[0]){const c=a[e];if(void 0!==c)switch(c){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return o[e]}else{if(i!==s["b"]&&Object(s["k"])(i,e))return a[e]=1,i[e];if(r!==s["b"]&&Object(s["k"])(r,e))return a[e]=2,r[e];if((l=t.propsOptions[0])&&Object(s["k"])(l,e))return a[e]=3,o[e];if(n!==s["b"]&&Object(s["k"])(n,e))return a[e]=4,n[e];wn&&(a[e]=0)}}const h=Ys[e];let p,d;return h?("$attrs"===e&&A(t,"get",e),h(t)):(p=c.__cssModules)&&(p=p[e])?p:n!==s["b"]&&Object(s["k"])(n,e)?(a[e]=4,n[e]):(d=u.config.globalProperties,Object(s["k"])(d,e)?d[e]:void 0)},set({_:t},e,n){const{data:i,setupState:r,ctx:o}=t;if(r!==s["b"]&&Object(s["k"])(r,e))r[e]=n;else if(i!==s["b"]&&Object(s["k"])(i,e))i[e]=n;else if(Object(s["k"])(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:o}},a){let c;return!!n[a]||t!==s["b"]&&Object(s["k"])(t,a)||e!==s["b"]&&Object(s["k"])(e,a)||(c=o[0])&&Object(s["k"])(c,a)||Object(s["k"])(i,a)||Object(s["k"])(Ys,a)||Object(s["k"])(r.config.globalProperties,a)}};const Hs=ts();let Zs=0;function Js(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||Hs,a={uid:Zs++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new o(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ln(i,r),emitsOptions:ye(i,r),emit:null,emitted:null,propsDefaults:s["b"],inheritAttrs:i.inheritAttrs,ctx:s["b"],data:s["b"],props:s["b"],attrs:s["b"],slots:s["b"],refs:s["b"],setupState:s["b"],setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=ve.bind(null,a),t.ce&&t.ce(a),a}let Ks=null;const ti=()=>Ks||xe,ei=t=>{Ks=t,t.scope.on()},ni=()=>{Ks&&Ks.scope.off(),Ks=null};function si(t){return 4&t.vnode.shapeFlag}let ii,ri,oi=!1;function ai(t,e=!1){oi=e;const{props:n,children:s}=t.vnode,i=si(t);Fn(t,n,i,e),Hn(t,s);const r=i?ci(t,e):void 0;return oi=!1,r}function ci(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=jt(new Proxy(t.ctx,Xs));const{setup:i}=n;if(i){const n=t.setupContext=i.length>1?pi(t):null;ei(t),O();const r=Wt(i,t,0,[t.props,n]);if(C(),ni(),Object(s["y"])(r)){if(r.then(ni,ni),e)return r.then(n=>{ui(t,n,e)}).catch(e=>{Ut(e,t,0)});t.asyncDep=r}else ui(t,r,e)}else li(t,e)}function ui(t,e,n){Object(s["p"])(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Object(s["v"])(e)&&(t.setupState=Lt(e)),li(t,n)}function li(t,e,n){const i=t.type;if(!t.render){if(!e&&ii&&!i.render){const e=i.template;if(e){0;const{isCustomElement:n,compilerOptions:r}=t.appContext.config,{delimiters:o,compilerOptions:a}=i,c=Object(s["h"])(Object(s["h"])({isCustomElement:n,delimiters:o},r),a);i.render=ii(e,c)}}t.render=i.render||s["d"],ri&&ri(t)}ei(t),O(),Tn(t),C(),ni()}function hi(t){return new Proxy(t.attrs,{get(e,n){return A(t,"get","$attrs"),e[n]}})}function pi(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=hi(t))},slots:t.slots,emit:t.emit,expose:e}}function di(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Lt(jt(t.exposed)),{get(e,n){return n in e?e[n]:n in Ys?Ys[n](t):void 0}}))}function fi(t){return Object(s["p"])(t)&&t.displayName||t.name}function mi(t){return Object(s["p"])(t)&&"__vccOpts"in t}const _i=(t,e)=>Bt(t,e,oi);function gi(t,e,n){const i=arguments.length;return 2===i?Object(s["v"])(e)&&!Object(s["o"])(e)?Es(e)?Fs(t,null,[e]):Fs(t,e):Fs(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Es(n)&&(n=[n]),Fs(t,e,n))}Symbol("");const vi="3.2.28",yi="http://www.w3.org/2000/svg",bi="undefined"!==typeof document?document:null,xi=bi&&bi.createElement("template"),wi={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e?bi.createElementNS(yi,t):bi.createElement(t,n?{is:n}:void 0);return"select"===t&&s&&null!=s.multiple&&i.setAttribute("multiple",s.multiple),i},createText:t=>bi.createTextNode(t),createComment:t=>bi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>bi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&r){while(1)if(e.insertBefore(i.cloneNode(!0),n),i===r||!(i=i.nextSibling))break}else{xi.innerHTML=s?`<svg>${t}</svg>`:t;const i=xi.content;if(s){const t=i.firstChild;while(t.firstChild)i.appendChild(t.firstChild);i.removeChild(t)}e.insertBefore(i,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Ti(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Si(t,e,n){const i=t.style,r=Object(s["D"])(n);if(n&&!r){for(const t in n)ki(i,t,n[t]);if(e&&!Object(s["D"])(e))for(const t in e)null==n[t]&&ki(i,t,"")}else{const s=i.display;r?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=s)}}const Oi=/\s*!important$/;function ki(t,e,n){if(Object(s["o"])(n))n.forEach(n=>ki(t,e,n));else if(e.startsWith("--"))t.setProperty(e,n);else{const i=Di(t,e);Oi.test(n)?t.setProperty(Object(s["l"])(i),n.replace(Oi,""),"important"):t[i]=n}}const Ci=["Webkit","Moz","ms"],Ai={};function Di(t,e){const n=Ai[e];if(n)return n;let i=Object(s["e"])(e);if("filter"!==i&&i in t)return Ai[e]=i;i=Object(s["f"])(i);for(let s=0;s<Ci.length;s++){const n=Ci[s]+i;if(n in t)return Ai[e]=n}return e}const Ei="http://www.w3.org/1999/xlink";function Mi(t,e,n,i,r){if(i&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(Ei,e.slice(6,e.length)):t.setAttributeNS(Ei,e,n);else{const i=Object(s["C"])(e);null==n||i&&!Object(s["m"])(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function ji(t,e,n,i,r,o,a){if("innerHTML"===e||"textContent"===e)return i&&a(i,r,o),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=n;const s=null==n?"":n;return t.value===s&&"OPTION"!==t.tagName||(t.value=s),void(null==n&&t.removeAttribute(e))}if(""===n||null==n){const i=typeof t[e];if("boolean"===i)return void(t[e]=Object(s["m"])(n));if(null==n&&"string"===i)return t[e]="",void t.removeAttribute(e);if("number"===i){try{t[e]=0}catch(c){}return void t.removeAttribute(e)}}try{t[e]=n}catch(u){0}}let Ri=Date.now,Ii=!1;if("undefined"!==typeof window){Ri()>document.createEvent("Event").timeStamp&&(Ri=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Ii=!!(t&&Number(t[1])<=53)}let qi=0;const Fi=Promise.resolve(),Pi=()=>{qi=0},Vi=()=>qi||(Fi.then(Pi),qi=Ri());function Ni(t,e,n,s){t.addEventListener(e,n,s)}function Li(t,e,n,s){t.removeEventListener(e,n,s)}function zi(t,e,n,s,i=null){const r=t._vei||(t._vei={}),o=r[e];if(s&&o)o.value=s;else{const[n,a]=Wi(e);if(s){const o=r[e]=Gi(s,i);Ni(t,n,o,a)}else o&&(Li(t,n,o,a),r[e]=void 0)}}const Bi=/(?:Once|Passive|Capture)$/;function Wi(t){let e;if(Bi.test(t)){let n;e={};while(n=t.match(Bi))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[Object(s["l"])(t.slice(2)),e]}function Gi(t,e){const n=t=>{const s=t.timeStamp||Ri();(Ii||s>=n.attached-1)&&Gt(Ui(t,n.value),e,5,[t])};return n.value=t,n.attached=Vi(),n}function Ui(t,e){if(Object(s["o"])(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(t=>e=>!e._stopped&&t&&t(e))}return e}const $i=/^on[a-z]/,Qi=(t,e,n,i,r=!1,o,a,c,u)=>{"class"===e?Ti(t,i,r):"style"===e?Si(t,n,i):Object(s["w"])(e)?Object(s["u"])(e)||zi(t,e,n,i,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):Yi(t,e,i,r))?ji(t,e,i,o,a,c,u):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),Mi(t,e,i,r))};function Yi(t,e,n,i){return i?"innerHTML"===e||"textContent"===e||!!(e in t&&$i.test(e)&&Object(s["p"])(n)):"spellcheck"!==e&&"draggable"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!$i.test(e)||!Object(s["D"])(n))&&e in t))))}"undefined"!==typeof HTMLElement&&HTMLElement;const Xi="transition",Hi="animation",Zi=(t,{slots:e})=>gi($e,er(t),e);Zi.displayName="Transition";const Ji={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ki=(Zi.props=Object(s["h"])({},$e.props,Ji),(t,e=[])=>{Object(s["o"])(t)?t.forEach(t=>t(...e)):t&&t(...e)}),tr=t=>!!t&&(Object(s["o"])(t)?t.some(t=>t.length>1):t.length>1);function er(t){const e={};for(const s in t)s in Ji||(e[s]=t[s]);if(!1===t.css)return e;const{name:n="v",type:i,duration:r,enterFromClass:o=n+"-enter-from",enterActiveClass:a=n+"-enter-active",enterToClass:c=n+"-enter-to",appearFromClass:u=o,appearActiveClass:l=a,appearToClass:h=c,leaveFromClass:p=n+"-leave-from",leaveActiveClass:d=n+"-leave-active",leaveToClass:f=n+"-leave-to"}=t,m=nr(r),_=m&&m[0],g=m&&m[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:x,onLeaveCancelled:w,onBeforeAppear:T=v,onAppear:S=y,onAppearCancelled:O=b}=e,k=(t,e,n)=>{rr(t,e?h:c),rr(t,e?l:a),n&&n()},C=(t,e)=>{rr(t,f),rr(t,d),e&&e()},A=t=>(e,n)=>{const s=t?S:y,r=()=>k(e,t,n);Ki(s,[e,r]),or(()=>{rr(e,t?u:o),ir(e,t?h:c),tr(s)||cr(e,i,_,r)})};return Object(s["h"])(e,{onBeforeEnter(t){Ki(v,[t]),ir(t,o),ir(t,a)},onBeforeAppear(t){Ki(T,[t]),ir(t,u),ir(t,l)},onEnter:A(!1),onAppear:A(!0),onLeave(t,e){const n=()=>C(t,e);ir(t,p),pr(),ir(t,d),or(()=>{rr(t,p),ir(t,f),tr(x)||cr(t,i,g,n)}),Ki(x,[t,n])},onEnterCancelled(t){k(t,!1),Ki(b,[t])},onAppearCancelled(t){k(t,!0),Ki(O,[t])},onLeaveCancelled(t){C(t),Ki(w,[t])}})}function nr(t){if(null==t)return null;if(Object(s["v"])(t))return[sr(t.enter),sr(t.leave)];{const e=sr(t);return[e,e]}}function sr(t){const e=Object(s["N"])(t);return e}function ir(t,e){e.split(/\s+/).forEach(e=>e&&t.classList.add(e)),(t._vtc||(t._vtc=new Set)).add(e)}function rr(t,e){e.split(/\s+/).forEach(e=>e&&t.classList.remove(e));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function or(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let ar=0;function cr(t,e,n,s){const i=t._endId=++ar,r=()=>{i===t._endId&&s()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:c}=ur(t,e);if(!o)return s();const u=o+"end";let l=0;const h=()=>{t.removeEventListener(u,p),r()},p=e=>{e.target===t&&++l>=c&&h()};setTimeout(()=>{l<c&&h()},a+1),t.addEventListener(u,p)}function ur(t,e){const n=window.getComputedStyle(t),s=t=>(n[t]||"").split(", "),i=s(Xi+"Delay"),r=s(Xi+"Duration"),o=lr(i,r),a=s(Hi+"Delay"),c=s(Hi+"Duration"),u=lr(a,c);let l=null,h=0,p=0;e===Xi?o>0&&(l=Xi,h=o,p=r.length):e===Hi?u>0&&(l=Hi,h=u,p=c.length):(h=Math.max(o,u),l=h>0?o>u?Xi:Hi:null,p=l?l===Xi?r.length:c.length:0);const d=l===Xi&&/\b(transform|all)(,|$)/.test(n[Xi+"Property"]);return{type:l,timeout:h,propCount:p,hasTransform:d}}function lr(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map((e,n)=>hr(e)+hr(t[n])))}function hr(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function pr(){return document.body.offsetHeight}new WeakMap,new WeakMap;const dr=t=>{const e=t.props["onUpdate:modelValue"];return Object(s["o"])(e)?t=>Object(s["n"])(e,t):e};function fr(t){t.target.composing=!0}function mr(t){const e=t.target;e.composing&&(e.composing=!1,_r(e,"input"))}function _r(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const gr={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t._assign=dr(r);const o=i||r.props&&"number"===r.props.type;Ni(t,e?"change":"input",e=>{if(e.target.composing)return;let i=t.value;n?i=i.trim():o&&(i=Object(s["N"])(i)),t._assign(i)}),n&&Ni(t,"change",()=>{t.value=t.value.trim()}),e||(Ni(t,"compositionstart",fr),Ni(t,"compositionend",mr),Ni(t,"change",mr))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:r}},o){if(t._assign=dr(o),t.composing)return;if(document.activeElement===t){if(n)return;if(i&&t.value.trim()===e)return;if((r||"number"===t.type)&&Object(s["N"])(t.value)===e)return}const a=null==e?"":e;t.value!==a&&(t.value=a)}};const vr=Object(s["h"])({patchProp:Qi},wi);let yr;function br(){return yr||(yr=os(vr))}const xr=(...t)=>{const e=br().createApp(...t);const{mount:n}=e;return e.mount=t=>{const i=wr(t);if(!i)return;const r=e._component;Object(s["p"])(r)||r.render||r.template||(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function wr(t){if(Object(s["D"])(t)){const e=document.querySelector(t);return e}return t}},"7b0b":function(t,e,n){var s=n("da84"),i=n("1d80"),r=s.Object;t.exports=function(t){return r(i(t))}},"7c73":function(t,e,n){var s,i=n("825a"),r=n("37e8"),o=n("7839"),a=n("d012"),c=n("1be4"),u=n("cc12"),l=n("f772"),h=">",p="<",d="prototype",f="script",m=l("IE_PROTO"),_=function(){},g=function(t){return p+f+h+t+p+"/"+f+h},v=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){var t,e=u("iframe"),n="java"+f+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(g("document.F=Object")),t.close(),t.F},b=function(){try{s=new ActiveXObject("htmlfile")}catch(e){}b="undefined"!=typeof document?document.domain&&s?v(s):y():v(s);var t=o.length;while(t--)delete b[d][o[t]];return b()};a[m]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(_[d]=i(t),n=new _,_[d]=null,n[m]=t):n=b(),void 0===e?n:r.f(n,e)}},"7dd0":function(t,e,n){"use strict";var s=n("23e7"),i=n("c65b"),r=n("c430"),o=n("5e77"),a=n("1626"),c=n("9ed3"),u=n("e163"),l=n("d2bb"),h=n("d44e"),p=n("9112"),d=n("6eeb"),f=n("b622"),m=n("3f8c"),_=n("ae93"),g=o.PROPER,v=o.CONFIGURABLE,y=_.IteratorPrototype,b=_.BUGGY_SAFARI_ITERATORS,x=f("iterator"),w="keys",T="values",S="entries",O=function(){return this};t.exports=function(t,e,n,o,f,_,k){c(n,e,o);var C,A,D,E=function(t){if(t===f&&q)return q;if(!b&&t in R)return R[t];switch(t){case w:return function(){return new n(this,t)};case T:return function(){return new n(this,t)};case S:return function(){return new n(this,t)}}return function(){return new n(this)}},M=e+" Iterator",j=!1,R=t.prototype,I=R[x]||R["@@iterator"]||f&&R[f],q=!b&&I||E(f),F="Array"==e&&R.entries||I;if(F&&(C=u(F.call(new t)),C!==Object.prototype&&C.next&&(r||u(C)===y||(l?l(C,y):a(C[x])||d(C,x,O)),h(C,M,!0,!0),r&&(m[M]=O))),g&&f==T&&I&&I.name!==T&&(!r&&v?p(R,"name",T):(j=!0,q=function(){return i(I,this)})),f)if(A={values:E(T),keys:_?q:E(w),entries:E(S)},k)for(D in A)(b||j||!(D in R))&&d(R,D,A[D]);else s({target:e,proto:!0,forced:b||j},A);return r&&!k||R[x]===q||d(R,x,q,{name:f}),m[e]=q,A}},"7f9a":function(t,e,n){var s=n("da84"),i=n("1626"),r=n("8925"),o=s.WeakMap;t.exports=i(o)&&/native code/.test(r(o))},"825a":function(t,e,n){var s=n("da84"),i=n("861d"),r=s.String,o=s.TypeError;t.exports=function(t){if(i(t))return t;throw o(r(t)+" is not an object")}},"83ab":function(t,e,n){var s=n("d039");t.exports=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,n){"use strict";var s=n("a04b"),i=n("9bf2"),r=n("5c6c");t.exports=function(t,e,n){var o=s(e);o in t?i.f(t,o,r(0,n)):t[o]=n}},"861d":function(t,e,n){var s=n("1626");t.exports=function(t){return"object"==typeof t?null!==t:s(t)}},8925:function(t,e,n){var s=n("e330"),i=n("1626"),r=n("c6cd"),o=s(Function.toString);i(r.inspectSource)||(r.inspectSource=function(t){return o(t)}),t.exports=r.inspectSource},"90e3":function(t,e,n){var s=n("e330"),i=0,r=Math.random(),o=s(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++i+r,36)}},9112:function(t,e,n){var s=n("83ab"),i=n("9bf2"),r=n("5c6c");t.exports=s?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},9263:function(t,e,n){"use strict";var s=n("c65b"),i=n("e330"),r=n("577e"),o=n("ad6d"),a=n("9f7f"),c=n("5692"),u=n("7c73"),l=n("69f3").get,h=n("fce3"),p=n("107c"),d=c("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,m=f,_=i("".charAt),g=i("".indexOf),v=i("".replace),y=i("".slice),b=function(){var t=/a/,e=/b*/g;return s(f,t,"a"),s(f,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),x=a.BROKEN_CARET,w=void 0!==/()??/.exec("")[1],T=b||w||x||h||p;T&&(m=function(t){var e,n,i,a,c,h,p,T=this,S=l(T),O=r(t),k=S.raw;if(k)return k.lastIndex=T.lastIndex,e=s(m,k,O),T.lastIndex=k.lastIndex,e;var C=S.groups,A=x&&T.sticky,D=s(o,T),E=T.source,M=0,j=O;if(A&&(D=v(D,"y",""),-1===g(D,"g")&&(D+="g"),j=y(O,T.lastIndex),T.lastIndex>0&&(!T.multiline||T.multiline&&"\n"!==_(O,T.lastIndex-1))&&(E="(?: "+E+")",j=" "+j,M++),n=new RegExp("^(?:"+E+")",D)),w&&(n=new RegExp("^"+E+"$(?!\\s)",D)),b&&(i=T.lastIndex),a=s(f,A?n:T,j),A?a?(a.input=y(a.input,M),a[0]=y(a[0],M),a.index=T.lastIndex,T.lastIndex+=a[0].length):T.lastIndex=0:b&&a&&(T.lastIndex=T.global?a.index+a[0].length:i),w&&a&&a.length>1&&s(d,a[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a&&C)for(a.groups=h=u(null),c=0;c<C.length;c++)p=C[c],h[p[0]]=a[p[1]];return a}),t.exports=m},"94ca":function(t,e,n){var s=n("d039"),i=n("1626"),r=/#|\.prototype\./,o=function(t,e){var n=c[a(t)];return n==l||n!=u&&(i(e)?s(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},c=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},"96cf":function(t,e,n){var s=function(t){"use strict";var e,n=Object.prototype,s=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(j){c=function(t,e,n){return t[e]=n}}function u(t,e,n,s){var i=e&&e.prototype instanceof _?e:_,r=Object.create(i.prototype),o=new D(s||[]);return r._invoke=O(t,n,o),r}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(j){return{type:"throw",arg:j}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",f="completed",m={};function _(){}function g(){}function v(){}var y={};c(y,r,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(E([])));x&&x!==n&&s.call(x,r)&&(y=x);var w=v.prototype=_.prototype=Object.create(y);function T(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,r,o,a){var c=l(t[i],t,r);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"===typeof h&&s.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,o,a)}),(function(t){n("throw",t,o,a)})):e.resolve(h).then((function(t){u.value=t,o(u)}),(function(t){return n("throw",t,o,a)}))}a(c.arg)}var i;function r(t,s){function r(){return new e((function(e,i){n(t,s,e,i)}))}return i=i?i.then(r,r):r()}this._invoke=r}function O(t,e,n){var s=h;return function(i,r){if(s===d)throw new Error("Generator is already running");if(s===f){if("throw"===i)throw r;return M()}n.method=i,n.arg=r;while(1){var o=n.delegate;if(o){var a=k(o,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(s===h)throw s=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);s=d;var c=l(t,e,n);if("normal"===c.type){if(s=n.done?f:p,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(s=f,n.method="throw",n.arg=c.arg)}}}function k(t,n){var s=t.iterator[n.method];if(s===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(s,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var r=i.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var n=t[r];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){while(++i<t.length)if(s.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:M}}function M(){return{value:e,done:!0}}return g.prototype=v,c(w,"constructor",v),c(v,"constructor",g),g.displayName=c(v,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,a,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},T(S.prototype),c(S.prototype,o,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,s,i,r){void 0===r&&(r=Promise);var o=new S(u(e,n,s,i),r);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},T(w),c(w,a,"Generator"),c(w,r,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var s=e.pop();if(s in t)return n.value=s,n.done=!1,n}return n.done=!0,n}},t.values=E,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(s,i){return a.type="throw",a.arg=t,n.next=s,i&&(n.method="next",n.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&s.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var s=n.completion;if("throw"===s.type){var i=s.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,s){return this.delegate={iterator:E(t),resultName:n,nextLoc:s},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=s}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},"970b":function(t,e,n){function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n("d9e2"),t.exports=s,t.exports.__esModule=!0,t.exports["default"]=t.exports},"9a1f":function(t,e,n){var s=n("da84"),i=n("c65b"),r=n("59ed"),o=n("825a"),a=n("0d51"),c=n("35a1"),u=s.TypeError;t.exports=function(t,e){var n=arguments.length<2?c(t):e;if(r(n))return o(i(n,t));throw u(a(t)+" is not iterable")}},"9b42":function(t,e,n){function s(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s,i,r=[],o=!0,a=!1;try{for(n=n.call(t);!(o=(s=n.next()).done);o=!0)if(r.push(s.value),e&&r.length===e)break}catch(c){a=!0,i=c}finally{try{o||null==n["return"]||n["return"]()}finally{if(a)throw i}}return r}}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),t.exports=s,t.exports.__esModule=!0,t.exports["default"]=t.exports},"9bdd":function(t,e,n){var s=n("825a"),i=n("2a62");t.exports=function(t,e,n,r){try{return r?e(s(n)[0],n[1]):e(n)}catch(o){i(t,"throw",o)}}},"9bf2":function(t,e,n){var s=n("da84"),i=n("83ab"),r=n("0cfb"),o=n("aed9"),a=n("825a"),c=n("a04b"),u=s.TypeError,l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,p="enumerable",d="configurable",f="writable";e.f=i?o?function(t,e,n){if(a(t),e=c(e),a(n),"function"===typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var s=h(t,e);s&&s[f]&&(t[e]=n.value,n={configurable:d in n?n[d]:s[d],enumerable:p in n?n[p]:s[p],writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(a(t),e=c(e),a(n),r)try{return l(t,e,n)}catch(s){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"9ed3":function(t,e,n){"use strict";var s=n("ae93").IteratorPrototype,i=n("7c73"),r=n("5c6c"),o=n("d44e"),a=n("3f8c"),c=function(){return this};t.exports=function(t,e,n,u){var l=e+" Iterator";return t.prototype=i(s,{next:r(+!u,n)}),o(t,l,!1,!0),a[l]=c,t}},"9f7f":function(t,e,n){var s=n("d039"),i=n("da84"),r=i.RegExp,o=s((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a=o||s((function(){return!r("a","y").sticky})),c=o||s((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:c,MISSED_STICKY:a,UNSUPPORTED_Y:o}},"9ff4":function(t,e,n){"use strict";(function(t){function s(t,e){const n=Object.create(null),s=t.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return T})),n.d(e,"c",(function(){return k})),n.d(e,"d",(function(){return O})),n.d(e,"e",(function(){return Z})),n.d(e,"f",(function(){return tt})),n.d(e,"g",(function(){return it})),n.d(e,"h",(function(){return E})),n.d(e,"i",(function(){return at})),n.d(e,"j",(function(){return nt})),n.d(e,"k",(function(){return R})),n.d(e,"l",(function(){return K})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return st})),n.d(e,"o",(function(){return I})),n.d(e,"p",(function(){return V})),n.d(e,"q",(function(){return r})),n.d(e,"r",(function(){return _})),n.d(e,"s",(function(){return Q})),n.d(e,"t",(function(){return q})),n.d(e,"u",(function(){return D})),n.d(e,"v",(function(){return z})),n.d(e,"w",(function(){return A})),n.d(e,"x",(function(){return $})),n.d(e,"y",(function(){return B})),n.d(e,"z",(function(){return Y})),n.d(e,"A",(function(){return g})),n.d(e,"B",(function(){return F})),n.d(e,"C",(function(){return a})),n.d(e,"D",(function(){return N})),n.d(e,"E",(function(){return L})),n.d(e,"F",(function(){return y})),n.d(e,"G",(function(){return b})),n.d(e,"H",(function(){return s})),n.d(e,"I",(function(){return d})),n.d(e,"J",(function(){return u})),n.d(e,"K",(function(){return M})),n.d(e,"L",(function(){return x})),n.d(e,"M",(function(){return et})),n.d(e,"N",(function(){return rt})),n.d(e,"O",(function(){return U}));const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",r=s(i);const o="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=s(o);function c(t){return!!t||""===t}function u(t){if(I(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=N(s)?p(s):u(s);if(i)for(const t in i)e[t]=i[t]}return e}return N(t)||z(t)?t:void 0}const l=/;(?![^(]*\))/g,h=/:(.+)/;function p(t){const e={};return t.split(l).forEach(t=>{if(t){const n=t.split(h);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function d(t){let e="";if(N(t))e=t;else if(I(t))for(let n=0;n<t.length;n++){const s=d(t[n]);s&&(e+=s+" ")}else if(z(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const f="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",m="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",_=s(f),g=s(m);function v(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=y(t[s],e[s]);return n}function y(t,e){if(t===e)return!0;let n=P(t),s=P(e);if(n||s)return!(!n||!s)&&t.getTime()===e.getTime();if(n=I(t),s=I(e),n||s)return!(!n||!s)&&v(t,e);if(n=z(t),s=z(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const n in t){const s=t.hasOwnProperty(n),i=e.hasOwnProperty(n);if(s&&!i||!s&&i||!y(t[n],e[n]))return!1}}return String(t)===String(e)}function b(t,e){return t.findIndex(t=>y(t,e))}const x=t=>null==t?"":I(t)||z(t)&&(t.toString===W||!V(t.toString))?JSON.stringify(t,w,2):String(t),w=(t,e)=>e&&e.__v_isRef?w(t,e.value):q(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[e,n])=>(t[e+" =>"]=n,t),{})}:F(e)?{[`Set(${e.size})`]:[...e.values()]}:!z(e)||I(e)||$(e)?e:String(e),T={},S=[],O=()=>{},k=()=>!1,C=/^on[^a-z]/,A=t=>C.test(t),D=t=>t.startsWith("onUpdate:"),E=Object.assign,M=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},j=Object.prototype.hasOwnProperty,R=(t,e)=>j.call(t,e),I=Array.isArray,q=t=>"[object Map]"===G(t),F=t=>"[object Set]"===G(t),P=t=>t instanceof Date,V=t=>"function"===typeof t,N=t=>"string"===typeof t,L=t=>"symbol"===typeof t,z=t=>null!==t&&"object"===typeof t,B=t=>z(t)&&V(t.then)&&V(t.catch),W=Object.prototype.toString,G=t=>W.call(t),U=t=>G(t).slice(8,-1),$=t=>"[object Object]"===G(t),Q=t=>N(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,Y=s(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),X=t=>{const e=Object.create(null);return n=>{const s=e[n];return s||(e[n]=t(n))}},H=/-(\w)/g,Z=X(t=>t.replace(H,(t,e)=>e?e.toUpperCase():"")),J=/\B([A-Z])/g,K=X(t=>t.replace(J,"-$1").toLowerCase()),tt=X(t=>t.charAt(0).toUpperCase()+t.slice(1)),et=X(t=>t?"on"+tt(t):""),nt=(t,e)=>!Object.is(t,e),st=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},it=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},rt=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let ot;const at=()=>ot||(ot="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{})}).call(this,n("c8ba"))},a04b:function(t,e,n){var s=n("c04e"),i=n("d9b5");t.exports=function(t){var e=s(t,"string");return i(e)?e:e+""}},a15b:function(t,e,n){"use strict";var s=n("23e7"),i=n("e330"),r=n("44ad"),o=n("fc6a"),a=n("a640"),c=i([].join),u=r!=Object,l=a("join",",");s({target:"Array",proto:!0,forced:u||!l},{join:function(t){return c(o(this),void 0===t?",":t)}})},a2bf:function(t,e,n){"use strict";var s=n("da84"),i=n("e8b5"),r=n("07fa"),o=n("0366"),a=s.TypeError,c=function(t,e,n,s,u,l,h,p){var d,f,m=u,_=0,g=!!h&&o(h,p);while(_<s){if(_ in n){if(d=g?g(n[_],_,e):n[_],l>0&&i(d))f=r(d),m=c(t,e,d,f,m,l-1)-1;else{if(m>=9007199254740991)throw a("Exceed the acceptable array length");t[m]=d}m++}_++}return m};t.exports=c},a4b4:function(t,e,n){var s=n("342f");t.exports=/web0s(?!.*chrome)/i.test(s)},a4d3:function(t,e,n){"use strict";var s=n("23e7"),i=n("da84"),r=n("d066"),o=n("2ba4"),a=n("c65b"),c=n("e330"),u=n("c430"),l=n("83ab"),h=n("4930"),p=n("d039"),d=n("1a2d"),f=n("e8b5"),m=n("1626"),_=n("861d"),g=n("3a9b"),v=n("d9b5"),y=n("825a"),b=n("7b0b"),x=n("fc6a"),w=n("a04b"),T=n("577e"),S=n("5c6c"),O=n("7c73"),k=n("df75"),C=n("241c"),A=n("057f"),D=n("7418"),E=n("06cf"),M=n("9bf2"),j=n("37e8"),R=n("d1e7"),I=n("f36a"),q=n("6eeb"),F=n("5692"),P=n("f772"),V=n("d012"),N=n("90e3"),L=n("b622"),z=n("e538"),B=n("746f"),W=n("d44e"),G=n("69f3"),U=n("b727").forEach,$=P("hidden"),Q="Symbol",Y="prototype",X=L("toPrimitive"),H=G.set,Z=G.getterFor(Q),J=Object[Y],K=i.Symbol,tt=K&&K[Y],et=i.TypeError,nt=i.QObject,st=r("JSON","stringify"),it=E.f,rt=M.f,ot=A.f,at=R.f,ct=c([].push),ut=F("symbols"),lt=F("op-symbols"),ht=F("string-to-symbol-registry"),pt=F("symbol-to-string-registry"),dt=F("wks"),ft=!nt||!nt[Y]||!nt[Y].findChild,mt=l&&p((function(){return 7!=O(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a}))?function(t,e,n){var s=it(J,e);s&&delete J[e],rt(t,e,n),s&&t!==J&&rt(J,e,s)}:rt,_t=function(t,e){var n=ut[t]=O(tt);return H(n,{type:Q,tag:t,description:e}),l||(n.description=e),n},gt=function(t,e,n){t===J&&gt(lt,e,n),y(t);var s=w(e);return y(n),d(ut,s)?(n.enumerable?(d(t,$)&&t[$][s]&&(t[$][s]=!1),n=O(n,{enumerable:S(0,!1)})):(d(t,$)||rt(t,$,S(1,{})),t[$][s]=!0),mt(t,s,n)):rt(t,s,n)},vt=function(t,e){y(t);var n=x(e),s=k(n).concat(Tt(n));return U(s,(function(e){l&&!a(bt,n,e)||gt(t,e,n[e])})),t},yt=function(t,e){return void 0===e?O(t):vt(O(t),e)},bt=function(t){var e=w(t),n=a(at,this,e);return!(this===J&&d(ut,e)&&!d(lt,e))&&(!(n||!d(this,e)||!d(ut,e)||d(this,$)&&this[$][e])||n)},xt=function(t,e){var n=x(t),s=w(e);if(n!==J||!d(ut,s)||d(lt,s)){var i=it(n,s);return!i||!d(ut,s)||d(n,$)&&n[$][s]||(i.enumerable=!0),i}},wt=function(t){var e=ot(x(t)),n=[];return U(e,(function(t){d(ut,t)||d(V,t)||ct(n,t)})),n},Tt=function(t){var e=t===J,n=ot(e?lt:x(t)),s=[];return U(n,(function(t){!d(ut,t)||e&&!d(J,t)||ct(s,ut[t])})),s};if(h||(K=function(){if(g(tt,this))throw et("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?T(arguments[0]):void 0,e=N(t),n=function(t){this===J&&a(n,lt,t),d(this,$)&&d(this[$],e)&&(this[$][e]=!1),mt(this,e,S(1,t))};return l&&ft&&mt(J,e,{configurable:!0,set:n}),_t(e,t)},tt=K[Y],q(tt,"toString",(function(){return Z(this).tag})),q(K,"withoutSetter",(function(t){return _t(N(t),t)})),R.f=bt,M.f=gt,j.f=vt,E.f=xt,C.f=A.f=wt,D.f=Tt,z.f=function(t){return _t(L(t),t)},l&&(rt(tt,"description",{configurable:!0,get:function(){return Z(this).description}}),u||q(J,"propertyIsEnumerable",bt,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:K}),U(k(dt),(function(t){B(t)})),s({target:Q,stat:!0,forced:!h},{for:function(t){var e=T(t);if(d(ht,e))return ht[e];var n=K(e);return ht[e]=n,pt[n]=e,n},keyFor:function(t){if(!v(t))throw et(t+" is not a symbol");if(d(pt,t))return pt[t]},useSetter:function(){ft=!0},useSimple:function(){ft=!1}}),s({target:"Object",stat:!0,forced:!h,sham:!l},{create:yt,defineProperty:gt,defineProperties:vt,getOwnPropertyDescriptor:xt}),s({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:wt,getOwnPropertySymbols:Tt}),s({target:"Object",stat:!0,forced:p((function(){D.f(1)}))},{getOwnPropertySymbols:function(t){return D.f(b(t))}}),st){var St=!h||p((function(){var t=K();return"[null]"!=st([t])||"{}"!=st({a:t})||"{}"!=st(Object(t))}));s({target:"JSON",stat:!0,forced:St},{stringify:function(t,e,n){var s=I(arguments),i=e;if((_(e)||void 0!==t)&&!v(t))return f(e)||(e=function(t,e){if(m(i)&&(e=a(i,this,t,e)),!v(e))return e}),s[1]=e,o(st,null,s)}})}if(!tt[X]){var Ot=tt.valueOf;q(tt,X,(function(t){return a(Ot,this)}))}W(K,Q),V[$]=!0},a630:function(t,e,n){var s=n("23e7"),i=n("4df4"),r=n("1c7e"),o=!r((function(t){Array.from(t)}));s({target:"Array",stat:!0,forced:o},{from:i})},a640:function(t,e,n){"use strict";var s=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&s((function(){n.call(null,e||function(){throw 1},1)}))}},a79d:function(t,e,n){"use strict";var s=n("23e7"),i=n("c430"),r=n("fea9"),o=n("d039"),a=n("d066"),c=n("1626"),u=n("4840"),l=n("cdf9"),h=n("6eeb"),p=!!r&&o((function(){r.prototype["finally"].call({then:function(){}},(function(){}))}));if(s({target:"Promise",proto:!0,real:!0,forced:p},{finally:function(t){var e=u(this,a("Promise")),n=c(t);return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),!i&&c(r)){var d=a("Promise").prototype["finally"];r.prototype["finally"]!==d&&h(r.prototype,"finally",d,{unsafe:!0})}},ab13:function(t,e,n){var s=n("b622"),i=s("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(s){}}return!1}},ab36:function(t,e,n){var s=n("861d"),i=n("9112");t.exports=function(t,e){s(e)&&"cause"in e&&i(t,"cause",e.cause)}},abc5:function(t,e,n){"use strict";(function(t){function s(){return i().__VUE_DEVTOOLS_GLOBAL_HOOK__}function i(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof t?t:{}}n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r}));const r="function"===typeof Proxy}).call(this,n("c8ba"))},ac1f:function(t,e,n){"use strict";var s=n("23e7"),i=n("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,n){"use strict";var s=n("825a");t.exports=function(){var t=s(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae93:function(t,e,n){"use strict";var s,i,r,o=n("d039"),a=n("1626"),c=n("7c73"),u=n("e163"),l=n("6eeb"),h=n("b622"),p=n("c430"),d=h("iterator"),f=!1;[].keys&&(r=[].keys(),"next"in r?(i=u(u(r)),i!==Object.prototype&&(s=i)):f=!0);var m=void 0==s||o((function(){var t={};return s[d].call(t)!==t}));m?s={}:p&&(s=c(s)),a(s[d])||l(s,d,(function(){return this})),t.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:f}},aed9:function(t,e,n){var s=n("83ab"),i=n("d039");t.exports=s&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},b041:function(t,e,n){"use strict";var s=n("00ee"),i=n("f5df");t.exports=s?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(t,e,n){var s=n("83ab"),i=n("5e77").EXISTS,r=n("e330"),o=n("9bf2").f,a=Function.prototype,c=r(a.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=r(u.exec),h="name";s&&!i&&o(a,h,{configurable:!0,get:function(){try{return l(u,c(this))[1]}catch(t){return""}}})},b575:function(t,e,n){var s,i,r,o,a,c,u,l,h=n("da84"),p=n("0366"),d=n("06cf").f,f=n("2cf4").set,m=n("1cdc"),_=n("d4c3"),g=n("a4b4"),v=n("605d"),y=h.MutationObserver||h.WebKitMutationObserver,b=h.document,x=h.process,w=h.Promise,T=d(h,"queueMicrotask"),S=T&&T.value;S||(s=function(){var t,e;v&&(t=x.domain)&&t.exit();while(i){e=i.fn,i=i.next;try{e()}catch(n){throw i?o():r=void 0,n}}r=void 0,t&&t.enter()},m||v||g||!y||!b?!_&&w&&w.resolve?(u=w.resolve(void 0),u.constructor=w,l=p(u.then,u),o=function(){l(s)}):v?o=function(){x.nextTick(s)}:(f=p(f,h),o=function(){f(s)}):(a=!0,c=b.createTextNode(""),new y(s).observe(c,{characterData:!0}),o=function(){c.data=a=!a})),t.exports=S||function(t){var e={fn:t,next:void 0};r&&(r.next=e),i||(i=e,o()),r=e}},b622:function(t,e,n){var s=n("da84"),i=n("5692"),r=n("1a2d"),o=n("90e3"),a=n("4930"),c=n("fdbf"),u=i("wks"),l=s.Symbol,h=l&&l["for"],p=c?l:l&&l.withoutSetter||o;t.exports=function(t){if(!r(u,t)||!a&&"string"!=typeof u[t]){var e="Symbol."+t;a&&r(l,t)?u[t]=l[t]:u[t]=c&&h?h(e):p(e)}return u[t]}},b680:function(t,e,n){"use strict";var s=n("23e7"),i=n("da84"),r=n("e330"),o=n("5926"),a=n("408a"),c=n("1148"),u=n("d039"),l=i.RangeError,h=i.String,p=Math.floor,d=r(c),f=r("".slice),m=r(1..toFixed),_=function(t,e,n){return 0===e?n:e%2===1?_(t,e-1,n*t):_(t*t,e/2,n)},g=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},v=function(t,e,n){var s=-1,i=n;while(++s<6)i+=e*t[s],t[s]=i%1e7,i=p(i/1e7)},y=function(t,e){var n=6,s=0;while(--n>=0)s+=t[n],t[n]=p(s/e),s=s%e*1e7},b=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var s=h(t[e]);n=""===n?s:n+d("0",7-s.length)+s}return n},x=u((function(){return"0.000"!==m(8e-5,3)||"1"!==m(.9,0)||"1.25"!==m(1.255,2)||"1000000000000000128"!==m(0xde0b6b3a7640080,0)}))||!u((function(){m({})}));s({target:"Number",proto:!0,forced:x},{toFixed:function(t){var e,n,s,i,r=a(this),c=o(t),u=[0,0,0,0,0,0],p="",m="0";if(c<0||c>20)throw l("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return h(r);if(r<0&&(p="-",r=-r),r>1e-21)if(e=g(r*_(2,69,1))-69,n=e<0?r*_(2,-e,1):r/_(2,e,1),n*=4503599627370496,e=52-e,e>0){v(u,0,n),s=c;while(s>=7)v(u,1e7,0),s-=7;v(u,_(10,s,1),0),s=e-1;while(s>=23)y(u,1<<23),s-=23;y(u,1<<s),v(u,1,1),y(u,2),m=b(u)}else v(u,0,n),v(u,1<<-e,0),m=b(u)+d("0",c);return c>0?(i=m.length,m=p+(i<=c?"0."+d("0",c-i)+m:f(m,0,i-c)+"."+f(m,i-c))):m=p+m,m}})},b727:function(t,e,n){var s=n("0366"),i=n("e330"),r=n("44ad"),o=n("7b0b"),a=n("07fa"),c=n("65f0"),u=i([].push),l=function(t){var e=1==t,n=2==t,i=3==t,l=4==t,h=6==t,p=7==t,d=5==t||h;return function(f,m,_,g){for(var v,y,b=o(f),x=r(b),w=s(m,_),T=a(x),S=0,O=g||c,k=e?O(f,T):n||p?O(f,0):void 0;T>S;S++)if((d||S in x)&&(v=x[S],y=w(v,S,b),t))if(e)k[S]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return S;case 2:u(k,v)}else switch(t){case 4:return!1;case 7:u(k,v)}return h?-1:i||l?l:k}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},b980:function(t,e,n){var s=n("d039"),i=n("5c6c");t.exports=!s((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},c04e:function(t,e,n){var s=n("da84"),i=n("c65b"),r=n("861d"),o=n("d9b5"),a=n("dc4a"),c=n("485a"),u=n("b622"),l=s.TypeError,h=u("toPrimitive");t.exports=function(t,e){if(!r(t)||o(t))return t;var n,s=a(t,h);if(s){if(void 0===e&&(e="default"),n=i(s,t,e),!r(n)||o(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},c135:function(t,e){function n(t){if(Array.isArray(t))return t}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},c240:function(t,e,n){function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n("d9e2"),t.exports=s,t.exports.__esModule=!0,t.exports["default"]=t.exports},c430:function(t,e){t.exports=!1},c65b:function(t,e,n){var s=n("40d5"),i=Function.prototype.call;t.exports=s?i.bind(i):function(){return i.apply(i,arguments)}},c6b6:function(t,e,n){var s=n("e330"),i=s({}.toString),r=s("".slice);t.exports=function(t){return r(i(t),8,-1)}},c6cd:function(t,e,n){var s=n("da84"),i=n("ce4e"),r="__core-js_shared__",o=s[r]||i(r,{});t.exports=o},c770:function(t,e,n){var s=n("e330"),i=s("".replace),r=function(t){return String(Error(t).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,a=o.test(r);t.exports=function(t,e){if(a&&"string"==typeof t)while(e--)t=i(t,o,"");return t}},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(s){"object"===typeof window&&(n=window)}t.exports=n},ca84:function(t,e,n){var s=n("e330"),i=n("1a2d"),r=n("fc6a"),o=n("4d64").indexOf,a=n("d012"),c=s([].push);t.exports=function(t,e){var n,s=r(t),u=0,l=[];for(n in s)!i(a,n)&&i(s,n)&&c(l,n);while(e.length>u)i(s,n=e[u++])&&(~o(l,n)||c(l,n));return l}},caad:function(t,e,n){"use strict";var s=n("23e7"),i=n("4d64").includes,r=n("44d2");s({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},cc12:function(t,e,n){var s=n("da84"),i=n("861d"),r=s.document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},cca6:function(t,e,n){var s=n("23e7"),i=n("60da");s({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cdf9:function(t,e,n){var s=n("825a"),i=n("861d"),r=n("f069");t.exports=function(t,e){if(s(t),i(e)&&e.constructor===t)return e;var n=r.f(t),o=n.resolve;return o(e),n.promise}},ce4e:function(t,e,n){var s=n("da84"),i=Object.defineProperty;t.exports=function(t,e){try{i(s,t,{value:e,configurable:!0,writable:!0})}catch(n){s[t]=e}return e}},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,n){var s=n("da84"),i=n("1626"),r=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?r(s[t]):s[t]&&s[t][e]}},d1e7:function(t,e,n){"use strict";var s={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!s.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:s},d28b:function(t,e,n){var s=n("746f");s("iterator")},d2bb:function(t,e,n){var s=n("e330"),i=n("825a"),r=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=s(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch(o){}return function(n,s){return i(n),r(s),e?t(n,s):n.__proto__=s,n}}():void 0)},d3b7:function(t,e,n){var s=n("00ee"),i=n("6eeb"),r=n("b041");s||i(Object.prototype,"toString",r,{unsafe:!0})},d44e:function(t,e,n){var s=n("9bf2").f,i=n("1a2d"),r=n("b622"),o=r("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,o)&&s(t,o,{configurable:!0,value:e})}},d4c3:function(t,e,n){var s=n("342f"),i=n("da84");t.exports=/ipad|iphone|ipod/i.test(s)&&void 0!==i.Pebble},d81d:function(t,e,n){"use strict";var s=n("23e7"),i=n("b727").map,r=n("1dde"),o=r("map");s({target:"Array",proto:!0,forced:!o},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},d9b5:function(t,e,n){var s=n("da84"),i=n("d066"),r=n("1626"),o=n("3a9b"),a=n("fdbf"),c=s.Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return r(e)&&o(e.prototype,c(t))}},d9e2:function(t,e,n){var s=n("23e7"),i=n("da84"),r=n("2ba4"),o=n("e5cb"),a="WebAssembly",c=i[a],u=7!==Error("e",{cause:7}).cause,l=function(t,e){var n={};n[t]=o(t,e,u),s({global:!0,forced:u},n)},h=function(t,e){if(c&&c[t]){var n={};n[t]=o(a+"."+t,e,u),s({target:a,stat:!0,forced:u},n)}};l("Error",(function(t){return function(e){return r(t,this,arguments)}})),l("EvalError",(function(t){return function(e){return r(t,this,arguments)}})),l("RangeError",(function(t){return function(e){return r(t,this,arguments)}})),l("ReferenceError",(function(t){return function(e){return r(t,this,arguments)}})),l("SyntaxError",(function(t){return function(e){return r(t,this,arguments)}})),l("TypeError",(function(t){return function(e){return r(t,this,arguments)}})),l("URIError",(function(t){return function(e){return r(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return r(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return r(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return r(t,this,arguments)}}))},da84:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dc4a:function(t,e,n){var s=n("59ed");t.exports=function(t,e){var n=t[e];return null==n?void 0:s(n)}},ddb0:function(t,e,n){var s=n("da84"),i=n("fdbc"),r=n("785a"),o=n("e260"),a=n("9112"),c=n("b622"),u=c("iterator"),l=c("toStringTag"),h=o.values,p=function(t,e){if(t){if(t[u]!==h)try{a(t,u,h)}catch(s){t[u]=h}if(t[l]||a(t,l,e),i[e])for(var n in o)if(t[n]!==o[n])try{a(t,n,o[n])}catch(s){t[n]=o[n]}}};for(var d in i)p(s[d]&&s[d].prototype,d);p(r,"DOMTokenList")},df75:function(t,e,n){var s=n("ca84"),i=n("7839");t.exports=Object.keys||function(t){return s(t,i)}},e01a:function(t,e,n){"use strict";var s=n("23e7"),i=n("83ab"),r=n("da84"),o=n("e330"),a=n("1a2d"),c=n("1626"),u=n("3a9b"),l=n("577e"),h=n("9bf2").f,p=n("e893"),d=r.Symbol,f=d&&d.prototype;if(i&&c(d)&&(!("description"in f)||void 0!==d().description)){var m={},_=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=u(f,this)?new d(t):void 0===t?d():d(t);return""===t&&(m[e]=!0),e};p(_,d),_.prototype=f,f.constructor=_;var g="Symbol(test)"==String(d("test")),v=o(f.toString),y=o(f.valueOf),b=/^Symbol\((.*)\)[^)]+$/,x=o("".replace),w=o("".slice);h(f,"description",{configurable:!0,get:function(){var t=y(this),e=v(t);if(a(m,t))return"";var n=g?w(e,7,-1):x(e,b,"$1");return""===n?void 0:n}}),s({global:!0,forced:!0},{Symbol:_})}},e163:function(t,e,n){var s=n("da84"),i=n("1a2d"),r=n("1626"),o=n("7b0b"),a=n("f772"),c=n("e177"),u=a("IE_PROTO"),l=s.Object,h=l.prototype;t.exports=c?l.getPrototypeOf:function(t){var e=o(t);if(i(e,u))return e[u];var n=e.constructor;return r(n)&&e instanceof n?n.prototype:e instanceof l?h:null}},e177:function(t,e,n){var s=n("d039");t.exports=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e260:function(t,e,n){"use strict";var s=n("fc6a"),i=n("44d2"),r=n("3f8c"),o=n("69f3"),a=n("9bf2").f,c=n("7dd0"),u=n("c430"),l=n("83ab"),h="Array Iterator",p=o.set,d=o.getterFor(h);t.exports=c(Array,"Array",(function(t,e){p(this,{type:h,target:s(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,n=t.kind,s=t.index++;return!e||s>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:s,done:!1}:"values"==n?{value:e[s],done:!1}:{value:[s,e[s]],done:!1}}),"values");var f=r.Arguments=r.Array;if(i("keys"),i("values"),i("entries"),!u&&l&&"values"!==f.name)try{a(f,"name",{value:"values"})}catch(m){}},e2cc:function(t,e,n){var s=n("6eeb");t.exports=function(t,e,n){for(var i in e)s(t,i,e[i],n);return t}},e330:function(t,e,n){var s=n("40d5"),i=Function.prototype,r=i.bind,o=i.call,a=s&&r.bind(o,o);t.exports=s?function(t){return t&&a(t)}:function(t){return t&&function(){return o.apply(t,arguments)}}},e391:function(t,e,n){var s=n("577e");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:s(t)}},e538:function(t,e,n){var s=n("b622");e.f=s},e5cb:function(t,e,n){"use strict";var s=n("d066"),i=n("1a2d"),r=n("9112"),o=n("3a9b"),a=n("d2bb"),c=n("e893"),u=n("7156"),l=n("e391"),h=n("ab36"),p=n("c770"),d=n("b980"),f=n("c430");t.exports=function(t,e,n,m){var _=m?2:1,g=t.split("."),v=g[g.length-1],y=s.apply(null,g);if(y){var b=y.prototype;if(!f&&i(b,"cause")&&delete b.cause,!n)return y;var x=s("Error"),w=e((function(t,e){var n=l(m?e:t,void 0),s=m?new y(t):new y;return void 0!==n&&r(s,"message",n),d&&r(s,"stack",p(s.stack,2)),this&&o(b,this)&&u(s,this,w),arguments.length>_&&h(s,arguments[_]),s}));if(w.prototype=b,"Error"!==v&&(a?a(w,x):c(w,x,{name:!0})),c(w,y),!f)try{b.name!==v&&r(b,"name",v),b.constructor=w}catch(T){}return w}}},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e6cf:function(t,e,n){"use strict";var s,i,r,o,a=n("23e7"),c=n("c430"),u=n("da84"),l=n("d066"),h=n("c65b"),p=n("fea9"),d=n("6eeb"),f=n("e2cc"),m=n("d2bb"),_=n("d44e"),g=n("2626"),v=n("59ed"),y=n("1626"),b=n("861d"),x=n("19aa"),w=n("8925"),T=n("2266"),S=n("1c7e"),O=n("4840"),k=n("2cf4").set,C=n("b575"),A=n("cdf9"),D=n("44de"),E=n("f069"),M=n("e667"),j=n("01b4"),R=n("69f3"),I=n("94ca"),q=n("b622"),F=n("6069"),P=n("605d"),V=n("2d00"),N=q("species"),L="Promise",z=R.getterFor(L),B=R.set,W=R.getterFor(L),G=p&&p.prototype,U=p,$=G,Q=u.TypeError,Y=u.document,X=u.process,H=E.f,Z=H,J=!!(Y&&Y.createEvent&&u.dispatchEvent),K=y(u.PromiseRejectionEvent),tt="unhandledrejection",et="rejectionhandled",nt=0,st=1,it=2,rt=1,ot=2,at=!1,ct=I(L,(function(){var t=w(U),e=t!==String(U);if(!e&&66===V)return!0;if(c&&!$["finally"])return!0;if(V>=51&&/native code/.test(t))return!1;var n=new U((function(t){t(1)})),s=function(t){t((function(){}),(function(){}))},i=n.constructor={};return i[N]=s,at=n.then((function(){}))instanceof s,!at||!e&&F&&!K})),ut=ct||!S((function(t){U.all(t)["catch"]((function(){}))})),lt=function(t){var e;return!(!b(t)||!y(e=t.then))&&e},ht=function(t,e){var n,s,i,r=e.value,o=e.state==st,a=o?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{a?(o||(e.rejection===ot&&_t(e),e.rejection=rt),!0===a?n=r:(l&&l.enter(),n=a(r),l&&(l.exit(),i=!0)),n===t.promise?u(Q("Promise-chain cycle")):(s=lt(n))?h(s,n,c,u):c(n)):u(r)}catch(p){l&&!i&&l.exit(),u(p)}},pt=function(t,e){t.notified||(t.notified=!0,C((function(){var n,s=t.reactions;while(n=s.get())ht(n,t);t.notified=!1,e&&!t.rejection&&ft(t)})))},dt=function(t,e,n){var s,i;J?(s=Y.createEvent("Event"),s.promise=e,s.reason=n,s.initEvent(t,!1,!0),u.dispatchEvent(s)):s={promise:e,reason:n},!K&&(i=u["on"+t])?i(s):t===tt&&D("Unhandled promise rejection",n)},ft=function(t){h(k,u,(function(){var e,n=t.facade,s=t.value,i=mt(t);if(i&&(e=M((function(){P?X.emit("unhandledRejection",s,n):dt(tt,n,s)})),t.rejection=P||mt(t)?ot:rt,e.error))throw e.value}))},mt=function(t){return t.rejection!==rt&&!t.parent},_t=function(t){h(k,u,(function(){var e=t.facade;P?X.emit("rejectionHandled",e):dt(et,e,t.value)}))},gt=function(t,e,n){return function(s){t(e,s,n)}},vt=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=it,pt(t,!0))},yt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Q("Promise can't be resolved itself");var s=lt(e);s?C((function(){var n={done:!1};try{h(s,e,gt(yt,n,t),gt(vt,n,t))}catch(i){vt(n,i,t)}})):(t.value=e,t.state=st,pt(t,!1))}catch(i){vt({done:!1},i,t)}}};if(ct&&(U=function(t){x(this,$),v(t),h(s,this);var e=z(this);try{t(gt(yt,e),gt(vt,e))}catch(n){vt(e,n)}},$=U.prototype,s=function(t){B(this,{type:L,done:!1,notified:!1,parent:!1,reactions:new j,rejection:!1,state:nt,value:void 0})},s.prototype=f($,{then:function(t,e){var n=W(this),s=H(O(this,U));return n.parent=!0,s.ok=!y(t)||t,s.fail=y(e)&&e,s.domain=P?X.domain:void 0,n.state==nt?n.reactions.add(s):C((function(){ht(s,n)})),s.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new s,e=z(t);this.promise=t,this.resolve=gt(yt,e),this.reject=gt(vt,e)},E.f=H=function(t){return t===U||t===r?new i(t):Z(t)},!c&&y(p)&&G!==Object.prototype)){o=G.then,at||(d(G,"then",(function(t,e){var n=this;return new U((function(t,e){h(o,n,t,e)})).then(t,e)}),{unsafe:!0}),d(G,"catch",$["catch"],{unsafe:!0}));try{delete G.constructor}catch(bt){}m&&m(G,$)}a({global:!0,wrap:!0,forced:ct},{Promise:U}),_(U,L,!1,!0),g(L),r=l(L),a({target:L,stat:!0,forced:ct},{reject:function(t){var e=H(this);return h(e.reject,void 0,t),e.promise}}),a({target:L,stat:!0,forced:c||ct},{resolve:function(t){return A(c&&this===r?U:this,t)}}),a({target:L,stat:!0,forced:ut},{all:function(t){var e=this,n=H(e),s=n.resolve,i=n.reject,r=M((function(){var n=v(e.resolve),r=[],o=0,a=1;T(t,(function(t){var c=o++,u=!1;a++,h(n,e,t).then((function(t){u||(u=!0,r[c]=t,--a||s(r))}),i)})),--a||s(r)}));return r.error&&i(r.value),n.promise},race:function(t){var e=this,n=H(e),s=n.reject,i=M((function(){var i=v(e.resolve);T(t,(function(t){h(i,e,t).then(n.resolve,s)}))}));return i.error&&s(i.value),n.promise}})},e893:function(t,e,n){var s=n("1a2d"),i=n("56ef"),r=n("06cf"),o=n("9bf2");t.exports=function(t,e,n){for(var a=i(e),c=o.f,u=r.f,l=0;l<a.length;l++){var h=a[l];s(t,h)||n&&s(n,h)||c(t,h,u(e,h))}}},e8b5:function(t,e,n){var s=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}},e95a:function(t,e,n){var s=n("b622"),i=n("3f8c"),r=s("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},f069:function(t,e,n){"use strict";var s=n("59ed"),i=function(t){var e,n;this.promise=new t((function(t,s){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=s})),this.resolve=s(e),this.reject=s(n)};t.exports.f=function(t){return new i(t)}},f36a:function(t,e,n){var s=n("e330");t.exports=s([].slice)},f5df:function(t,e,n){var s=n("da84"),i=n("00ee"),r=n("1626"),o=n("c6b6"),a=n("b622"),c=a("toStringTag"),u=s.Object,l="Arguments"==o(function(){return arguments}()),h=function(t,e){try{return t[e]}catch(n){}};t.exports=i?o:function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=h(e=u(t),c))?n:l?o(e):"Object"==(s=o(e))&&r(e.callee)?"Arguments":s}},f772:function(t,e,n){var s=n("5692"),i=n("90e3"),r=s("keys");t.exports=function(t){return r[t]||(r[t]=i(t))}},fb6a:function(t,e,n){"use strict";var s=n("23e7"),i=n("da84"),r=n("e8b5"),o=n("68ee"),a=n("861d"),c=n("23cb"),u=n("07fa"),l=n("fc6a"),h=n("8418"),p=n("b622"),d=n("1dde"),f=n("f36a"),m=d("slice"),_=p("species"),g=i.Array,v=Math.max;s({target:"Array",proto:!0,forced:!m},{slice:function(t,e){var n,s,i,p=l(this),d=u(p),m=c(t,d),y=c(void 0===e?d:e,d);if(r(p)&&(n=p.constructor,o(n)&&(n===g||r(n.prototype))?n=void 0:a(n)&&(n=n[_],null===n&&(n=void 0)),n===g||void 0===n))return f(p,m,y);for(s=new(void 0===n?g:n)(v(y-m,0)),i=0;m<y;m++,i++)m in p&&h(s,i,p[m]);return s.length=i,s}})},fc6a:function(t,e,n){var s=n("44ad"),i=n("1d80");t.exports=function(t){return s(i(t))}},fce3:function(t,e,n){var s=n("d039"),i=n("da84"),r=i.RegExp;t.exports=s((function(){var t=r(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,n){var s=n("4930");t.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(t,e,n){var s=n("da84");t.exports=s.Promise}}]);
//# sourceMappingURL=chunk-vendors.7f129d4c.js.map